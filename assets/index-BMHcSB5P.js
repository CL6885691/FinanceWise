import{r as e,a as t,g as n,b as r,i as o,c as i,d as l,e as a,s,f as u,o as c,h as d,u as p,j as f,k as h}from"./vendor-DPvq7irM.js";import{R as m,P as g,a as y,C as v,T as b,L as E,B as S,X as w,Y as _,b as C}from"./charts-CoI-3Blz.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var T={exports:{}},I={},A=Symbol.for("react.transitional.element"),O=Symbol.for("react.fragment");function k(e,t,n){var r=null;if(void 0!==n&&(r=""+n),void 0!==t.key&&(r=""+t.key),"key"in t)for(var o in n={},t)"key"!==o&&(n[o]=t[o]);else n=t;return t=n.ref,{$$typeof:A,type:e,key:r,ref:void 0!==t?t:null,props:n}}I.Fragment=O,I.jsx=k,I.jsxs=k,T.exports=I;var x=T.exports,N={exports:{}},P={},R={exports:{}},D={};
/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,l=i>>>1;r<l;){var a=2*(r+1)-1,s=e[a],u=a+1,c=e[u];if(0>o(s,n))u<i&&0>o(c,s)?(e[r]=c,e[u]=n,r=u):(e[r]=s,e[a]=n,r=a);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,a=l.now();e.unstable_now=function(){return l.now()-a}}var s=[],u=[],c=1,d=null,p=3,f=!1,h=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function E(e){for(var o=n(u);null!==o;){if(null===o.callback)r(u);else{if(!(o.startTime<=e))break;r(u),o.sortIndex=o.expirationTime,t(s,o)}o=n(u)}}function S(e){if(m=!1,E(e),!h)if(null!==n(s))h=!0,_||(_=!0,w());else{var t=n(u);null!==t&&N(S,t.startTime-e)}}var w,_=!1,C=-1,T=5,I=-1;function A(){return!!g||!(e.unstable_now()-I<T)}function O(){if(g=!1,_){var t=e.unstable_now();I=t;var o=!0;try{e:{h=!1,m&&(m=!1,v(C),C=-1),f=!0;var i=p;try{t:{for(E(t),d=n(s);null!==d&&!(d.expirationTime>t&&A());){var l=d.callback;if("function"==typeof l){d.callback=null,p=d.priorityLevel;var a=l(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof a){d.callback=a,E(t),o=!0;break t}d===n(s)&&r(s),E(t)}else r(s);d=n(s)}if(null!==d)o=!0;else{var c=n(u);null!==c&&N(S,c.startTime-t),o=!1}}break e}finally{d=null,p=i,f=!1}o=void 0}}finally{o?w():_=!1}}}if("function"==typeof b)w=function(){b(O)};else if("undefined"!=typeof MessageChannel){var k=new MessageChannel,x=k.port2;k.port1.onmessage=O,w=function(){x.postMessage(null)}}else w=function(){y(O,0)};function N(t,n){C=y(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_scheduleCallback=function(r,o,i){var l=e.unstable_now();switch("object"==typeof i&&null!==i?i="number"==typeof(i=i.delay)&&0<i?l+i:l:i=l,r){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return r={id:c++,callback:o,priorityLevel:r,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>l?(r.sortIndex=i,t(u,r),null===n(s)&&r===n(u)&&(m?(v(C),C=-1):m=!0,N(S,i-l))):(r.sortIndex=a,t(s,r),h||f||(h=!0,_||(_=!0,w()))),r},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}}(D),R.exports=D;var M=R.exports,L=e,U=t;
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function j(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function F(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function q(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function G(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function H(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function z(e){if(q(e)!==e)throw Error(j(188))}function V(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=V(e)))return t;e=e.sibling}return null}var B=Object.assign,$=Symbol.for("react.element"),J=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function se(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=ae&&e[ae]||e["@@iterator"])?e:null}var ue=Symbol.for("react.client.reference");function ce(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===ue?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Y:return"Fragment";case Q:return"Profiler";case K:return"StrictMode";case te:return"Suspense";case ne:return"SuspenseList";case ie:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case W:return"Portal";case Z:return e.displayName||"Context";case X:return(e._context.displayName||"Context")+".Consumer";case ee:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case re:return null!==(t=e.displayName||null)?t:ce(e.type)||"Memo";case oe:t=e._payload,e=e._init;try{return ce(e(t))}catch(n){}}return null}var de=Array.isArray,pe=L.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=U.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},me=[],ge=-1;function ye(e){return{current:e}}function ve(e){0>ge||(e.current=me[ge],me[ge]=null,ge--)}function be(e,t){ge++,me[ge]=e.current,e.current=t}var Ee,Se,we=ye(null),_e=ye(null),Ce=ye(null),Te=ye(null);function Ie(e,t){switch(be(Ce,t),be(_e,e),be(we,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Yd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=Kd(t=Yd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ve(we),be(we,e)}function Ae(){ve(we),ve(_e),ve(Ce)}function Oe(e){null!==e.memoizedState&&be(Te,e);var t=we.current,n=Kd(t,e.type);t!==n&&(be(_e,e),be(we,n))}function ke(e){_e.current===e&&(ve(we),ve(_e)),Te.current===e&&(ve(Te),Hp._currentValue=he)}function xe(e){if(void 0===Ee)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ee=t&&t[1]||"",Se=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ee+e+Se}var Ne=!1;function Pe(e,t){if(!e||Ne)return"";Ne=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var r=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(l){r=l}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"==typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),l=i[0],a=i[1];if(l&&a){var s=l.split("\n"),u=a.split("\n");for(o=r=0;r<s.length&&!s[r].includes("DetermineComponentFrameRoot");)r++;for(;o<u.length&&!u[o].includes("DetermineComponentFrameRoot");)o++;if(r===s.length||o===u.length)for(r=s.length-1,o=u.length-1;1<=r&&0<=o&&s[r]!==u[o];)o--;for(;1<=r&&0<=o;r--,o--)if(s[r]!==u[o]){if(1!==r||1!==o)do{if(r--,0>--o||s[r]!==u[o]){var c="\n"+s[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=o);break}}}finally{Ne=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?xe(n):""}function Re(e,t){switch(e.tag){case 26:case 27:case 5:return xe(e.type);case 16:return xe("Lazy");case 13:return e.child!==t&&null!==t?xe("Suspense Fallback"):xe("Suspense");case 19:return xe("SuspenseList");case 0:case 15:return Pe(e.type,!1);case 11:return Pe(e.type.render,!1);case 1:return Pe(e.type,!0);case 31:return xe("Activity");default:return""}}function De(e){try{var t="",n=null;do{t+=Re(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var Me=Object.prototype.hasOwnProperty,Le=M.unstable_scheduleCallback,Ue=M.unstable_cancelCallback,je=M.unstable_shouldYield,Fe=M.unstable_requestPaint,qe=M.unstable_now,Ge=M.unstable_getCurrentPriorityLevel,He=M.unstable_ImmediatePriority,ze=M.unstable_UserBlockingPriority,Ve=M.unstable_NormalPriority,Be=M.unstable_LowPriority,$e=M.unstable_IdlePriority,Je=M.log,We=M.unstable_setDisableYieldValue,Ye=null,Ke=null;function Qe(e){if("function"==typeof Je&&We(e),Ke&&"function"==typeof Ke.setStrictMode)try{Ke.setStrictMode(Ye,e)}catch(t){}}var Xe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Ze(e)/et|0)|0},Ze=Math.log,et=Math.LN2;var tt=256,nt=262144,rt=4194304;function ot(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function it(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,i=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~i)?o=ot(r):0!==(l&=a)?o=ot(l):n||0!==(n=a&~e)&&(o=ot(n)):0!==(a=r&~i)?o=ot(a):0!==l?o=ot(l):n||0!==(n=r&~e)&&(o=ot(n)),0===o?0:0!==t&&t!==o&&0===(t&i)&&((i=o&-o)>=(n=t&-t)||32===i&&4194048&n)?t:o}function lt(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function at(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function st(){var e=rt;return!(62914560&(rt<<=1))&&(rt=4194304),e}function ut(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ct(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function dt(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Xe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function pt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Xe(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function ft(e,t){var n=t&-t;return 0!==((n=42&n?1:ht(n))&(e.suspendedLanes|t))?0:n}function ht(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function mt(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function gt(){var e=fe.p;return 0!==e?e:void 0===(e=window.event)?32:of(e.type)}function yt(e,t){var n=fe.p;try{return fe.p=e,t()}finally{fe.p=n}}var vt=Math.random().toString(36).slice(2),bt="__reactFiber$"+vt,Et="__reactProps$"+vt,St="__reactContainer$"+vt,wt="__reactEvents$"+vt,_t="__reactListeners$"+vt,Ct="__reactHandles$"+vt,Tt="__reactResources$"+vt,It="__reactMarker$"+vt;function At(e){delete e[bt],delete e[Et],delete e[wt],delete e[_t],delete e[Ct]}function Ot(e){var t=e[bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[St]||n[bt]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=hp(e);null!==e;){if(n=e[bt])return n;e=hp(e)}return t}n=(e=n).parentNode}return null}function kt(e){if(e=e[bt]||e[St]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function xt(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(j(33))}function Nt(e){var t=e[Tt];return t||(t=e[Tt]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Pt(e){e[It]=!0}var Rt=new Set,Dt={};function Mt(e,t){Lt(e,t),Lt(e+"Capture",t)}function Lt(e,t){for(Dt[e]=t,e=0;e<t.length;e++)Rt.add(t[e])}var Ut=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jt={},Ft={};function qt(e,t,n){if(o=t,Me.call(Ft,o)||!Me.call(jt,o)&&(Ut.test(o)?Ft[o]=!0:(jt[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function Gt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function Ht(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Vt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Bt(e){if(!e._valueTracker){var t=Vt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function $t(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Vt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Jt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var Wt=/[\n"\\]/g;function Yt(e){return e.replace(Wt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Kt(e,t,n,r,o,i,l,a){e.name="",null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l?e.type=l:e.removeAttribute("type"),null!=t?"number"===l?(0===t&&""===e.value||e.value!=t)&&(e.value=""+zt(t)):e.value!==""+zt(t)&&(e.value=""+zt(t)):"submit"!==l&&"reset"!==l||e.removeAttribute("value"),null!=t?Xt(e,l,zt(t)):null!=n?Xt(e,l,zt(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=i&&(e.defaultChecked=!!i),null!=o&&(e.checked=o&&"function"!=typeof o&&"symbol"!=typeof o),null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.name=""+zt(a):e.removeAttribute("name")}function Qt(e,t,n,r,o,i,l,a){if(null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.type=i),null!=t||null!=n){if(("submit"===i||"reset"===i)&&null==t)return void Bt(e);n=null!=n?""+zt(n):"",t=null!=t?""+zt(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:o)&&"symbol"!=typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l&&(e.name=l),Bt(e)}function Xt(e,t,n){"number"===t&&Jt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Zt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+zt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function en(e,t,n){null==t||((t=""+zt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+zt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function tn(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(j(92));if(de(r)){if(1<r.length)throw Error(j(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=zt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),Bt(e)}function nn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var rn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function on(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||rn.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function ln(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(j(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&on(e,o,r)}else for(var i in t)t.hasOwnProperty(i)&&on(e,i,t[i])}function an(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),un=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cn(e){return un.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function dn(){}var pn=null;function fn(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var hn=null,mn=null;function gn(e){var t=kt(e);if(t&&(e=t.stateNode)){var n=e[Et]||null;e:switch(e=t.stateNode,t.type){case"input":if(Kt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[Et]||null;if(!o)throw Error(j(90));Kt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&$t(r)}break e;case"textarea":en(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&Zt(e,!!n.multiple,t,!1)}}}var yn=!1;function vn(e,t,n){if(yn)return e(t,n);yn=!0;try{return e(t)}finally{if(yn=!1,(null!==hn||null!==mn)&&(Nc(),hn&&(t=hn,e=mn,mn=hn=null,gn(t),e)))for(t=0;t<e.length;t++)gn(e[t])}}function bn(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Et]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(j(231,t,typeof n));return n}var En=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Sn=!1;if(En)try{var wn={};Object.defineProperty(wn,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",wn,wn),window.removeEventListener("test",wn,wn)}catch(nS){Sn=!1}var _n=null,Cn=null,Tn=null;function In(){if(Tn)return Tn;var e,t,n=Cn,r=n.length,o="value"in _n?_n.value:_n.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===o[i-t];t++);return Tn=o.slice(e,1<t?1-t:void 0)}function An(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function On(){return!0}function kn(){return!1}function xn(e){function t(t,n,r,o,i){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(o):o[l]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?On:kn,this.isPropagationStopped=kn,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=On)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=On)},persist:function(){},isPersistent:On}),t}var Nn,Pn,Rn,Dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mn=xn(Dn),Ln=B({},Dn,{view:0,detail:0}),Un=xn(Ln),jn=B({},Ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rn&&(Rn&&"mousemove"===e.type?(Nn=e.screenX-Rn.screenX,Pn=e.screenY-Rn.screenY):Pn=Nn=0,Rn=e),Nn)},movementY:function(e){return"movementY"in e?e.movementY:Pn}}),Fn=xn(jn),qn=xn(B({},jn,{dataTransfer:0})),Gn=xn(B({},Ln,{relatedTarget:0})),Hn=xn(B({},Dn,{animationName:0,elapsedTime:0,pseudoElement:0})),zn=xn(B({},Dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),Vn=xn(B({},Dn,{data:0})),Bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Jn[e])&&!!t[e]}function Yn(){return Wn}var Kn=xn(B({},Ln,{key:function(e){if(e.key){var t=Bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=An(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?$n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yn,charCode:function(e){return"keypress"===e.type?An(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?An(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Qn=xn(B({},jn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Xn=xn(B({},Ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yn})),Zn=xn(B({},Dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),er=xn(B({},jn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),tr=xn(B({},Dn,{newState:0,oldState:0})),nr=[9,13,27,32],rr=En&&"CompositionEvent"in window,or=null;En&&"documentMode"in document&&(or=document.documentMode);var ir=En&&"TextEvent"in window&&!or,lr=En&&(!rr||or&&8<or&&11>=or),ar=String.fromCharCode(32),sr=!1;function ur(e,t){switch(e){case"keyup":return-1!==nr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var dr=!1;var pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!pr[e.type]:"textarea"===t}function hr(e,t,n,r){hn?mn?mn.push(r):mn=[r]:hn=r,0<(t=Md(t,"onChange")).length&&(n=new Mn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var mr=null,gr=null;function yr(e){Ad(e,0)}function vr(e){if($t(xt(e)))return e}function br(e,t){if("change"===e)return t}var Er=!1;if(En){var Sr;if(En){var wr="oninput"in document;if(!wr){var _r=document.createElement("div");_r.setAttribute("oninput","return;"),wr="function"==typeof _r.oninput}Sr=wr}else Sr=!1;Er=Sr&&(!document.documentMode||9<document.documentMode)}function Cr(){mr&&(mr.detachEvent("onpropertychange",Tr),gr=mr=null)}function Tr(e){if("value"===e.propertyName&&vr(gr)){var t=[];hr(t,gr,e,fn(e)),vn(yr,t)}}function Ir(e,t,n){"focusin"===e?(Cr(),gr=n,(mr=t).attachEvent("onpropertychange",Tr)):"focusout"===e&&Cr()}function Ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return vr(gr)}function Or(e,t){if("click"===e)return vr(t)}function kr(e,t){if("input"===e||"change"===e)return vr(t)}var xr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Nr(e,t){if(xr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Me.call(t,o)||!xr(e[o],t[o]))return!1}return!0}function Pr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rr(e,t){var n,r=Pr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Pr(r)}}function Dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Mr(e){for(var t=Jt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Jt((e=t.contentWindow).document)}return t}function Lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Ur=En&&"documentMode"in document&&11>=document.documentMode,jr=null,Fr=null,qr=null,Gr=!1;function Hr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Gr||null==jr||jr!==Jt(r)||("selectionStart"in(r=jr)&&Lr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},qr&&Nr(qr,r)||(qr=r,0<(r=Md(Fr,"onSelect")).length&&(t=new Mn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=jr)))}function zr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vr={animationend:zr("Animation","AnimationEnd"),animationiteration:zr("Animation","AnimationIteration"),animationstart:zr("Animation","AnimationStart"),transitionrun:zr("Transition","TransitionRun"),transitionstart:zr("Transition","TransitionStart"),transitioncancel:zr("Transition","TransitionCancel"),transitionend:zr("Transition","TransitionEnd")},Br={},$r={};function Jr(e){if(Br[e])return Br[e];if(!Vr[e])return e;var t,n=Vr[e];for(t in n)if(n.hasOwnProperty(t)&&t in $r)return Br[e]=n[t];return e}En&&($r=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);var Wr=Jr("animationend"),Yr=Jr("animationiteration"),Kr=Jr("animationstart"),Qr=Jr("transitionrun"),Xr=Jr("transitionstart"),Zr=Jr("transitioncancel"),eo=Jr("transitionend"),to=new Map,no="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ro(e,t){to.set(e,t),Mt(t,[e])}no.push("scrollEnd");var oo="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},io=[],lo=0,ao=0;function so(){for(var e=lo,t=ao=lo=0;t<e;){var n=io[t];io[t++]=null;var r=io[t];io[t++]=null;var o=io[t];io[t++]=null;var i=io[t];if(io[t++]=null,null!==r&&null!==o){var l=r.pending;null===l?o.next=o:(o.next=l.next,l.next=o),r.pending=o}0!==i&&fo(n,o,i)}}function uo(e,t,n,r){io[lo++]=e,io[lo++]=t,io[lo++]=n,io[lo++]=r,ao|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function co(e,t,n,r){return uo(e,t,n,r),ho(e)}function po(e,t){return uo(e,null,null,t),ho(e)}function fo(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(o=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,o&&null!==t&&(o=31-Xe(n),null===(r=(e=i.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),i):null}function ho(e){if(50<wc)throw wc=0,_c=null,Error(j(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var mo={};function go(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yo(e,t,n,r){return new go(e,t,n,r)}function vo(e){return!(!(e=e.prototype)||!e.isReactComponent)}function bo(e,t){var n=e.alternate;return null===n?((n=yo(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Eo(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function So(e,t,n,r,o,i){var l=0;if(r=e,"function"==typeof e)vo(e)&&(l=1);else if("string"==typeof e)l=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,we.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case ie:return(e=yo(31,n,t,o)).elementType=ie,e.lanes=i,e;case Y:return wo(n.children,o,i,t);case K:l=8,o|=24;break;case Q:return(e=yo(12,n,t,2|o)).elementType=Q,e.lanes=i,e;case te:return(e=yo(13,n,t,o)).elementType=te,e.lanes=i,e;case ne:return(e=yo(19,n,t,o)).elementType=ne,e.lanes=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Z:l=10;break e;case X:l=9;break e;case ee:l=11;break e;case re:l=14;break e;case oe:l=16,r=null;break e}l=29,n=Error(j(130,null===e?"null":typeof e,"")),r=null}return(t=yo(l,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function wo(e,t,n,r){return(e=yo(7,e,r,t)).lanes=n,e}function _o(e,t,n){return(e=yo(6,e,null,t)).lanes=n,e}function Co(e){var t=yo(18,null,null,0);return t.stateNode=e,t}function To(e,t,n){return(t=yo(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Io=new WeakMap;function Ao(e,t){if("object"==typeof e&&null!==e){var n=Io.get(e);return void 0!==n?n:(t={value:e,source:t,stack:De(t)},Io.set(e,t),t)}return{value:e,source:t,stack:De(t)}}var Oo=[],ko=0,xo=null,No=0,Po=[],Ro=0,Do=null,Mo=1,Lo="";function Uo(e,t){Oo[ko++]=No,Oo[ko++]=xo,xo=e,No=t}function jo(e,t,n){Po[Ro++]=Mo,Po[Ro++]=Lo,Po[Ro++]=Do,Do=e;var r=Mo;e=Lo;var o=32-Xe(r)-1;r&=~(1<<o),n+=1;var i=32-Xe(t)+o;if(30<i){var l=o-o%5;i=(r&(1<<l)-1).toString(32),r>>=l,o-=l,Mo=1<<32-Xe(t)+o|n<<o|r,Lo=i+e}else Mo=1<<i|n<<o|r,Lo=e}function Fo(e){null!==e.return&&(Uo(e,1),jo(e,1,0))}function qo(e){for(;e===xo;)xo=Oo[--ko],Oo[ko]=null,No=Oo[--ko],Oo[ko]=null;for(;e===Do;)Do=Po[--Ro],Po[Ro]=null,Lo=Po[--Ro],Po[Ro]=null,Mo=Po[--Ro],Po[Ro]=null}function Go(e,t){Po[Ro++]=Mo,Po[Ro++]=Lo,Po[Ro++]=Do,Mo=t.id,Lo=t.overflow,Do=e}var Ho=null,zo=null,Vo=!1,Bo=null,$o=!1,Jo=Error(j(519));function Wo(e){throw ei(Ao(Error(j(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),Jo}function Yo(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[bt]=e,t[Et]=r,n){case"dialog":Od("cancel",t),Od("close",t);break;case"iframe":case"object":case"embed":Od("load",t);break;case"video":case"audio":for(n=0;n<Td.length;n++)Od(Td[n],t);break;case"source":Od("error",t);break;case"img":case"image":case"link":Od("error",t),Od("load",t);break;case"details":Od("toggle",t);break;case"input":Od("invalid",t),Qt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Od("invalid",t);break;case"textarea":Od("invalid",t),tn(t,r.value,r.defaultValue,r.children)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Gd(t.textContent,n)?(null!=r.popover&&(Od("beforetoggle",t),Od("toggle",t)),null!=r.onScroll&&Od("scroll",t),null!=r.onScrollEnd&&Od("scrollend",t),null!=r.onClick&&(t.onclick=dn),t=!0):t=!1,t||Wo(e,!0)}function Ko(e){for(Ho=e.return;Ho;)switch(Ho.tag){case 5:case 31:case 13:return void($o=!1);case 27:case 3:return void($o=!0);default:Ho=Ho.return}}function Qo(e){if(e!==Ho)return!1;if(!Vo)return Ko(e),Vo=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Qd(e.type,e.memoizedProps)),t=!t),t&&zo&&Wo(e),Ko(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(j(317));zo=fp(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(j(317));zo=fp(e)}else 27===n?(n=zo,op(e.type)?(e=pp,pp=null,zo=e):zo=n):zo=Ho?dp(e.stateNode.nextSibling):null;return!0}function Xo(){zo=Ho=null,Vo=!1}function Zo(){var e=Bo;return null!==e&&(null===sc?sc=e:sc.push.apply(sc,e),Bo=null),e}function ei(e){null===Bo?Bo=[e]:Bo.push(e)}var ti=ye(null),ni=null,ri=null;function oi(e,t,n){be(ti,t._currentValue),t._currentValue=n}function ii(e){e._currentValue=ti.current,ve(ti)}function li(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ai(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var i=o.dependencies;if(null!==i){var l=o.child;i=i.firstContext;e:for(;null!==i;){var a=i;i=o;for(var s=0;s<t.length;s++)if(a.context===t[s]){i.lanes|=n,null!==(a=i.alternate)&&(a.lanes|=n),li(i.return,n,e),r||(l=null);break e}i=a.next}}else if(18===o.tag){if(null===(l=o.return))throw Error(j(341));l.lanes|=n,null!==(i=l.alternate)&&(i.lanes|=n),li(l,n,e),l=null}else l=o.child;if(null!==l)l.return=o;else for(l=o;null!==l;){if(l===e){l=null;break}if(null!==(o=l.sibling)){o.return=l.return,l=o;break}l=l.return}o=l}}function si(e,t,n,r){e=null;for(var o=t,i=!1;null!==o;){if(!i)if(524288&o.flags)i=!0;else if(262144&o.flags)break;if(10===o.tag){var l=o.alternate;if(null===l)throw Error(j(387));if(null!==(l=l.memoizedProps)){var a=o.type;xr(o.pendingProps.value,l.value)||(null!==e?e.push(a):e=[a])}}else if(o===Te.current){if(null===(l=o.alternate))throw Error(j(387));l.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(Hp):e=[Hp])}o=o.return}null!==e&&ai(t,e,n,r),t.flags|=262144}function ui(e){for(e=e.firstContext;null!==e;){if(!xr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ci(e){ni=e,ri=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function di(e){return fi(ni,e)}function pi(e,t){return null===ni&&ci(e),fi(e,t)}function fi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ri){if(null===e)throw Error(j(308));ri=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ri=ri.next=t;return n}var hi="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},mi=M.unstable_scheduleCallback,gi=M.unstable_NormalPriority,yi={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vi(){return{controller:new hi,data:new Map,refCount:0}}function bi(e){e.refCount--,0===e.refCount&&mi(gi,function(){e.controller.abort()})}var Ei=null,Si=0,wi=0,_i=null;function Ci(){if(0===--Si&&null!==Ei){null!==_i&&(_i.status="fulfilled");var e=Ei;Ei=null,wi=0,_i=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ti=pe.S;pe.S=function(e,t){dc=qe(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Ei){var n=Ei=[];Si=0,wi=Ed(),_i={status:"pending",value:void 0,then:function(e){n.push(e)}}}Si++,t.then(Ci,Ci)}(0,t),null!==Ti&&Ti(e,t)};var Ii=ye(null);function Ai(){var e=Ii.current;return null!==e?e:$u.pooledCache}function Oi(e,t){be(Ii,null===t?Ii.current:t.pool)}function ki(){var e=Ai();return null===e?null:{parent:yi._currentValue,pool:e}}var xi=Error(j(460)),Ni=Error(j(474)),Pi=Error(j(542)),Ri={then:function(){}};function Di(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Mi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(dn,dn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw Fi(e=t.reason),e;default:if("string"==typeof t.status)t.then(dn,dn);else{if(null!==(e=$u)&&100<e.shellSuspendCounter)throw Error(j(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw Fi(e=t.reason),e}throw Ui=t,xi}}function Li(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"==typeof t&&"function"==typeof t.then)throw Ui=t,xi;throw t}}var Ui=null;function ji(){if(null===Ui)throw Error(j(459));var e=Ui;return Ui=null,e}function Fi(e){if(e===xi||e===Pi)throw Error(j(483))}var qi=null,Gi=0;function Hi(e){var t=Gi;return Gi+=1,null===qi&&(qi=[]),Mi(qi,e,t)}function zi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Vi(e,t){if(t.$$typeof===$)throw Error(j(525));throw e=Object.prototype.toString.call(t),Error(j(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=bo(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function a(e,t,n,r){return null===t||6!==t.tag?((t=_o(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function s(e,t,n,r){var i=n.type;return i===Y?c(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===oe&&Li(i)===t.type)?(zi(t=o(t,n.props),n),t.return=e,t):(zi(t=So(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=To(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function c(e,t,n,r,i){return null===t||7!==t.tag?((t=wo(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=_o(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case J:return zi(n=So(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case W:return(t=To(t,e.mode,n)).return=e,t;case oe:return d(e,t=Li(t),n)}if(de(t)||se(t))return(t=wo(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return d(e,Hi(t),n);if(t.$$typeof===Z)return d(e,pi(e,t),n);Vi(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==o?null:a(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case J:return n.key===o?s(e,t,n,r):null;case W:return n.key===o?u(e,t,n,r):null;case oe:return p(e,t,n=Li(n),r)}if(de(n)||se(n))return null!==o?null:c(e,t,n,r,null);if("function"==typeof n.then)return p(e,t,Hi(n),r);if(n.$$typeof===Z)return p(e,t,pi(e,n),r);Vi(e,n)}return null}function f(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return a(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case J:return s(t,e=e.get(null===r.key?n:r.key)||null,r,o);case W:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case oe:return f(e,t,n,r=Li(r),o)}if(de(r)||se(r))return c(t,e=e.get(n)||null,r,o,null);if("function"==typeof r.then)return f(e,t,n,Hi(r),o);if(r.$$typeof===Z)return f(e,t,n,pi(t,r),o);Vi(t,r)}return null}function h(a,s,u,c){if("object"==typeof u&&null!==u&&u.type===Y&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case J:e:{for(var m=u.key;null!==s;){if(s.key===m){if((m=u.type)===Y){if(7===s.tag){n(a,s.sibling),(c=o(s,u.props.children)).return=a,a=c;break e}}else if(s.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===oe&&Li(m)===s.type){n(a,s.sibling),zi(c=o(s,u.props),u),c.return=a,a=c;break e}n(a,s);break}t(a,s),s=s.sibling}u.type===Y?((c=wo(u.props.children,a.mode,c,u.key)).return=a,a=c):(zi(c=So(u.type,u.key,u.props,null,a.mode,c),u),c.return=a,a=c)}return l(a);case W:e:{for(m=u.key;null!==s;){if(s.key===m){if(4===s.tag&&s.stateNode.containerInfo===u.containerInfo&&s.stateNode.implementation===u.implementation){n(a,s.sibling),(c=o(s,u.children||[])).return=a,a=c;break e}n(a,s);break}t(a,s),s=s.sibling}(c=To(u,a.mode,c)).return=a,a=c}return l(a);case oe:return h(a,s,u=Li(u),c)}if(de(u))return function(o,l,a,s){for(var u=null,c=null,h=l,m=l=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=p(o,h,a[m],s);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(o,h),l=i(y,l,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===a.length)return n(o,h),Vo&&Uo(o,m),u;if(null===h){for(;m<a.length;m++)null!==(h=d(o,a[m],s))&&(l=i(h,l,m),null===c?u=h:c.sibling=h,c=h);return Vo&&Uo(o,m),u}for(h=r(h);m<a.length;m++)null!==(g=f(h,o,m,a[m],s))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),l=i(g,l,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach(function(e){return t(o,e)}),Vo&&Uo(o,m),u}(a,s,u,c);if(se(u)){if("function"!=typeof(m=se(u)))throw Error(j(150));return function(o,l,a,s){if(null==a)throw Error(j(151));for(var u=null,c=null,h=l,m=l=0,g=null,y=a.next();null!==h&&!y.done;m++,y=a.next()){h.index>m?(g=h,h=null):g=h.sibling;var v=p(o,h,y.value,s);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(o,h),l=i(v,l,m),null===c?u=v:c.sibling=v,c=v,h=g}if(y.done)return n(o,h),Vo&&Uo(o,m),u;if(null===h){for(;!y.done;m++,y=a.next())null!==(y=d(o,y.value,s))&&(l=i(y,l,m),null===c?u=y:c.sibling=y,c=y);return Vo&&Uo(o,m),u}for(h=r(h);!y.done;m++,y=a.next())null!==(y=f(h,o,m,y.value,s))&&(e&&null!==y.alternate&&h.delete(null===y.key?m:y.key),l=i(y,l,m),null===c?u=y:c.sibling=y,c=y);return e&&h.forEach(function(e){return t(o,e)}),Vo&&Uo(o,m),u}(a,s,u=m.call(u),c)}if("function"==typeof u.then)return h(a,s,Hi(u),c);if(u.$$typeof===Z)return h(a,s,pi(a,u),c);Vi(a,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==s&&6===s.tag?(n(a,s.sibling),(c=o(s,u)).return=a,a=c):(n(a,s),(c=_o(u,a.mode,c)).return=a,a=c),l(a)):n(a,s)}return function(e,t,n,r){try{Gi=0;var o=h(e,t,n,r);return qi=null,o}catch(l){if(l===xi||l===Pi)throw l;var i=yo(29,l,null,e.mode);return i.lanes=r,i.return=e,i}}}var $i=Bi(!0),Ji=Bi(!1),Wi=!1;function Yi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ki(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Qi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Xi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Bu){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=ho(e),fo(e,null,n),t}return uo(e,r,t,n),ho(e)}function Zi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,pt(e,n)}}function el(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?o=i=l:i=i.next=l,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var tl=!1;function nl(){if(tl){if(null!==_i)throw _i}}function rl(e,t,n,r){tl=!1;var o=e.updateQueue;Wi=!1;var i=o.firstBaseUpdate,l=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var s=a,u=s.next;s.next=null,null===l?i=u:l.next=u,l=s;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==l&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=s))}if(null!==i){var d=o.baseState;for(l=0,c=u=s=null,a=i;;){var p=-536870913&a.lane,f=p!==a.lane;if(f?(Wu&p)===p:(r&p)===p){0!==p&&p===wi&&(tl=!0),null!==c&&(c=c.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var h=e,m=a;p=t;var g=n;switch(m.tag){case 1:if("function"==typeof(h=m.payload)){d=h.call(g,d,p);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(p="function"==typeof(h=m.payload)?h.call(g,d,p):h))break e;d=B({},d,p);break e;case 2:Wi=!0}}null!==(p=a.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=o.callbacks)?o.callbacks=[p]:f.push(p))}else f={lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,s=d):c=c.next=f,l|=p;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(f=a).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}null===c&&(s=d),o.baseState=s,o.firstBaseUpdate=u,o.lastBaseUpdate=c,null===i&&(o.shared.lanes=0),nc|=l,e.lanes=l,e.memoizedState=d}}function ol(e,t){if("function"!=typeof e)throw Error(j(191,e));e.call(t)}function il(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ol(n[e],t)}var ll=ye(null),al=ye(0);function sl(e,t){be(al,e=ec),be(ll,t),ec=e|t.baseLanes}function ul(){be(al,ec),be(ll,ll.current)}function cl(){ec=al.current,ve(ll),ve(al)}var dl=ye(null),pl=null;function fl(e){var t=e.alternate;be(vl,1&vl.current),be(dl,e),null===pl&&(null===t||null!==ll.current||null!==t.memoizedState)&&(pl=e)}function hl(e){be(vl,vl.current),be(dl,e),null===pl&&(pl=e)}function ml(e){22===e.tag?(be(vl,vl.current),be(dl,e),null===pl&&(pl=e)):gl()}function gl(){be(vl,vl.current),be(dl,dl.current)}function yl(e){ve(dl),pl===e&&(pl=null),ve(vl)}var vl=ye(0);function bl(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||up(n)||cp(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var El=0,Sl=null,wl=null,_l=null,Cl=!1,Tl=!1,Il=!1,Al=0,Ol=0,kl=null,xl=0;function Nl(){throw Error(j(321))}function Pl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xr(e[n],t[n]))return!1;return!0}function Rl(e,t,n,r,o,i){return El=i,Sl=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pe.H=null===e||null===e.memoizedState?Wa:Ya,Il=!1,i=n(r,o),Il=!1,Tl&&(i=Ml(t,n,r,o)),Dl(e),i}function Dl(e){pe.H=Ja;var t=null!==wl&&null!==wl.next;if(El=0,_l=wl=Sl=null,Cl=!1,Ol=0,kl=null,t)throw Error(j(300));null===e||ds||null!==(e=e.dependencies)&&ui(e)&&(ds=!0)}function Ml(e,t,n,r){Sl=e;var o=0;do{if(Tl&&(kl=null),Ol=0,Tl=!1,25<=o)throw Error(j(301));if(o+=1,_l=wl=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}pe.H=Ka,i=t(n,r)}while(Tl);return i}function Ll(){var e=pe.H,t=e.useState()[0];return t="function"==typeof t.then?Hl(t):t,e=e.useState()[0],(null!==wl?wl.memoizedState:null)!==e&&(Sl.flags|=1024),t}function Ul(){var e=0!==Al;return Al=0,e}function jl(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fl(e){if(Cl){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Cl=!1}El=0,_l=wl=Sl=null,Tl=!1,Ol=Al=0,kl=null}function ql(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===_l?Sl.memoizedState=_l=e:_l=_l.next=e,_l}function Gl(){if(null===wl){var e=Sl.alternate;e=null!==e?e.memoizedState:null}else e=wl.next;var t=null===_l?Sl.memoizedState:_l.next;if(null!==t)_l=t,wl=e;else{if(null===e){if(null===Sl.alternate)throw Error(j(467));throw Error(j(310))}e={memoizedState:(wl=e).memoizedState,baseState:wl.baseState,baseQueue:wl.baseQueue,queue:wl.queue,next:null},null===_l?Sl.memoizedState=_l=e:_l=_l.next=e}return _l}function Hl(e){var t=Ol;return Ol+=1,null===kl&&(kl=[]),e=Mi(kl,e,t),t=Sl,null===(null===_l?t.memoizedState:_l.next)&&(t=t.alternate,pe.H=null===t||null===t.memoizedState?Wa:Ya),e}function zl(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Hl(e);if(e.$$typeof===Z)return di(e)}throw Error(j(438,String(e)))}function Vl(e){var t=null,n=Sl.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Sl.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Sl.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=le;return t.index++,n}function Bl(e,t){return"function"==typeof t?t(e):t}function $l(e){return Jl(Gl(),wl,e)}function Jl(e,t,n){var r=e.queue;if(null===r)throw Error(j(311));r.lastRenderedReducer=n;var o=e.baseQueue,i=r.pending;if(null!==i){if(null!==o){var l=o.next;o.next=i.next,i.next=l}t.baseQueue=o=i,r.pending=null}if(i=e.baseState,null===o)e.memoizedState=i;else{var a=l=null,s=null,u=t=o.next,c=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(Wu&d)===d:(El&d)===d){var p=u.revertLane;if(0===p)null!==s&&(s=s.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===wi&&(c=!0);else{if((El&p)===p){u=u.next,p===wi&&(c=!0);continue}d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===s?(a=s=d,l=i):s=s.next=d,Sl.lanes|=p,nc|=p}d=u.action,Il&&n(i,d),i=u.hasEagerState?u.eagerState:n(i,d)}else p={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===s?(a=s=p,l=i):s=s.next=p,Sl.lanes|=d,nc|=d;u=u.next}while(null!==u&&u!==t);if(null===s?l=i:s.next=a,!xr(i,e.memoizedState)&&(ds=!0,c&&null!==(n=_i)))throw n;e.memoizedState=i,e.baseState=l,e.baseQueue=s,r.lastRenderedState=i}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Wl(e){var t=Gl(),n=t.queue;if(null===n)throw Error(j(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var l=o=o.next;do{i=e(i,l.action),l=l.next}while(l!==o);xr(i,t.memoizedState)||(ds=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Yl(e,t,n){var r=Sl,o=Gl(),i=Vo;if(i){if(void 0===n)throw Error(j(407));n=n()}else n=t();var l=!xr((wl||o).memoizedState,n);if(l&&(o.memoizedState=n,ds=!0),o=o.queue,Ea(Xl.bind(null,r,o,e),[e]),o.getSnapshot!==t||l||null!==_l&&1&_l.memoizedState.tag){if(r.flags|=2048,ma(9,{destroy:void 0},Ql.bind(null,r,o,n,t),null),null===$u)throw Error(j(349));i||127&El||Kl(r,t,n)}return n}function Kl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Sl.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Sl.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ql(e,t,n,r){t.value=n,t.getSnapshot=r,Zl(t)&&ea(e)}function Xl(e,t,n){return n(function(){Zl(t)&&ea(e)})}function Zl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xr(e,n)}catch(r){return!0}}function ea(e){var t=po(e,2);null!==t&&Ic(t,e,2)}function ta(e){var t=ql();if("function"==typeof e){var n=e;if(e=n(),Il){Qe(!0);try{n()}finally{Qe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:e},t}function na(e,t,n,r){return e.baseState=n,Jl(e,wl,"function"==typeof r?r:Bl)}function ra(e,t,n,r,o){if(Va(e))throw Error(j(485));if(null!==(e=t.action)){var i={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==pe.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,oa(t,i)):(i.next=n.next,t.pending=n.next=i)}}function oa(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var i=pe.T,l={};pe.T=l;try{var a=n(o,r),s=pe.S;null!==s&&s(l,a),ia(e,t,a)}catch(u){aa(e,t,u)}finally{null!==i&&null!==l.types&&(i.types=l.types),pe.T=i}}else try{ia(e,t,i=n(o,r))}catch(c){aa(e,t,c)}}function ia(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){la(e,t,n)},function(n){return aa(e,t,n)}):la(e,t,n)}function la(e,t,n){t.status="fulfilled",t.value=n,sa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,oa(e,n)))}function aa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,sa(t),t=t.next}while(t!==r)}e.action=null}function sa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ua(e,t){return t}function ca(e,t){if(Vo){var n=$u.formState;if(null!==n){e:{var r=Sl;if(Vo){if(zo){t:{for(var o=zo,i=$o;8!==o.nodeType;){if(!i){o=null;break t}if(null===(o=dp(o.nextSibling))){o=null;break t}}o="F!"===(i=o.data)||"F"===i?o:null}if(o){zo=dp(o.nextSibling),r="F!"===o.data;break e}}Wo(r)}r=!1}r&&(t=n[0])}}return(n=ql()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:t},n.queue=r,n=Ga.bind(null,Sl,r),r.dispatch=n,r=ta(!1),i=za.bind(null,Sl,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=ql()).queue=o,n=ra.bind(null,Sl,o,i,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function da(e){return pa(Gl(),wl,e)}function pa(e,t,n){if(t=Jl(e,t,ua)[0],e=$l(Bl)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=Hl(t)}catch(l){if(l===xi)throw Pi;throw l}else r=t;var o=(t=Gl()).queue,i=o.dispatch;return n!==t.memoizedState&&(Sl.flags|=2048,ma(9,{destroy:void 0},fa.bind(null,o,n),null)),[r,i,e]}function fa(e,t){e.action=t}function ha(e){var t=Gl(),n=wl;if(null!==n)return pa(t,n,e);Gl(),t=t.memoizedState;var r=(n=Gl()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ma(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Sl.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Sl.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ga(){return Gl().memoizedState}function ya(e,t,n,r){var o=ql();Sl.flags|=e,o.memoizedState=ma(1|t,{destroy:void 0},n,void 0===r?null:r)}function va(e,t,n,r){var o=Gl();r=void 0===r?null:r;var i=o.memoizedState.inst;null!==wl&&null!==r&&Pl(r,wl.memoizedState.deps)?o.memoizedState=ma(t,i,n,r):(Sl.flags|=e,o.memoizedState=ma(1|t,i,n,r))}function ba(e,t){ya(8390656,8,e,t)}function Ea(e,t){va(2048,8,e,t)}function Sa(e){var t=Gl().memoizedState;return function(e){Sl.flags|=4;var t=Sl.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Sl.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&Bu)throw Error(j(440));return t.impl.apply(void 0,arguments)}}function wa(e,t){return va(4,2,e,t)}function _a(e,t){return va(4,4,e,t)}function Ca(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Ta(e,t,n){n=null!=n?n.concat([e]):null,va(4,4,Ca.bind(null,t,e),n)}function Ia(){}function Aa(e,t){var n=Gl();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Pl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Oa(e,t){var n=Gl();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Pl(t,r[1]))return r[0];if(r=e(),Il){Qe(!0);try{e()}finally{Qe(!1)}}return n.memoizedState=[r,t],r}function ka(e,t,n){return void 0===n||1073741824&El&&!(261930&Wu)?e.memoizedState=t:(e.memoizedState=n,e=Tc(),Sl.lanes|=e,nc|=e,n)}function xa(e,t,n,r){return xr(n,t)?n:null!==ll.current?(e=ka(e,n,r),xr(e,t)||(ds=!0),e):42&El&&(!(1073741824&El)||261930&Wu)?(e=Tc(),Sl.lanes|=e,nc|=e,t):(ds=!0,e.memoizedState=n)}function Na(e,t,n,r,o){var i=fe.p;fe.p=0!==i&&8>i?i:8;var l,a,s,u=pe.T,c={};pe.T=c,za(e,!1,t,n);try{var d=o(),p=pe.S;if(null!==p&&p(c,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)Ha(e,t,(l=r,a=[],s={status:"pending",value:null,reason:null,then:function(e){a.push(e)}},d.then(function(){s.status="fulfilled",s.value=l;for(var e=0;e<a.length;e++)(0,a[e])(l)},function(e){for(s.status="rejected",s.reason=e,e=0;e<a.length;e++)(0,a[e])(void 0)}),s),Cc());else Ha(e,t,r,Cc())}catch(f){Ha(e,t,{then:function(){},status:"rejected",reason:f},Cc())}finally{fe.p=i,null!==u&&null!==c.types&&(u.types=c.types),pe.T=u}}function Pa(){}function Ra(e,t,n,r){if(5!==e.tag)throw Error(j(476));var o=Da(e).queue;Na(e,o,t,he,null===n?Pa:function(){return Ma(e),n(r)})}function Da(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:he},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ma(e){var t=Da(e);null===t.next&&(t=e.alternate.memoizedState),Ha(e,t.next.queue,{},Cc())}function La(){return di(Hp)}function Ua(){return Gl().memoizedState}function ja(){return Gl().memoizedState}function Fa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Cc(),r=Xi(t,e=Qi(n),n);return null!==r&&(Ic(r,t,n),Zi(r,t,n)),t={cache:vi()},void(e.payload=t)}t=t.return}}function qa(e,t,n){var r=Cc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Va(e)?Ba(t,n):null!==(n=co(e,t,n,r))&&(Ic(n,e,r),$a(n,t,r))}function Ga(e,t,n){Ha(e,t,n,Cc())}function Ha(e,t,n,r){var o={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Va(e))Ba(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var l=t.lastRenderedState,a=i(l,n);if(o.hasEagerState=!0,o.eagerState=a,xr(a,l))return uo(e,t,o,0),null===$u&&so(),!1}catch(s){}if(null!==(n=co(e,t,o,r)))return Ic(n,e,r),$a(n,t,r),!0}return!1}function za(e,t,n,r){if(r={lane:2,revertLane:Ed(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Va(e)){if(t)throw Error(j(479))}else null!==(t=co(e,n,r,2))&&Ic(t,e,2)}function Va(e){var t=e.alternate;return e===Sl||null!==t&&t===Sl}function Ba(e,t){Tl=Cl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $a(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,pt(e,n)}}var Ja={readContext:di,use:zl,useCallback:Nl,useContext:Nl,useEffect:Nl,useImperativeHandle:Nl,useLayoutEffect:Nl,useInsertionEffect:Nl,useMemo:Nl,useReducer:Nl,useRef:Nl,useState:Nl,useDebugValue:Nl,useDeferredValue:Nl,useTransition:Nl,useSyncExternalStore:Nl,useId:Nl,useHostTransitionStatus:Nl,useFormState:Nl,useActionState:Nl,useOptimistic:Nl,useMemoCache:Nl,useCacheRefresh:Nl};Ja.useEffectEvent=Nl;var Wa={readContext:di,use:zl,useCallback:function(e,t){return ql().memoizedState=[e,void 0===t?null:t],e},useContext:di,useEffect:ba,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,ya(4194308,4,Ca.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ya(4194308,4,e,t)},useInsertionEffect:function(e,t){ya(4,2,e,t)},useMemo:function(e,t){var n=ql();t=void 0===t?null:t;var r=e();if(Il){Qe(!0);try{e()}finally{Qe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ql();if(void 0!==n){var o=n(t);if(Il){Qe(!0);try{n(t)}finally{Qe(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=qa.bind(null,Sl,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ql().memoizedState=e},useState:function(e){var t=(e=ta(e)).queue,n=Ga.bind(null,Sl,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ia,useDeferredValue:function(e,t){return ka(ql(),e,t)},useTransition:function(){var e=ta(!1);return e=Na.bind(null,Sl,e.queue,!0,!1),ql().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Sl,o=ql();if(Vo){if(void 0===n)throw Error(j(407));n=n()}else{if(n=t(),null===$u)throw Error(j(349));127&Wu||Kl(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,ba(Xl.bind(null,r,i,e),[e]),r.flags|=2048,ma(9,{destroy:void 0},Ql.bind(null,r,i,n,t),null),n},useId:function(){var e=ql(),t=$u.identifierPrefix;if(Vo){var n=Lo;t="_"+t+"R_"+(n=(Mo&~(1<<32-Xe(Mo)-1)).toString(32)+n),0<(n=Al++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=xl++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:La,useFormState:ca,useActionState:ca,useOptimistic:function(e){var t=ql();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=za.bind(null,Sl,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vl,useCacheRefresh:function(){return ql().memoizedState=Fa.bind(null,Sl)},useEffectEvent:function(e){var t=ql(),n={impl:e};return t.memoizedState=n,function(){if(2&Bu)throw Error(j(440));return n.impl.apply(void 0,arguments)}}},Ya={readContext:di,use:zl,useCallback:Aa,useContext:di,useEffect:Ea,useImperativeHandle:Ta,useInsertionEffect:wa,useLayoutEffect:_a,useMemo:Oa,useReducer:$l,useRef:ga,useState:function(){return $l(Bl)},useDebugValue:Ia,useDeferredValue:function(e,t){return xa(Gl(),wl.memoizedState,e,t)},useTransition:function(){var e=$l(Bl)[0],t=Gl().memoizedState;return["boolean"==typeof e?e:Hl(e),t]},useSyncExternalStore:Yl,useId:Ua,useHostTransitionStatus:La,useFormState:da,useActionState:da,useOptimistic:function(e,t){return na(Gl(),0,e,t)},useMemoCache:Vl,useCacheRefresh:ja};Ya.useEffectEvent=Sa;var Ka={readContext:di,use:zl,useCallback:Aa,useContext:di,useEffect:Ea,useImperativeHandle:Ta,useInsertionEffect:wa,useLayoutEffect:_a,useMemo:Oa,useReducer:Wl,useRef:ga,useState:function(){return Wl(Bl)},useDebugValue:Ia,useDeferredValue:function(e,t){var n=Gl();return null===wl?ka(n,e,t):xa(n,wl.memoizedState,e,t)},useTransition:function(){var e=Wl(Bl)[0],t=Gl().memoizedState;return["boolean"==typeof e?e:Hl(e),t]},useSyncExternalStore:Yl,useId:Ua,useHostTransitionStatus:La,useFormState:ha,useActionState:ha,useOptimistic:function(e,t){var n=Gl();return null!==wl?na(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Vl,useCacheRefresh:ja};function Qa(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:B({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Ka.useEffectEvent=Sa;var Xa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Cc(),o=Qi(r);o.payload=t,null!=n&&(o.callback=n),null!==(t=Xi(e,o,r))&&(Ic(t,e,r),Zi(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Cc(),o=Qi(r);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Xi(e,o,r))&&(Ic(t,e,r),Zi(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Cc(),r=Qi(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=Xi(e,r,n))&&(Ic(t,e,n),Zi(t,e,n))}};function Za(e,t,n,r,o,i,l){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,l):!t.prototype||!t.prototype.isPureReactComponent||(!Nr(n,r)||!Nr(o,i))}function es(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Xa.enqueueReplaceState(t,t.state,null)}function ts(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=B({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}function ns(e){oo(e)}function rs(e){console.error(e)}function os(e){oo(e)}function is(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ls(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function as(e,t,n){return(n=Qi(n)).tag=3,n.payload={element:null},n.callback=function(){is(e,t)},n}function ss(e){return(e=Qi(e)).tag=3,e}function us(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"==typeof o){var i=r.value;e.payload=function(){return o(i)},e.callback=function(){ls(t,n,r)}}var l=n.stateNode;null!==l&&"function"==typeof l.componentDidCatch&&(e.callback=function(){ls(t,n,r),"function"!=typeof o&&(null===hc?hc=new Set([this]):hc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var cs=Error(j(461)),ds=!1;function ps(e,t,n,r){t.child=null===e?Ji(t,null,n,r):$i(t,e.child,n,r)}function fs(e,t,n,r,o){n=n.render;var i=t.ref;if("ref"in r){var l={};for(var a in r)"ref"!==a&&(l[a]=r[a])}else l=r;return ci(t),r=Rl(e,t,n,l,i,o),a=Ul(),null===e||ds?(Vo&&a&&Fo(t),t.flags|=1,ps(e,t,r,o),t.child):(jl(e,t,o),Ls(e,t,o))}function hs(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||vo(i)||void 0!==i.defaultProps||null!==n.compare?((e=So(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ms(e,t,i,r,o))}if(i=e.child,!Us(e,o)){var l=i.memoizedProps;if((n=null!==(n=n.compare)?n:Nr)(l,r)&&e.ref===t.ref)return Ls(e,t,o)}return t.flags|=1,(e=bo(i,r)).ref=t.ref,e.return=t,t.child=e}function ms(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(Nr(i,r)&&e.ref===t.ref){if(ds=!1,t.pendingProps=r=i,!Us(e,o))return t.lanes=e.lanes,Ls(e,t,o);131072&e.flags&&(ds=!0)}}return ws(e,t,n,r,o)}function gs(e,t,n,r){var o=r.children,i=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(i=null!==i?i.baseLanes|n:n,null!==e){for(r=t.child=e.child,o=0;null!==r;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~i}else r=0,t.child=null;return vs(e,t,i,n,r)}if(!(536870912&n))return r=t.lanes=536870912,vs(e,t,null!==i?i.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Oi(0,null!==i?i.cachePool:null),null!==i?sl(t,i):ul(),ml(t)}else null!==i?(Oi(0,i.cachePool),sl(t,i),gl(),t.memoizedState=null):(null!==e&&Oi(0,null),ul(),gl());return ps(e,t,o,n),t.child}function ys(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function vs(e,t,n,r,o){var i=Ai();return i=null===i?null:{parent:yi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Oi(0,null),ul(),ml(t),null!==e&&si(e,t,r,!0),t.childLanes=o,null}function bs(e,t){return(t=Ns({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Es(e,t,n){return $i(t,e.child,null,n),(e=bs(t,t.pendingProps)).flags|=2,yl(t),t.memoizedState=null,e}function Ss(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(j(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function ws(e,t,n,r,o){return ci(t),n=Rl(e,t,n,r,void 0,o),r=Ul(),null===e||ds?(Vo&&r&&Fo(t),t.flags|=1,ps(e,t,n,o),t.child):(jl(e,t,o),Ls(e,t,o))}function _s(e,t,n,r,o,i){return ci(t),t.updateQueue=null,n=Ml(t,r,n,o),Dl(e),r=Ul(),null===e||ds?(Vo&&r&&Fo(t),t.flags|=1,ps(e,t,n,i),t.child):(jl(e,t,i),Ls(e,t,i))}function Cs(e,t,n,r,o){if(ci(t),null===t.stateNode){var i=mo,l=n.contextType;"object"==typeof l&&null!==l&&(i=di(l)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=Xa,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},Yi(t),l=n.contextType,i.context="object"==typeof l&&null!==l?di(l):mo,i.state=t.memoizedState,"function"==typeof(l=n.getDerivedStateFromProps)&&(Qa(t,n,l,r),i.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(l=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),l!==i.state&&Xa.enqueueReplaceState(i,i.state,null),rl(t,r,i,o),nl(),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var a=t.memoizedProps,s=ts(n,a);i.props=s;var u=i.context,c=n.contextType;l=mo,"object"==typeof c&&null!==c&&(l=di(c));var d=n.getDerivedStateFromProps;c="function"==typeof d||"function"==typeof i.getSnapshotBeforeUpdate,a=t.pendingProps!==a,c||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(a||u!==l)&&es(t,i,r,l),Wi=!1;var p=t.memoizedState;i.state=p,rl(t,r,i,o),nl(),u=t.memoizedState,a||p!==u||Wi?("function"==typeof d&&(Qa(t,n,d,r),u=t.memoizedState),(s=Wi||Za(t,n,s,r,p,u,l))?(c||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=l,r=s):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Ki(e,t),c=ts(n,l=t.memoizedProps),i.props=c,d=t.pendingProps,p=i.context,u=n.contextType,s=mo,"object"==typeof u&&null!==u&&(s=di(u)),(u="function"==typeof(a=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(l!==d||p!==s)&&es(t,i,r,s),Wi=!1,p=t.memoizedState,i.state=p,rl(t,r,i,o),nl();var f=t.memoizedState;l!==d||p!==f||Wi||null!==e&&null!==e.dependencies&&ui(e.dependencies)?("function"==typeof a&&(Qa(t,n,a,r),f=t.memoizedState),(c=Wi||Za(t,n,c,r,p,f,s)||null!==e&&null!==e.dependencies&&ui(e.dependencies))?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,s),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,s)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=s,r=c):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Ss(e,t),r=!!(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=$i(t,e.child,null,o),t.child=$i(t,null,n,o)):ps(e,t,n,o),t.memoizedState=i.state,e=t.child):e=Ls(e,t,o),e}function Ts(e,t,n,r){return Xo(),t.flags|=256,ps(e,t,n,r),t.child}var Is={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function As(e){return{baseLanes:e,cachePool:ki()}}function Os(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=ic),e}function ks(e,t,n){var r,o=t.pendingProps,i=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&vl.current)),r&&(i=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(Vo){if(i?fl(t):gl(),(e=zo)?null!==(e=null!==(e=sp(e,$o))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==Do?{id:Mo,overflow:Lo}:null,retryLane:536870912,hydrationErrors:null},(n=Co(e)).return=t,t.child=n,Ho=t,zo=null):e=null,null===e)throw Wo(t);return cp(e)?t.lanes=32:t.lanes=536870912,null}var a=o.children;return o=o.fallback,i?(gl(),a=Ns({mode:"hidden",children:a},i=t.mode),o=wo(o,i,n,null),a.return=t,o.return=t,a.sibling=o,t.child=a,(o=t.child).memoizedState=As(n),o.childLanes=Os(e,r,n),t.memoizedState=Is,ys(null,o)):(fl(t),xs(t,a))}var s=e.memoizedState;if(null!==s&&null!==(a=s.dehydrated)){if(l)256&t.flags?(fl(t),t.flags&=-257,t=Ps(e,t,n)):null!==t.memoizedState?(gl(),t.child=e.child,t.flags|=128,t=null):(gl(),a=o.fallback,i=t.mode,o=Ns({mode:"visible",children:o.children},i),(a=wo(a,i,n,null)).flags|=2,o.return=t,a.return=t,o.sibling=a,t.child=o,$i(t,e.child,null,n),(o=t.child).memoizedState=As(n),o.childLanes=Os(e,r,n),t.memoizedState=Is,t=ys(null,o));else if(fl(t),cp(a)){if(r=a.nextSibling&&a.nextSibling.dataset)var u=r.dgst;r=u,(o=Error(j(419))).stack="",o.digest=r,ei({value:o,source:null,stack:null}),t=Ps(e,t,n)}else if(ds||si(e,t,n,!1),r=0!==(n&e.childLanes),ds||r){if(null!==(r=$u)&&(0!==(o=ft(r,n))&&o!==s.retryLane))throw s.retryLane=o,po(e,o),Ic(r,e,o),cs;up(a)||jc(),t=Ps(e,t,n)}else up(a)?(t.flags|=192,t.child=e.child,t=null):(e=s.treeContext,zo=dp(a.nextSibling),Ho=t,Vo=!0,Bo=null,$o=!1,null!==e&&Go(t,e),(t=xs(t,o.children)).flags|=4096);return t}return i?(gl(),a=o.fallback,i=t.mode,u=(s=e.child).sibling,(o=bo(s,{mode:"hidden",children:o.children})).subtreeFlags=65011712&s.subtreeFlags,null!==u?a=bo(u,a):(a=wo(a,i,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,ys(null,o),o=t.child,null===(a=e.child.memoizedState)?a=As(n):(null!==(i=a.cachePool)?(s=yi._currentValue,i=i.parent!==s?{parent:s,pool:s}:i):i=ki(),a={baseLanes:a.baseLanes|n,cachePool:i}),o.memoizedState=a,o.childLanes=Os(e,r,n),t.memoizedState=Is,ys(e.child,o)):(fl(t),e=(n=e.child).sibling,(n=bo(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function xs(e,t){return(t=Ns({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ns(e,t){return(e=yo(22,e,null,t)).lanes=0,e}function Ps(e,t,n){return $i(t,e.child,null,n),(e=xs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Rs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),li(e.return,t,n)}function Ds(e,t,n,r,o,i){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,treeForkCount:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o,l.treeForkCount=i)}function Ms(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;r=r.children;var l=vl.current,a=!!(2&l);if(a?(l=1&l|2,t.flags|=128):l&=1,be(vl,l),ps(e,t,r,n),r=Vo?No:0,!a&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Rs(e,n,t);else if(19===e.tag)Rs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===bl(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ds(t,!1,o,n,i,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===bl(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ds(t,!0,n,null,i,r);break;case"together":Ds(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Ls(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),nc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(si(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(j(153));if(null!==t.child){for(n=bo(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=bo(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Us(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ui(e))}function js(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)ds=!0;else{if(!(Us(e,n)||128&t.flags))return ds=!1,function(e,t,n){switch(t.tag){case 3:Ie(t,t.stateNode.containerInfo),oi(0,yi,e.memoizedState.cache),Xo();break;case 27:case 5:Oe(t);break;case 4:Ie(t,t.stateNode.containerInfo);break;case 10:oi(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,hl(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(fl(t),t.flags|=128,null):0!==(n&t.child.childLanes)?ks(e,t,n):(fl(t),null!==(e=Ls(e,t,n))?e.sibling:null);fl(t);break;case 19:var o=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(si(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return Ms(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),be(vl,vl.current),r)break;return null;case 22:return t.lanes=0,gs(e,t,n,t.pendingProps);case 24:oi(0,yi,e.memoizedState.cache)}return Ls(e,t,n)}(e,t,n);ds=!!(131072&e.flags)}else ds=!1,Vo&&1048576&t.flags&&jo(t,No,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=Li(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var o=e.$$typeof;if(o===ee){t.tag=11,t=fs(null,t,e,r,n);break e}if(o===re){t.tag=14,t=hs(null,t,e,r,n);break e}}throw t=ce(e)||e,Error(j(306,t,""))}vo(e)?(r=ts(e,r),t.tag=1,t=Cs(null,t,e,r,n)):(t.tag=0,t=ws(null,t,e,r,n))}return t;case 0:return ws(e,t,t.type,t.pendingProps,n);case 1:return Cs(e,t,r=t.type,o=ts(r,t.pendingProps),n);case 3:e:{if(Ie(t,t.stateNode.containerInfo),null===e)throw Error(j(387));r=t.pendingProps;var i=t.memoizedState;o=i.element,Ki(e,t),rl(t,r,null,n);var l=t.memoizedState;if(r=l.cache,oi(0,yi,r),r!==i.cache&&ai(t,[yi],n,!0),nl(),r=l.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ts(e,t,r,n);break e}if(r!==o){ei(o=Ao(Error(j(424)),t)),t=Ts(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(zo=dp(e.firstChild),Ho=t,Vo=!0,Bo=null,$o=!0,n=Ji(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Xo(),r===o){t=Ls(e,t,n);break e}ps(e,t,r,n)}t=t.child}return t;case 26:return Ss(e,t),null===e?(n=_p(t.type,null,t.pendingProps,null))?t.memoizedState=n:Vo||(n=t.type,e=t.pendingProps,(r=Wd(Ce.current).createElement(n))[bt]=t,r[Et]=e,Vd(r,n,e),Pt(r),t.stateNode=r):t.memoizedState=_p(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Oe(t),null===e&&Vo&&(r=t.stateNode=mp(t.type,t.pendingProps,Ce.current),Ho=t,$o=!0,o=zo,op(t.type)?(pp=o,zo=dp(r.firstChild)):zo=o),ps(e,t,t.pendingProps.children,n),Ss(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&Vo&&((o=r=zo)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[It])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===i)return e}if(null===(e=dp(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,$o))?(t.stateNode=r,Ho=t,zo=dp(r.firstChild),$o=!1,o=!0):o=!1),o||Wo(t)),Oe(t),o=t.type,i=t.pendingProps,l=null!==e?e.memoizedProps:null,r=i.children,Qd(o,i)?r=null:null!==l&&Qd(o,l)&&(t.flags|=32),null!==t.memoizedState&&(o=Rl(e,t,Ll,null,null,n),Hp._currentValue=o),Ss(e,t),ps(e,t,r,n),t.child;case 6:return null===e&&Vo&&((e=n=zo)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=dp(e.nextSibling)))return null}return e}(n,t.pendingProps,$o))?(t.stateNode=n,Ho=t,zo=null,e=!0):e=!1),e||Wo(t)),null;case 13:return ks(e,t,n);case 4:return Ie(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$i(t,null,r,n):ps(e,t,r,n),t.child;case 11:return fs(e,t,t.type,t.pendingProps,n);case 7:return ps(e,t,t.pendingProps,n),t.child;case 8:case 12:return ps(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,oi(0,t.type,r.value),ps(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,ci(t),r=r(o=di(o)),t.flags|=1,ps(e,t,r,n),t.child;case 14:return hs(e,t,t.type,t.pendingProps,n);case 15:return ms(e,t,t.type,t.pendingProps,n);case 19:return Ms(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,o=!!(128&t.flags);if(t.flags&=-129,null===e){if(Vo){if("hidden"===r.mode)return e=bs(t,r),t.lanes=536870912,ys(null,e);if(hl(t),(e=zo)?null!==(e=null!==(e=sp(e,$o))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==Do?{id:Mo,overflow:Lo}:null,retryLane:536870912,hydrationErrors:null},(n=Co(e)).return=t,t.child=n,Ho=t,zo=null):e=null,null===e)throw Wo(t);return t.lanes=536870912,null}return bs(t,r)}var i=e.memoizedState;if(null!==i){var l=i.dehydrated;if(hl(t),o)if(256&t.flags)t.flags&=-257,t=Es(e,t,n);else{if(null===t.memoizedState)throw Error(j(558));t.child=e.child,t.flags|=128,t=null}else if(ds||si(e,t,n,!1),o=0!==(n&e.childLanes),ds||o){if(null!==(r=$u)&&0!==(l=ft(r,n))&&l!==i.retryLane)throw i.retryLane=l,po(e,l),Ic(r,e,l),cs;jc(),t=Es(e,t,n)}else e=i.treeContext,zo=dp(l.nextSibling),Ho=t,Vo=!0,Bo=null,$o=!1,null!==e&&Go(t,e),(t=bs(t,r)).flags|=4096;return t}return(e=bo(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return gs(e,t,n,t.pendingProps);case 24:return ci(t),r=di(yi),null===e?(null===(o=Ai())&&(o=$u,i=vi(),o.pooledCache=i,i.refCount++,null!==i&&(o.pooledCacheLanes|=n),o=i),t.memoizedState={parent:r,cache:o},Yi(t),oi(0,yi,o)):(0!==(e.lanes&n)&&(Ki(e,t),rl(t,null,null,n),nl()),o=e.memoizedState,i=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),oi(0,yi,r)):(r=i.cache,oi(0,yi,r),r!==o.cache&&ai(t,[yi],n,!0))),ps(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(j(156,t.tag))}function Fs(e){e.flags|=4}function qs(e,t,n,r,o){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&o)===o)if(e.stateNode.complete)e.flags|=8192;else{if(!Mc())throw Ui=Ri,Ni;e.flags|=8192}}else e.flags&=-16777217}function Gs(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!Lp(t)){if(!Mc())throw Ui=Ri,Ni;e.flags|=8192}}function Hs(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?st():536870912,e.lanes|=t,lc|=t)}function zs(e,t){if(!Vo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Bs(e,t,n){var r=t.pendingProps;switch(qo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Vs(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ii(yi),Ae(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Qo(t)?Fs(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,Zo())),Vs(t),null;case 26:var o=t.type,i=t.memoizedState;return null===e?(Fs(t),null!==i?(Vs(t),Gs(t,i)):(Vs(t),qs(t,o,0,0,n))):i?i!==e.memoizedState?(Fs(t),Vs(t),Gs(t,i)):(Vs(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&Fs(t),Vs(t),qs(t,o,0,0,n)),null;case 27:if(ke(t),n=Ce.current,o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Fs(t);else{if(!r){if(null===t.stateNode)throw Error(j(166));return Vs(t),null}e=we.current,Qo(t)?Yo(t):(e=mp(o,r,n),t.stateNode=e,Fs(t))}return Vs(t),null;case 5:if(ke(t),o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Fs(t);else{if(!r){if(null===t.stateNode)throw Error(j(166));return Vs(t),null}if(i=we.current,Qo(t))Yo(t);else{var l=Wd(Ce.current);switch(i){case 1:i=l.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=l.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=l.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=l.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":(i=l.createElement("div")).innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i="string"==typeof r.is?l.createElement("select",{is:r.is}):l.createElement("select"),r.multiple?i.multiple=!0:r.size&&(i.size=r.size);break;default:i="string"==typeof r.is?l.createElement(o,{is:r.is}):l.createElement(o)}}i[bt]=t,i[Et]=r;e:for(l=t.child;null!==l;){if(5===l.tag||6===l.tag)i.appendChild(l.stateNode);else if(4!==l.tag&&27!==l.tag&&null!==l.child){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;null===l.sibling;){if(null===l.return||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=i;e:switch(Vd(i,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Fs(t)}}return Vs(t),qs(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Fs(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(j(166));if(e=Ce.current,Qo(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=Ho))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[bt]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Gd(e.nodeValue,n)))||Wo(t,!0)}else(e=Wd(e).createTextNode(r))[bt]=t,t.stateNode=e}return Vs(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=Qo(t),null!==n){if(null===e){if(!r)throw Error(j(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(j(557));e[bt]=t}else Xo(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vs(t),e=!1}else n=Zo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(yl(t),t):(yl(t),null);if(128&t.flags)throw Error(j(558))}return Vs(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=Qo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(j(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(j(317));o[bt]=t}else Xo(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vs(t),o=!1}else o=Zo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(yl(t),t):(yl(t),null)}return yl(t),128&t.flags?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool),i=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==o&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Hs(t,t.updateQueue),Vs(t),null);case 4:return Ae(),null===e&&Nd(t.stateNode.containerInfo),Vs(t),null;case 10:return ii(t.type),Vs(t),null;case 19:if(ve(vl),null===(r=t.memoizedState))return Vs(t),null;if(o=!!(128&t.flags),null===(i=r.rendering))if(o)zs(r,!1);else{if(0!==tc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(i=bl(e))){for(t.flags|=128,zs(r,!1),e=i.updateQueue,t.updateQueue=e,Hs(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Eo(n,e),n=n.sibling;return be(vl,1&vl.current|2),Vo&&Uo(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&qe()>pc&&(t.flags|=128,o=!0,zs(r,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=bl(i))){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Hs(t,e),zs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!i.alternate&&!Vo)return Vs(t),null}else 2*qe()-r.renderingStartTime>pc&&536870912!==n&&(t.flags|=128,o=!0,zs(r,!1),t.lanes=4194304);r.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=r.last)?e.sibling=i:t.child=i,r.last=i)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=qe(),e.sibling=null,n=vl.current,be(vl,o?1&n|2:1&n),Vo&&Uo(t,r.treeForkCount),e):(Vs(t),null);case 22:case 23:return yl(t),cl(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(Vs(t),6&t.subtreeFlags&&(t.flags|=8192)):Vs(t),null!==(n=t.updateQueue)&&Hs(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&ve(Ii),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ii(yi),Vs(t),null;case 25:case 30:return null}throw Error(j(156,t.tag))}function $s(e,t){switch(qo(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ii(yi),Ae(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ke(t),null;case 31:if(null!==t.memoizedState){if(yl(t),null===t.alternate)throw Error(j(340));Xo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(yl(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(j(340));Xo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ve(vl),null;case 4:return Ae(),null;case 10:return ii(t.type),null;case 22:case 23:return yl(t),cl(),null!==e&&ve(Ii),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ii(yi),null;default:return null}}function Js(e,t){switch(qo(t),t.tag){case 3:ii(yi),Ae();break;case 26:case 27:case 5:ke(t);break;case 4:Ae();break;case 31:null!==t.memoizedState&&yl(t);break;case 13:yl(t);break;case 19:ve(vl);break;case 10:ii(t.type);break;case 22:case 23:yl(t),cl(),null!==e&&ve(Ii);break;case 24:ii(yi)}}function Ws(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var i=n.create,l=n.inst;r=i(),l.destroy=r}n=n.next}while(n!==o)}}catch(a){td(t,t.return,a)}}function Ys(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var i=o.next;r=i;do{if((r.tag&e)===e){var l=r.inst,a=l.destroy;if(void 0!==a){l.destroy=void 0,o=t;var s=n,u=a;try{u()}catch(c){td(o,s,c)}}}r=r.next}while(r!==i)}}catch(c){td(t,t.return,c)}}function Ks(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{il(t,n)}catch(r){td(e,e.return,r)}}}function Qs(e,t,n){n.props=ts(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){td(e,t,r)}}function Xs(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(o){td(e,t,o)}}function Zs(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(o){td(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(i){td(e,t,i)}else n.current=null}function eu(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){td(e,e.return,o)}}function tu(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,i=null,l=null,a=null,s=null,u=null,c=null;for(f in n){var d=n[f];if(n.hasOwnProperty(f)&&null!=d)switch(f){case"checked":case"value":break;case"defaultValue":s=d;default:r.hasOwnProperty(f)||Hd(e,t,f,null,r,d)}}for(var p in r){var f=r[p];if(d=n[p],r.hasOwnProperty(p)&&(null!=f||null!=d))switch(p){case"type":i=f;break;case"name":o=f;break;case"checked":u=f;break;case"defaultChecked":c=f;break;case"value":l=f;break;case"defaultValue":a=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(j(137,t));break;default:f!==d&&Hd(e,t,p,f,r,d)}}return void Kt(e,l,a,s,u,c,i,o);case"select":for(i in f=l=a=p=null,n)if(s=n[i],n.hasOwnProperty(i)&&null!=s)switch(i){case"value":break;case"multiple":f=s;default:r.hasOwnProperty(i)||Hd(e,t,i,null,r,s)}for(o in r)if(i=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=i||null!=s))switch(o){case"value":p=i;break;case"defaultValue":a=i;break;case"multiple":l=i;default:i!==s&&Hd(e,t,o,i,r,s)}return t=a,n=l,r=f,void(null!=p?Zt(e,!!n,p,!1):!!r!=!!n&&(null!=t?Zt(e,!!n,t,!0):Zt(e,!!n,n?[]:"",!1)));case"textarea":for(a in f=p=null,n)if(o=n[a],n.hasOwnProperty(a)&&null!=o&&!r.hasOwnProperty(a))switch(a){case"value":case"children":break;default:Hd(e,t,a,null,r,o)}for(l in r)if(o=r[l],i=n[l],r.hasOwnProperty(l)&&(null!=o||null!=i))switch(l){case"value":p=o;break;case"defaultValue":f=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(j(91));break;default:o!==i&&Hd(e,t,l,o,r,i)}return void en(e,p,f);case"option":for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&null!=p&&!r.hasOwnProperty(h))if("selected"===h)e.selected=!1;else Hd(e,t,h,null,r,p);for(s in r)if(p=r[s],f=n[s],r.hasOwnProperty(s)&&p!==f&&(null!=p||null!=f))if("selected"===s)e.selected=p&&"function"!=typeof p&&"symbol"!=typeof p;else Hd(e,t,s,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m)&&Hd(e,t,m,null,r,p);for(u in r)if(p=r[u],f=n[u],r.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(j(137,t));break;default:Hd(e,t,u,p,r,f)}return;default:if(an(t)){for(var g in n)p=n[g],n.hasOwnProperty(g)&&void 0!==p&&!r.hasOwnProperty(g)&&zd(e,t,g,void 0,r,p);for(c in r)p=r[c],f=n[c],!r.hasOwnProperty(c)||p===f||void 0===p&&void 0===f||zd(e,t,c,p,r,f);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!r.hasOwnProperty(y)&&Hd(e,t,y,null,r,p);for(d in r)p=r[d],f=n[d],!r.hasOwnProperty(d)||p===f||null==p&&null==f||Hd(e,t,d,p,r,f)}(r,e.type,n,t),r[Et]=t}catch(o){td(e,e.return,o)}}function nu(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&op(e.type)||4===e.tag}function ru(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||nu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&op(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ou(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=dn));else if(4!==r&&(27===r&&op(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(ou(e,t,n),e=e.sibling;null!==e;)ou(e,t,n),e=e.sibling}function iu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&op(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(iu(e,t,n),e=e.sibling;null!==e;)iu(e,t,n),e=e.sibling}function lu(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Vd(t,r,n),t[bt]=e,t[Et]=n}catch(i){td(e,e.return,i)}}var au=!1,su=!1,uu=!1,cu="function"==typeof WeakSet?WeakSet:Set,du=null;function pu(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Iu(e,n),4&r&&Ws(5,n);break;case 1:if(Iu(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(l){td(n,n.return,l)}else{var o=ts(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){td(n,n.return,a)}}64&r&&Ks(n),512&r&&Xs(n,n.return);break;case 3:if(Iu(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{il(e,t)}catch(l){td(n,n.return,l)}}break;case 27:null===t&&4&r&&lu(n);case 26:case 5:Iu(e,n),null===t&&4&r&&eu(n),512&r&&Xs(n,n.return);break;case 12:Iu(e,n);break;case 31:Iu(e,n),4&r&&vu(e,n);break;case 13:Iu(e,n),4&r&&bu(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=id.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||au)){t=null!==t&&null!==t.memoizedState||su,o=au;var i=su;au=r,(su=t)&&!i?Ou(e,n,!!(8772&n.subtreeFlags)):Iu(e,n),au=o,su=i}break;case 30:break;default:Iu(e,n)}}function fu(e){var t=e.alternate;null!==t&&(e.alternate=null,fu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&At(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var hu=null,mu=!1;function gu(e,t,n){for(n=n.child;null!==n;)yu(e,t,n),n=n.sibling}function yu(e,t,n){if(Ke&&"function"==typeof Ke.onCommitFiberUnmount)try{Ke.onCommitFiberUnmount(Ye,n)}catch(i){}switch(n.tag){case 26:su||Zs(n,t),gu(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:su||Zs(n,t);var r=hu,o=mu;op(n.type)&&(hu=n.stateNode,mu=!1),gu(e,t,n),gp(n.stateNode),hu=r,mu=o;break;case 5:su||Zs(n,t);case 6:if(r=hu,o=mu,hu=null,gu(e,t,n),mu=o,null!==(hu=r))if(mu)try{(9===hu.nodeType?hu.body:"HTML"===hu.nodeName?hu.ownerDocument.body:hu).removeChild(n.stateNode)}catch(l){td(n,t,l)}else try{hu.removeChild(n.stateNode)}catch(l){td(n,t,l)}break;case 18:null!==hu&&(mu?(ip(9===(e=hu).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),_f(e)):ip(hu,n.stateNode));break;case 4:r=hu,o=mu,hu=n.stateNode.containerInfo,mu=!0,gu(e,t,n),hu=r,mu=o;break;case 0:case 11:case 14:case 15:Ys(2,n,t),su||Ys(4,n,t),gu(e,t,n);break;case 1:su||(Zs(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&Qs(n,t,r)),gu(e,t,n);break;case 21:gu(e,t,n);break;case 22:su=(r=su)||null!==n.memoizedState,gu(e,t,n),su=r;break;default:gu(e,t,n)}}function vu(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{_f(e)}catch(n){td(t,t.return,n)}}}function bu(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{_f(e)}catch(n){td(t,t.return,n)}}function Eu(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new cu),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new cu),t;default:throw Error(j(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=ld.bind(null,e,t);t.then(r,r)}})}function Su(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],i=e,l=t,a=l;e:for(;null!==a;){switch(a.tag){case 27:if(op(a.type)){hu=a.stateNode,mu=!1;break e}break;case 5:hu=a.stateNode,mu=!1;break e;case 3:case 4:hu=a.stateNode.containerInfo,mu=!0;break e}a=a.return}if(null===hu)throw Error(j(160));yu(i,l,o),hu=null,mu=!1,null!==(i=o.alternate)&&(i.return=null),o.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)_u(t,e),t=t.sibling}var wu=null;function _u(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Su(t,e),Cu(e),4&r&&(Ys(3,e,e.return),Ws(3,e),Ys(5,e,e.return));break;case 1:Su(t,e),Cu(e),512&r&&(su||null===n||Zs(n,n.return)),64&r&&au&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var o=wu;if(Su(t,e),Cu(e),512&r&&(su||null===n||Zs(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(i=o.getElementsByTagName("title")[0])||i[It]||i[bt]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=o.createElement(r),o.head.insertBefore(i,o.querySelector("head > title"))),Vd(i,r,n),i[bt]=e,Pt(i),r=i;break e;case"link":var l=Dp("link","href",o).get(r+(n.href||""));if(l)for(var a=0;a<l.length;a++)if((i=l[a]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){l.splice(a,1);break t}Vd(i=o.createElement(r),r,n),o.head.appendChild(i);break;case"meta":if(l=Dp("meta","content",o).get(r+(n.content||"")))for(a=0;a<l.length;a++)if((i=l[a]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){l.splice(a,1);break t}Vd(i=o.createElement(r),r,n),o.head.appendChild(i);break;default:throw Error(j(468,r))}i[bt]=e,Pt(i),r=i}e.stateNode=r}else Mp(o,e.type,e.stateNode);else e.stateNode=kp(o,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?Mp(o,e.type,e.stateNode):kp(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&tu(e,e.memoizedProps,n.memoizedProps)}break;case 27:Su(t,e),Cu(e),512&r&&(su||null===n||Zs(n,n.return)),null!==n&&4&r&&tu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Su(t,e),Cu(e),512&r&&(su||null===n||Zs(n,n.return)),32&e.flags){o=e.stateNode;try{nn(o,"")}catch(h){td(e,e.return,h)}}4&r&&null!=e.stateNode&&tu(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(uu=!0);break;case 6:if(Su(t,e),Cu(e),4&r){if(null===e.stateNode)throw Error(j(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(h){td(e,e.return,h)}}break;case 3:if(Rp=null,o=wu,wu=bp(t.containerInfo),Su(t,e),wu=o,Cu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{_f(t.containerInfo)}catch(h){td(e,e.return,h)}uu&&(uu=!1,Tu(e));break;case 4:r=wu,wu=bp(e.stateNode.containerInfo),Su(t,e),Cu(e),wu=r;break;case 12:default:Su(t,e),Cu(e);break;case 31:case 19:Su(t,e),Cu(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Eu(e,r)));break;case 13:Su(t,e),Cu(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(cc=qe()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Eu(e,r)));break;case 22:o=null!==e.memoizedState;var s=null!==n&&null!==n.memoizedState,u=au,c=su;if(au=u||o,su=c||s,Su(t,e),su=c,au=u,Cu(e),8192&r)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||s||au||su||Au(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){s=n=t;try{if(i=s.stateNode,o)"function"==typeof(l=i.style).setProperty?l.setProperty("display","none","important"):l.display="none";else{a=s.stateNode;var d=s.memoizedProps.style,p=null!=d&&d.hasOwnProperty("display")?d.display:null;a.style.display=null==p||"boolean"==typeof p?"":(""+p).trim()}}catch(h){td(s,s.return,h)}}}else if(6===t.tag){if(null===n){s=t;try{s.stateNode.nodeValue=o?"":s.memoizedProps}catch(h){td(s,s.return,h)}}}else if(18===t.tag){if(null===n){s=t;try{var f=s.stateNode;o?lp(f,!0):lp(s.stateNode,!1)}catch(h){td(s,s.return,h)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Eu(e,n))));case 30:case 21:}}function Cu(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(nu(r)){n=r;break}r=r.return}if(null==n)throw Error(j(160));switch(n.tag){case 27:var o=n.stateNode;iu(e,ru(e),o);break;case 5:var i=n.stateNode;32&n.flags&&(nn(i,""),n.flags&=-33),iu(e,ru(e),i);break;case 3:case 4:var l=n.stateNode.containerInfo;ou(e,ru(e),l);break;default:throw Error(j(161))}}catch(a){td(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Tu(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Tu(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Iu(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)pu(e,t.alternate,t),t=t.sibling}function Au(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ys(4,t,t.return),Au(t);break;case 1:Zs(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&Qs(t,t.return,n),Au(t);break;case 27:gp(t.stateNode);case 26:case 5:Zs(t,t.return),Au(t);break;case 22:null===t.memoizedState&&Au(t);break;default:Au(t)}e=e.sibling}}function Ou(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,i=t,l=i.flags;switch(i.tag){case 0:case 11:case 15:Ou(o,i,n),Ws(4,i);break;case 1:if(Ou(o,i,n),"function"==typeof(o=(r=i).stateNode).componentDidMount)try{o.componentDidMount()}catch(u){td(r,r.return,u)}if(null!==(o=(r=i).updateQueue)){var a=r.stateNode;try{var s=o.shared.hiddenCallbacks;if(null!==s)for(o.shared.hiddenCallbacks=null,o=0;o<s.length;o++)ol(s[o],a)}catch(u){td(r,r.return,u)}}n&&64&l&&Ks(i),Xs(i,i.return);break;case 27:lu(i);case 26:case 5:Ou(o,i,n),n&&null===r&&4&l&&eu(i),Xs(i,i.return);break;case 12:Ou(o,i,n);break;case 31:Ou(o,i,n),n&&4&l&&vu(o,i);break;case 13:Ou(o,i,n),n&&4&l&&bu(o,i);break;case 22:null===i.memoizedState&&Ou(o,i,n),Xs(i,i.return);break;case 30:break;default:Ou(o,i,n)}t=t.sibling}}function ku(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&bi(n))}function xu(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&bi(e))}function Nu(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Pu(e,t,n,r),t=t.sibling}function Pu(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Nu(e,t,n,r),2048&o&&Ws(9,t);break;case 1:case 31:case 13:default:Nu(e,t,n,r);break;case 3:Nu(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&bi(e)));break;case 12:if(2048&o){Nu(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,l=i.id,a=i.onPostCommit;"function"==typeof a&&a(l,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(s){td(t,t.return,s)}}else Nu(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,l=t.alternate,null!==t.memoizedState?2&i._visibility?Nu(e,t,n,r):Du(e,t):2&i._visibility?Nu(e,t,n,r):(i._visibility|=2,Ru(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&o&&ku(l,t);break;case 24:Nu(e,t,n,r),2048&o&&xu(t.alternate,t)}}function Ru(e,t,n,r,o){for(o=o&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var i=e,l=t,a=n,s=r,u=l.flags;switch(l.tag){case 0:case 11:case 15:Ru(i,l,a,s,o),Ws(8,l);break;case 23:break;case 22:var c=l.stateNode;null!==l.memoizedState?2&c._visibility?Ru(i,l,a,s,o):Du(i,l):(c._visibility|=2,Ru(i,l,a,s,o)),o&&2048&u&&ku(l.alternate,l);break;case 24:Ru(i,l,a,s,o),o&&2048&u&&xu(l.alternate,l);break;default:Ru(i,l,a,s,o)}t=t.sibling}}function Du(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:Du(n,r),2048&o&&ku(r.alternate,r);break;case 24:Du(n,r),2048&o&&xu(r.alternate,r);break;default:Du(n,r)}t=t.sibling}}var Mu=8192;function Lu(e,t,n){if(e.subtreeFlags&Mu)for(e=e.child;null!==e;)Uu(e,t,n),e=e.sibling}function Uu(e,t,n){switch(e.tag){case 26:Lu(e,t,n),e.flags&Mu&&null!==e.memoizedState&&function(e,t,n,r){if(!("stylesheet"!==n.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&n.state.loading)){if(null===n.instance){var o=Cp(r.href),i=t.querySelector(Tp(o));if(i)return null!==(t=i._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=jp.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,void Pt(i);i=t.ownerDocument||t,r=Ip(r),(o=yp.get(o))&&Np(r,o),Pt(i=i.createElement("link"));var l=i;l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),Vd(i,"link",r),n.instance=i}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=jp.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,wu,e.memoizedState,e.memoizedProps);break;case 5:default:Lu(e,t,n);break;case 3:case 4:var r=wu;wu=bp(e.stateNode.containerInfo),Lu(e,t,n),wu=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=Mu,Mu=16777216,Lu(e,t,n),Mu=r):Lu(e,t,n))}}function ju(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Fu(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];du=r,Hu(r,e)}ju(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)qu(e),e=e.sibling}function qu(e){switch(e.tag){case 0:case 11:case 15:Fu(e),2048&e.flags&&Ys(9,e,e.return);break;case 3:case 12:default:Fu(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Gu(e)):Fu(e)}}function Gu(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];du=r,Hu(r,e)}ju(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Ys(8,t,t.return),Gu(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Gu(t));break;default:Gu(t)}e=e.sibling}}function Hu(e,t){for(;null!==du;){var n=du;switch(n.tag){case 0:case 11:case 15:Ys(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:bi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,du=r;else e:for(n=e;null!==du;){var o=(r=du).sibling,i=r.return;if(fu(r),r===n){du=null;break e}if(null!==o){o.return=i,du=o;break e}du=i}}}var zu={getCacheForType:function(e){var t=di(yi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return di(yi).controller.signal}},Vu="function"==typeof WeakMap?WeakMap:Map,Bu=0,$u=null,Ju=null,Wu=0,Yu=0,Ku=null,Qu=!1,Xu=!1,Zu=!1,ec=0,tc=0,nc=0,rc=0,oc=0,ic=0,lc=0,ac=null,sc=null,uc=!1,cc=0,dc=0,pc=1/0,fc=null,hc=null,mc=0,gc=null,yc=null,vc=0,bc=0,Ec=null,Sc=null,wc=0,_c=null;function Cc(){return 2&Bu&&0!==Wu?Wu&-Wu:null!==pe.T?Ed():gt()}function Tc(){if(0===ic)if(536870912&Wu&&!Vo)ic=536870912;else{var e=nt;!(3932160&(nt<<=1))&&(nt=262144),ic=e}return null!==(e=dl.current)&&(e.flags|=32),ic}function Ic(e,t,n){(e!==$u||2!==Yu&&9!==Yu)&&null===e.cancelPendingCommit||(Rc(e,0),xc(e,Wu,ic,!1)),ct(e,n),2&Bu&&e===$u||(e===$u&&(!(2&Bu)&&(rc|=n),4===tc&&xc(e,Wu,ic,!1)),fd(e))}function Ac(e,t,n){if(6&Bu)throw Error(j(327));for(var r=!n&&!(127&t)&&0===(t&e.expiredLanes)||lt(e,t),o=r?function(e,t){var n=Bu;Bu|=2;var r=Lc(),o=Uc();$u!==e||Wu!==t?(fc=null,pc=qe()+500,Rc(e,t)):Xu=lt(e,t);e:for(;;)try{if(0!==Yu&&null!==Ju){t=Ju;var i=Ku;t:switch(Yu){case 1:Yu=0,Ku=null,Vc(e,t,i,1);break;case 2:case 9:if(Di(i)){Yu=0,Ku=null,zc(t);break}t=function(){2!==Yu&&9!==Yu||$u!==e||(Yu=7),fd(e)},i.then(t,t);break e;case 3:Yu=7;break e;case 4:Yu=5;break e;case 7:Di(i)?(Yu=0,Ku=null,zc(t)):(Yu=0,Ku=null,Vc(e,t,i,7));break;case 5:var l=null;switch(Ju.tag){case 26:l=Ju.memoizedState;case 5:case 27:var a=Ju;if(l?Lp(l):a.stateNode.complete){Yu=0,Ku=null;var s=a.sibling;if(null!==s)Ju=s;else{var u=a.return;null!==u?(Ju=u,Bc(u)):Ju=null}break t}}Yu=0,Ku=null,Vc(e,t,i,5);break;case 6:Yu=0,Ku=null,Vc(e,t,i,6);break;case 8:Pc(),tc=6;break e;default:throw Error(j(462))}}Gc();break}catch(c){Dc(e,c)}return ri=ni=null,pe.H=r,pe.A=o,Bu=n,null!==Ju?0:($u=null,Wu=0,so(),tc)}(e,t):Fc(e,t,!0),i=r;;){if(0===o){Xu&&!r&&xc(e,t,0,!1);break}if(n=e.current.alternate,!i||kc(n)){if(2===o){if(i=t,e.errorRecoveryDisabledLanes&i)var l=0;else l=0!==(l=-536870913&e.pendingLanes)?l:536870912&l?536870912:0;if(0!==l){t=l;e:{var a=e;o=ac;var s=a.current.memoizedState.isDehydrated;if(s&&(Rc(a,l).flags|=256),2!==(l=Fc(a,l,!1))){if(Zu&&!s){a.errorRecoveryDisabledLanes|=i,rc|=i,o=4;break e}i=sc,sc=o,null!==i&&(null===sc?sc=i:sc.push.apply(sc,i))}o=l}if(i=!1,2!==o)continue}}if(1===o){Rc(e,0),xc(e,t,0,!0);break}e:{switch(r=e,i=o){case 0:case 1:throw Error(j(345));case 4:if((4194048&t)!==t)break;case 6:xc(r,t,ic,!Qu);break e;case 2:sc=null;break;case 3:case 5:break;default:throw Error(j(329))}if((62914560&t)===t&&10<(o=cc+300-qe())){if(xc(r,t,ic,!Qu),0!==it(r,0,!0))break e;vc=t,r.timeoutHandle=Zd(Oc.bind(null,r,n,sc,fc,uc,t,ic,rc,lc,Qu,i,"Throttled",-0,0),o)}else Oc(r,n,sc,fc,uc,t,ic,rc,lc,Qu,i,null,-0,0)}break}o=Fc(e,t,!1),i=!1}fd(e)}function Oc(e,t,n,r,o,i,l,a,s,u,c,d,p,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||!(16785408&~d)){Uu(t,i,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:dn});var h=(62914560&i)===i?cc-qe():(4194048&i)===i?dc-qe():0;if(null!==(h=function(e,t){return e.stylesheets&&0===e.count&&qp(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&qp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===Up&&(Up=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var o=n[r],i=o.transferSize,l=o.initiatorType,a=o.duration;if(i&&a&&Bd(l)){for(l=0,a=o.responseEnd,r+=1;r<n.length;r++){var s=n[r],u=s.startTime;if(u>a)break;var c=s.transferSize,d=s.initiatorType;c&&Bd(d)&&(l+=c*((s=s.responseEnd)<a?1:(a-u)/(s-u)))}if(--r,t+=8*(i+l)/(o.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var o=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&qp(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>Up?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}(d,h)))return vc=i,e.cancelPendingCommit=h(Jc.bind(null,e,t,i,n,r,o,l,a,s,c,d,null,p,f)),void xc(e,i,l,!u)}Jc(e,t,i,n,r,o,l,a,s)}function kc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!xr(i(),o))return!1}catch(l){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xc(e,t,n,r){t&=~oc,t&=~rc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var i=31-Xe(o),l=1<<i;r[i]=-1,o&=~l}0!==n&&dt(e,n,t)}function Nc(){return!!(6&Bu)||(hd(0),!1)}function Pc(){if(null!==Ju){if(0===Yu)var e=Ju.return;else ri=ni=null,Fl(e=Ju),qi=null,Gi=0,e=Ju;for(;null!==e;)Js(e.alternate,e),e=e.return;Ju=null}}function Rc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ep(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),vc=0,Pc(),$u=e,Ju=n=bo(e.current,null),Wu=t,Yu=0,Ku=null,Qu=!1,Xu=lt(e,t),Zu=!1,lc=ic=oc=rc=nc=tc=0,sc=ac=null,uc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-Xe(r),i=1<<o;t|=e[o],r&=~i}return ec=t,so(),n}function Dc(e,t){Sl=null,pe.H=Ja,t===xi||t===Pi?(t=ji(),Yu=3):t===Ni?(t=ji(),Yu=4):Yu=t===cs?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,Ku=t,null===Ju&&(tc=1,is(e,Ao(t,e.current)))}function Mc(){var e=dl.current;return null===e||((4194048&Wu)===Wu?null===pl:!!((62914560&Wu)===Wu||536870912&Wu)&&e===pl)}function Lc(){var e=pe.H;return pe.H=Ja,null===e?Ja:e}function Uc(){var e=pe.A;return pe.A=zu,e}function jc(){tc=4,Qu||(4194048&Wu)!==Wu&&null!==dl.current||(Xu=!0),!(134217727&nc)&&!(134217727&rc)||null===$u||xc($u,Wu,ic,!1)}function Fc(e,t,n){var r=Bu;Bu|=2;var o=Lc(),i=Uc();$u===e&&Wu===t||(fc=null,Rc(e,t)),t=!1;var l=tc;e:for(;;)try{if(0!==Yu&&null!==Ju){var a=Ju,s=Ku;switch(Yu){case 8:Pc(),l=6;break e;case 3:case 2:case 9:case 6:null===dl.current&&(t=!0);var u=Yu;if(Yu=0,Ku=null,Vc(e,a,s,u),n&&Xu){l=0;break e}break;default:u=Yu,Yu=0,Ku=null,Vc(e,a,s,u)}}qc(),l=tc;break}catch(c){Dc(e,c)}return t&&e.shellSuspendCounter++,ri=ni=null,Bu=r,pe.H=o,pe.A=i,null===Ju&&($u=null,Wu=0,so()),l}function qc(){for(;null!==Ju;)Hc(Ju)}function Gc(){for(;null!==Ju&&!je();)Hc(Ju)}function Hc(e){var t=js(e.alternate,e,ec);e.memoizedProps=e.pendingProps,null===t?Bc(e):Ju=t}function zc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=_s(n,t,t.pendingProps,t.type,void 0,Wu);break;case 11:t=_s(n,t,t.pendingProps,t.type.render,t.ref,Wu);break;case 5:Fl(t);default:Js(n,t),t=js(n,t=Ju=Eo(t,ec),ec)}e.memoizedProps=e.pendingProps,null===t?Bc(e):Ju=t}function Vc(e,t,n,r){ri=ni=null,Fl(t),qi=null,Gi=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&si(t,n,o,!0),null!==(n=dl.current)){switch(n.tag){case 31:case 13:return null===pl?jc():null===n.alternate&&0===tc&&(tc=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===Ri?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),nd(e,r,o)),!1;case 22:return n.flags|=65536,r===Ri?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),nd(e,r,o)),!1}throw Error(j(435,n.tag))}return nd(e,r,o),jc(),!1}if(Vo)return null!==(t=dl.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==Jo&&ei(Ao(e=Error(j(422),{cause:r}),n))):(r!==Jo&&ei(Ao(t=Error(j(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=Ao(r,n),el(e,o=as(e.stateNode,r,o)),4!==tc&&(tc=2)),!1;var i=Error(j(520),{cause:r});if(i=Ao(i,n),null===ac?ac=[i]:ac.push(i),4!==tc&&(tc=2),null===t)return!0;r=Ao(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,el(n,e=as(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===i||"function"!=typeof i.componentDidCatch||null!==hc&&hc.has(i))))return n.flags|=65536,o&=-o,n.lanes|=o,us(o=ss(o),e,n,r),el(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,Wu))return tc=1,is(e,Ao(n,e.current)),void(Ju=null)}catch(i){if(null!==o)throw Ju=o,i;return tc=1,is(e,Ao(n,e.current)),void(Ju=null)}32768&t.flags?(Vo||1===r?e=!0:Xu||536870912&Wu?e=!1:(Qu=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=dl.current)&&13===r.tag&&(r.flags|=16384))),$c(t,e)):Bc(t)}function Bc(e){var t=e;do{if(32768&t.flags)return void $c(t,Qu);e=t.return;var n=Bs(t.alternate,t,ec);if(null!==n)return void(Ju=n);if(null!==(t=t.sibling))return void(Ju=t);Ju=t=e}while(null!==t);0===tc&&(tc=5)}function $c(e,t){do{var n=$s(e.alternate,e);if(null!==n)return n.flags&=32767,void(Ju=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(Ju=e);Ju=e=n}while(null!==e);tc=6,Ju=null}function Jc(e,t,n,r,o,i,l,a,s){e.cancelPendingCommit=null;do{Xc()}while(0!==mc);if(6&Bu)throw Error(j(327));if(null!==t){if(t===e.current)throw Error(j(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,o,i){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,s=e.expirationTimes,u=e.hiddenUpdates;for(n=l&~n;0<n;){var c=31-Xe(n),d=1<<c;a[c]=0,s[c]=-1;var p=u[c];if(null!==p)for(u[c]=null,c=0;c<p.length;c++){var f=p[c];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&dt(e,r,0),0!==i&&0===o&&0!==e.tag&&(e.suspendedLanes|=i&~(l&~t))}(e,n,i|=ao,l,a,s),e===$u&&(Ju=$u=null,Wu=0),yc=t,gc=e,vc=n,bc=i,Ec=o,Sc=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,Le(Ve,function(){return Zc(),null})):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=pe.T,pe.T=null,o=fe.p,fe.p=2,l=Bu,Bu|=4;try{!function(e,t){if(e=e.containerInfo,$d=Qp,Lr(e=Mr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(m){n=null;break e}var l=0,a=-1,s=-1,u=0,c=0,d=e,p=null;t:for(;;){for(var f;d!==n||0!==o&&3!==d.nodeType||(a=l+o),d!==i||0!==r&&3!==d.nodeType||(s=l+r),3===d.nodeType&&(l+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===e)break t;if(p===n&&++u===o&&(a=l),p===i&&++c===r&&(s=l),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===a||-1===s?null:{start:a,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jd={focusedElem:e,selectionRange:n},Qp=!1,du=t;null!==du;)if(e=(t=du).child,1028&t.subtreeFlags&&null!==e)e.return=t,du=e;else for(;null!==du;){switch(i=(t=du).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(o=e[n]).ref.impl=o.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==i){e=void 0,n=t,o=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var h=ts(n.type,o);e=r.getSnapshotBeforeUpdate(h,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(g){td(n,n.return,g)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))ap(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ap(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(j(163))}if(null!==(e=t.sibling)){e.return=t.return,du=e;break}du=t.return}}(e,t)}finally{Bu=l,fe.p=o,pe.T=r}}mc=1,Wc(),Yc(),Kc()}}function Wc(){if(1===mc){mc=0;var e=gc,t=yc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=pe.T,pe.T=null;var r=fe.p;fe.p=2;var o=Bu;Bu|=4;try{_u(t,e);var i=Jd,l=Mr(e.containerInfo),a=i.focusedElem,s=i.selectionRange;if(l!==a&&a&&a.ownerDocument&&Dr(a.ownerDocument.documentElement,a)){if(null!==s&&Lr(a)){var u=s.start,c=s.end;if(void 0===c&&(c=u),"selectionStart"in a)a.selectionStart=u,a.selectionEnd=Math.min(c,a.value.length);else{var d=a.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var f=p.getSelection(),h=a.textContent.length,m=Math.min(s.start,h),g=void 0===s.end?m:Math.min(s.end,h);!f.extend&&m>g&&(l=g,g=m,m=l);var y=Rr(a,m),v=Rr(a,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=a;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof a.focus&&a.focus(),a=0;a<d.length;a++){var E=d[a];E.element.scrollLeft=E.left,E.element.scrollTop=E.top}}Qp=!!$d,Jd=$d=null}finally{Bu=o,fe.p=r,pe.T=n}}e.current=t,mc=2}}function Yc(){if(2===mc){mc=0;var e=gc,t=yc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=pe.T,pe.T=null;var r=fe.p;fe.p=2;var o=Bu;Bu|=4;try{pu(e,t.alternate,t)}finally{Bu=o,fe.p=r,pe.T=n}}mc=3}}function Kc(){if(4===mc||3===mc){mc=0,Fe();var e=gc,t=yc,n=vc,r=Sc;10256&t.subtreeFlags||10256&t.flags?mc=5:(mc=0,yc=gc=null,Qc(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(hc=null),mt(n),t=t.stateNode,Ke&&"function"==typeof Ke.onCommitFiberRoot)try{Ke.onCommitFiberRoot(Ye,t,void 0,!(128&~t.current.flags))}catch(s){}if(null!==r){t=pe.T,o=fe.p,fe.p=2,pe.T=null;try{for(var i=e.onRecoverableError,l=0;l<r.length;l++){var a=r[l];i(a.value,{componentStack:a.stack})}}finally{pe.T=t,fe.p=o}}3&vc&&Xc(),fd(e),o=e.pendingLanes,261930&n&&42&o?e===_c?wc++:(wc=0,_c=e):wc=0,hd(0)}}function Qc(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,bi(t)))}function Xc(){return Wc(),Yc(),Kc(),Zc()}function Zc(){if(5!==mc)return!1;var e=gc,t=bc;bc=0;var n=mt(vc),r=pe.T,o=fe.p;try{fe.p=32>n?32:n,pe.T=null,n=Ec,Ec=null;var i=gc,l=vc;if(mc=0,yc=gc=null,vc=0,6&Bu)throw Error(j(331));var a=Bu;if(Bu|=4,qu(i.current),Pu(i,i.current,l,n),Bu=a,hd(0,!1),Ke&&"function"==typeof Ke.onPostCommitFiberRoot)try{Ke.onPostCommitFiberRoot(Ye,i)}catch(s){}return!0}finally{fe.p=o,pe.T=r,Qc(e,t)}}function ed(e,t,n){t=Ao(n,t),null!==(e=Xi(e,t=as(e.stateNode,t,2),2))&&(ct(e,2),fd(e))}function td(e,t,n){if(3===e.tag)ed(e,e,n);else for(;null!==t;){if(3===t.tag){ed(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===hc||!hc.has(r))){e=Ao(n,e),null!==(r=Xi(t,n=ss(2),2))&&(us(n,r,t,e),ct(r,2),fd(r));break}}t=t.return}}function nd(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Vu;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(Zu=!0,o.add(n),e=rd.bind(null,e,t,n),t.then(e,e))}function rd(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,$u===e&&(Wu&n)===n&&(4===tc||3===tc&&(62914560&Wu)===Wu&&300>qe()-cc?!(2&Bu)&&Rc(e,0):oc|=n,lc===Wu&&(lc=0)),fd(e)}function od(e,t){0===t&&(t=st()),null!==(e=po(e,t))&&(ct(e,t),fd(e))}function id(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),od(e,n)}function ld(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(j(314))}null!==r&&r.delete(t),od(e,n)}var ad=null,sd=null,ud=!1,cd=!1,dd=!1,pd=0;function fd(e){e!==sd&&null===e.next&&(null===sd?ad=sd=e:sd=sd.next=e),cd=!0,ud||(ud=!0,np(function(){6&Bu?Le(He,md):gd()}))}function hd(e,t){if(!dd&&cd){dd=!0;do{for(var n=!1,r=ad;null!==r;){if(0!==e){var o=r.pendingLanes;if(0===o)var i=0;else{var l=r.suspendedLanes,a=r.pingedLanes;i=(1<<31-Xe(42|e)+1)-1,i=201326741&(i&=o&~(l&~a))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,bd(r,i))}else i=Wu,!(3&(i=it(r,r===$u?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||lt(r,i)||(n=!0,bd(r,i));r=r.next}}while(n);dd=!1}}function md(){gd()}function gd(){cd=ud=!1;var e=0;0!==pd&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Xd&&(Xd=e,!0);return Xd=null,!1}()&&(e=pd);for(var t=qe(),n=null,r=ad;null!==r;){var o=r.next,i=yd(r,t);0===i?(r.next=null,null===n?ad=o:n.next=o,null===o&&(sd=n)):(n=r,(0!==e||3&i)&&(cd=!0)),r=o}0!==mc&&5!==mc||hd(e),0!==pd&&(pd=0)}function yd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var l=31-Xe(i),a=1<<l,s=o[l];-1===s?0!==(a&n)&&0===(a&r)||(o[l]=at(a,t)):s<=t&&(e.expiredLanes|=a),i&=~a}if(n=Wu,n=it(e,e===(t=$u)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===Yu||9===Yu)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&Ue(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||lt(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&Ue(r),mt(n)){case 2:case 8:n=ze;break;case 32:default:n=Ve;break;case 268435456:n=$e}return r=vd.bind(null,e),n=Le(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&Ue(r),e.callbackPriority=2,e.callbackNode=null,2}function vd(e,t){if(0!==mc&&5!==mc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Xc()&&e.callbackNode!==n)return null;var r=Wu;return 0===(r=it(e,e===$u?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Ac(e,r,t),yd(e,qe()),null!=e.callbackNode&&e.callbackNode===n?vd.bind(null,e):null)}function bd(e,t){if(Xc())return null;Ac(e,t,!0)}function Ed(){if(0===pd){var e=wi;0===e&&(e=tt,!(261888&(tt<<=1))&&(tt=256)),pd=e}return pd}function Sd(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:cn(""+e)}function wd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var _d=0;_d<no.length;_d++){var Cd=no[_d];ro(Cd.toLowerCase(),"on"+(Cd[0].toUpperCase()+Cd.slice(1)))}ro(Wr,"onAnimationEnd"),ro(Yr,"onAnimationIteration"),ro(Kr,"onAnimationStart"),ro("dblclick","onDoubleClick"),ro("focusin","onFocus"),ro("focusout","onBlur"),ro(Qr,"onTransitionRun"),ro(Xr,"onTransitionStart"),ro(Zr,"onTransitionCancel"),ro(eo,"onTransitionEnd"),Lt("onMouseEnter",["mouseout","mouseover"]),Lt("onMouseLeave",["mouseout","mouseover"]),Lt("onPointerEnter",["pointerout","pointerover"]),Lt("onPointerLeave",["pointerout","pointerover"]),Mt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Id=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Td));function Ad(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var a=r[l],s=a.instance,u=a.currentTarget;if(a=a.listener,s!==i&&o.isPropagationStopped())break e;i=a,o.currentTarget=u;try{i(o)}catch(c){oo(c)}o.currentTarget=null,i=s}else for(l=0;l<r.length;l++){if(s=(a=r[l]).instance,u=a.currentTarget,a=a.listener,s!==i&&o.isPropagationStopped())break e;i=a,o.currentTarget=u;try{i(o)}catch(c){oo(c)}o.currentTarget=null,i=s}}}}function Od(e,t){var n=t[wt];void 0===n&&(n=t[wt]=new Set);var r=e+"__bubble";n.has(r)||(Pd(t,e,2,!1),n.add(r))}function kd(e,t,n){var r=0;t&&(r|=4),Pd(n,e,r,t)}var xd="_reactListening"+Math.random().toString(36).slice(2);function Nd(e){if(!e[xd]){e[xd]=!0,Rt.forEach(function(t){"selectionchange"!==t&&(Id.has(t)||kd(t,!1,e),kd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[xd]||(t[xd]=!0,kd("selectionchange",!1,t))}}function Pd(e,t,n,r){switch(of(t)){case 2:var o=Xp;break;case 8:o=Zp;break;default:o=ef}n=o.bind(null,t,n,e),o=void 0,!Sn||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Rd(e,t,n,r,o){var i=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var a=r.stateNode.containerInfo;if(a===o)break;if(4===l)for(l=r.return;null!==l;){var s=l.tag;if((3===s||4===s)&&l.stateNode.containerInfo===o)return;l=l.return}for(;null!==a;){if(null===(l=Ot(a)))return;if(5===(s=l.tag)||6===s||26===s||27===s){r=i=l;continue e}a=a.parentNode}}r=r.return}vn(function(){var r=i,o=fn(n),l=[];e:{var a=to.get(e);if(void 0!==a){var s=Mn,u=e;switch(e){case"keypress":if(0===An(n))break e;case"keydown":case"keyup":s=Kn;break;case"focusin":u="focus",s=Gn;break;case"focusout":u="blur",s=Gn;break;case"beforeblur":case"afterblur":s=Gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=qn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Xn;break;case Wr:case Yr:case Kr:s=Hn;break;case eo:s=Zn;break;case"scroll":case"scrollend":s=Un;break;case"wheel":s=er;break;case"copy":case"cut":case"paste":s=zn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Qn;break;case"toggle":case"beforetoggle":s=tr}var c=!!(4&t),d=!c&&("scroll"===e||"scrollend"===e),p=c?null!==a?a+"Capture":null:a;c=[];for(var f,h=r;null!==h;){var m=h;if(f=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===f||null===p||null!=(m=bn(h,p))&&c.push(Dd(h,m,f)),d)break;h=h.return}0<c.length&&(a=new s(a,u,null,n,o),l.push({event:a,listeners:c}))}}if(!(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===pn||!(u=n.relatedTarget||n.fromElement)||!Ot(u)&&!u[St])&&(s||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,s?(s=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ot(u):null)&&(d=q(u),c=u.tag,u!==d||5!==c&&27!==c&&6!==c)&&(u=null)):(s=null,u=r),s!==u)){if(c=Fn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=Qn,m="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==s?a:xt(s),f=null==u?a:xt(u),(a=new c(m,h+"leave",s,n,o)).target=d,a.relatedTarget=f,m=null,Ot(o)===r&&((c=new c(p,h+"enter",u,n,o)).target=f,c.relatedTarget=d,m=c),d=m,s&&u)e:{for(c=Ld,h=u,f=0,m=p=s;m;m=c(m))f++;m=0;for(var g=h;g;g=c(g))m++;for(;0<f-m;)p=c(p),f--;for(;0<m-f;)h=c(h),m--;for(;f--;){if(p===h||null!==h&&p===h.alternate){c=p;break e}p=c(p),h=c(h)}c=null}else c=null;null!==s&&Ud(l,a,s,c,!1),null!==u&&null!==d&&Ud(l,d,u,c,!0)}if("select"===(s=(a=r?xt(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===s&&"file"===a.type)var y=br;else if(fr(a))if(Er)y=kr;else{y=Ar;var v=Ir}else!(s=a.nodeName)||"input"!==s.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&an(r.elementType)&&(y=br):y=Or;switch(y&&(y=y(e,r))?hr(l,y,n,o):(v&&v(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&Xt(a,"number",a.value)),v=r?xt(r):window,e){case"focusin":(fr(v)||"true"===v.contentEditable)&&(jr=v,Fr=r,qr=null);break;case"focusout":qr=Fr=jr=null;break;case"mousedown":Gr=!0;break;case"contextmenu":case"mouseup":case"dragend":Gr=!1,Hr(l,n,o);break;case"selectionchange":if(Ur)break;case"keydown":case"keyup":Hr(l,n,o)}var b;if(rr)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else dr?ur(e,n)&&(E="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(E="onCompositionStart");E&&(lr&&"ko"!==n.locale&&(dr||"onCompositionStart"!==E?"onCompositionEnd"===E&&dr&&(b=In()):(Cn="value"in(_n=o)?_n.value:_n.textContent,dr=!0)),0<(v=Md(r,E)).length&&(E=new Vn(E,e,null,n,o),l.push({event:E,listeners:v}),b?E.data=b:null!==(b=cr(n))&&(E.data=b))),(b=ir?function(e,t){switch(e){case"compositionend":return cr(t);case"keypress":return 32!==t.which?null:(sr=!0,ar);case"textInput":return(e=t.data)===ar&&sr?null:e;default:return null}}(e,n):function(e,t){if(dr)return"compositionend"===e||!rr&&ur(e,t)?(e=In(),Tn=Cn=_n=null,dr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lr&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(E=Md(r,"onBeforeInput")).length&&(v=new Vn("onBeforeInput","beforeinput",null,n,o),l.push({event:v,listeners:E}),v.data=b)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var i=Sd((o[Et]||null).action),l=r.submitter;l&&null!==(t=(t=l[Et]||null)?Sd(t.formAction):l.getAttribute("formAction"))&&(i=t,l=null);var a=new Mn("action","action",null,r,o);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==pd){var e=l?wd(o,l):new FormData(o);Ra(n,{pending:!0,data:e,method:o.method,action:i},null,e)}}else"function"==typeof i&&(a.preventDefault(),e=l?wd(o,l):new FormData(o),Ra(n,{pending:!0,data:e,method:o.method,action:i},i,e))},currentTarget:o}]})}}(l,e,r,n,o)}Ad(l,t)})}function Dd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Md(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===i||(null!=(o=bn(e,n))&&r.unshift(Dd(e,o,i)),null!=(o=bn(e,t))&&r.push(Dd(e,o,i))),3===e.tag)return r;e=e.return}return[]}function Ld(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ud(e,t,n,r,o){for(var i=t._reactName,l=[];null!==n&&n!==r;){var a=n,s=a.alternate,u=a.stateNode;if(a=a.tag,null!==s&&s===r)break;5!==a&&26!==a&&27!==a||null===u||(s=u,o?null!=(u=bn(n,i))&&l.unshift(Dd(n,u,s)):o||null!=(u=bn(n,i))&&l.push(Dd(n,u,s))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var jd=/\r\n?/g,Fd=/\u0000|\uFFFD/g;function qd(e){return("string"==typeof e?e:""+e).replace(jd,"\n").replace(Fd,"")}function Gd(e,t){return t=qd(t),qd(e)===t}function Hd(e,t,n,r,o,i){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||nn(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&nn(e,""+r);break;case"className":Gt(e,"class",r);break;case"tabIndex":Gt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Gt(e,n,r);break;case"style":ln(e,r,i);break;case"data":if("object"!==t){Gt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=cn(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof i&&("formAction"===n?("input"!==t&&Hd(e,t,"name",o.name,o,null),Hd(e,t,"formEncType",o.formEncType,o,null),Hd(e,t,"formMethod",o.formMethod,o,null),Hd(e,t,"formTarget",o.formTarget,o,null)):(Hd(e,t,"encType",o.encType,o,null),Hd(e,t,"method",o.method,o,null),Hd(e,t,"target",o.target,o,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=cn(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=dn);break;case"onScroll":null!=r&&Od("scroll",e);break;case"onScrollEnd":null!=r&&Od("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(j(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(j(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=cn(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Od("beforetoggle",e),Od("toggle",e),qt(e,"popover",r);break;case"xlinkActuate":Ht(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ht(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ht(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ht(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ht(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ht(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ht(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ht(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ht(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":qt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&qt(e,n=sn.get(n)||n,r)}}function zd(e,t,n,r,o,i){switch(n){case"style":ln(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(j(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(j(60));e.innerHTML=n}}break;case"children":"string"==typeof r?nn(e,r):("number"==typeof r||"bigint"==typeof r)&&nn(e,""+r);break;case"onScroll":null!=r&&Od("scroll",e);break;case"onScrollEnd":null!=r&&Od("scrollend",e);break;case"onClick":null!=r&&(e.onclick=dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Dt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"==typeof(i=null!=(i=e[Et]||null)?i[n]:null)&&e.removeEventListener(t,i,o),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):qt(e,n,r):("function"!=typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function Vd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Od("error",e),Od("load",e);var r,o=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var l=n[r];if(null!=l)switch(r){case"src":o=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(j(137,t));default:Hd(e,t,r,l,n,null)}}return i&&Hd(e,t,"srcSet",n.srcSet,n,null),void(o&&Hd(e,t,"src",n.src,n,null));case"input":Od("invalid",e);var a=r=l=i=null,s=null,u=null;for(o in n)if(n.hasOwnProperty(o)){var c=n[o];if(null!=c)switch(o){case"name":i=c;break;case"type":l=c;break;case"checked":s=c;break;case"defaultChecked":u=c;break;case"value":r=c;break;case"defaultValue":a=c;break;case"children":case"dangerouslySetInnerHTML":if(null!=c)throw Error(j(137,t));break;default:Hd(e,t,o,c,n,null)}}return void Qt(e,r,a,s,u,l,i,!1);case"select":for(i in Od("invalid",e),o=l=r=null,n)if(n.hasOwnProperty(i)&&null!=(a=n[i]))switch(i){case"value":r=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:Hd(e,t,i,a,n,null)}return t=r,n=l,e.multiple=!!o,void(null!=t?Zt(e,!!o,t,!1):null!=n&&Zt(e,!!o,n,!0));case"textarea":for(l in Od("invalid",e),r=i=o=null,n)if(n.hasOwnProperty(l)&&null!=(a=n[l]))switch(l){case"value":o=a;break;case"defaultValue":i=a;break;case"children":r=a;break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(j(91));break;default:Hd(e,t,l,a,n,null)}return void tn(e,o,i,r);case"option":for(s in n)if(n.hasOwnProperty(s)&&null!=(o=n[s]))if("selected"===s)e.selected=o&&"function"!=typeof o&&"symbol"!=typeof o;else Hd(e,t,s,o,n,null);return;case"dialog":Od("beforetoggle",e),Od("toggle",e),Od("cancel",e),Od("close",e);break;case"iframe":case"object":Od("load",e);break;case"video":case"audio":for(o=0;o<Td.length;o++)Od(Td[o],e);break;case"image":Od("error",e),Od("load",e);break;case"details":Od("toggle",e);break;case"embed":case"source":case"link":Od("error",e),Od("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(j(137,t));default:Hd(e,t,u,o,n,null)}return;default:if(an(t)){for(c in n)n.hasOwnProperty(c)&&(void 0!==(o=n[c])&&zd(e,t,c,o,n,void 0));return}}for(a in n)n.hasOwnProperty(a)&&(null!=(o=n[a])&&Hd(e,t,a,o,n,null))}function Bd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var $d=null,Jd=null;function Wd(e){return 9===e.nodeType?e:e.ownerDocument}function Yd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Qd(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Xd=null;var Zd="function"==typeof setTimeout?setTimeout:void 0,ep="function"==typeof clearTimeout?clearTimeout:void 0,tp="function"==typeof Promise?Promise:void 0,np="function"==typeof queueMicrotask?queueMicrotask:void 0!==tp?function(e){return tp.resolve(null).then(e).catch(rp)}:Zd;function rp(e){setTimeout(function(){throw e})}function op(e){return"head"===e}function ip(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)||"/&"===n){if(0===r)return e.removeChild(o),void _f(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)gp(e.ownerDocument.documentElement);else if("head"===n){gp(n=e.ownerDocument.head);for(var i=n.firstChild;i;){var l=i.nextSibling,a=i.nodeName;i[It]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=l}}else"body"===n&&gp(e.ownerDocument.body);n=o}while(n);_f(t)}function lp(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function ap(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ap(n),At(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function sp(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=dp(e.nextSibling)))return null}return e}function up(e){return"$?"===e.data||"$~"===e.data}function cp(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function dp(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var pp=null;function fp(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return dp(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function hp(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function mp(e,t,n){switch(t=Wd(n),e){case"html":if(!(e=t.documentElement))throw Error(j(452));return e;case"head":if(!(e=t.head))throw Error(j(453));return e;case"body":if(!(e=t.body))throw Error(j(454));return e;default:throw Error(j(451))}}function gp(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);At(e)}var yp=new Map,vp=new Set;function bp(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ep=fe.d;fe.d={f:function(){var e=Ep.f(),t=Nc();return e||t},r:function(e){var t=kt(e);null!==t&&5===t.tag&&"form"===t.type?Ma(t):Ep.r(e)},D:function(e){Ep.D(e),wp("dns-prefetch",e,null)},C:function(e,t){Ep.C(e,t),wp("preconnect",e,t)},L:function(e,t,n){Ep.L(e,t,n);var r=Sp;if(r&&e&&t){var o='link[rel="preload"][as="'+Yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Yt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(o+='[imagesizes="'+Yt(n.imageSizes)+'"]')):o+='[href="'+Yt(e)+'"]';var i=o;switch(t){case"style":i=Cp(e);break;case"script":i=Ap(e)}yp.has(i)||(e=B({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),yp.set(i,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(Tp(i))||"script"===t&&r.querySelector(Op(i))||(Vd(t=r.createElement("link"),"link",e),Pt(t),r.head.appendChild(t)))}},m:function(e,t){Ep.m(e,t);var n=Sp;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+Yt(r)+'"][href="'+Yt(e)+'"]',i=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ap(e)}if(!yp.has(i)&&(e=B({rel:"modulepreload",href:e},t),yp.set(i,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Op(i)))return}Vd(r=n.createElement("link"),"link",e),Pt(r),n.head.appendChild(r)}}},X:function(e,t){Ep.X(e,t);var n=Sp;if(n&&e){var r=Nt(n).hoistableScripts,o=Ap(e),i=r.get(o);i||((i=n.querySelector(Op(o)))||(e=B({src:e,async:!0},t),(t=yp.get(o))&&Pp(e,t),Pt(i=n.createElement("script")),Vd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}},S:function(e,t,n){Ep.S(e,t,n);var r=Sp;if(r&&e){var o=Nt(r).hoistableStyles,i=Cp(e);t=t||"default";var l=o.get(i);if(!l){var a={loading:0,preload:null};if(l=r.querySelector(Tp(i)))a.loading=5;else{e=B({rel:"stylesheet",href:e,"data-precedence":t},n),(n=yp.get(i))&&Np(e,n);var s=l=r.createElement("link");Pt(s),Vd(s,"link",e),s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),s.addEventListener("load",function(){a.loading|=1}),s.addEventListener("error",function(){a.loading|=2}),a.loading|=4,xp(l,t,r)}l={type:"stylesheet",instance:l,count:1,state:a},o.set(i,l)}}},M:function(e,t){Ep.M(e,t);var n=Sp;if(n&&e){var r=Nt(n).hoistableScripts,o=Ap(e),i=r.get(o);i||((i=n.querySelector(Op(o)))||(e=B({src:e,async:!0,type:"module"},t),(t=yp.get(o))&&Pp(e,t),Pt(i=n.createElement("script")),Vd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}}};var Sp="undefined"==typeof document?null:document;function wp(e,t,n){var r=Sp;if(r&&"string"==typeof t&&t){var o=Yt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"==typeof n&&(o+='[crossorigin="'+n+'"]'),vp.has(o)||(vp.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(Vd(t=r.createElement("link"),"link",e),Pt(t),r.head.appendChild(t)))}}function _p(e,t,n,r){var o,i,l,a,s=(s=Ce.current)?bp(s):null;if(!s)throw Error(j(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Cp(n.href),(r=(n=Nt(s).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Cp(n.href);var u=Nt(s).hoistableStyles,c=u.get(e);if(c||(s=s.ownerDocument||s,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,c),(u=s.querySelector(Tp(e)))&&!u._p&&(c.instance=u,c.state.loading=5),yp.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},yp.set(e,n),u||(o=s,i=e,l=n,a=c.state,o.querySelector('link[rel="preload"][as="style"]['+i+"]")?a.loading=1:(i=o.createElement("link"),a.preload=i,i.addEventListener("load",function(){return a.loading|=1}),i.addEventListener("error",function(){return a.loading|=2}),Vd(i,"link",l),Pt(i),o.head.appendChild(i))))),t&&null===r)throw Error(j(528,""));return c}if(t&&null!==r)throw Error(j(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Ap(n),(r=(n=Nt(s).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(j(444,e))}}function Cp(e){return'href="'+Yt(e)+'"'}function Tp(e){return'link[rel="stylesheet"]['+e+"]"}function Ip(e){return B({},e,{"data-precedence":e.precedence,precedence:null})}function Ap(e){return'[src="'+Yt(e)+'"]'}function Op(e){return"script[async]"+e}function kp(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Yt(n.href)+'"]');if(r)return t.instance=r,Pt(r),r;var o=B({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Pt(r=(e.ownerDocument||e).createElement("style")),Vd(r,"style",o),xp(r,n.precedence,e),t.instance=r;case"stylesheet":o=Cp(n.href);var i=e.querySelector(Tp(o));if(i)return t.state.loading|=4,t.instance=i,Pt(i),i;r=Ip(n),(o=yp.get(o))&&Np(r,o),Pt(i=(e.ownerDocument||e).createElement("link"));var l=i;return l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),Vd(i,"link",r),t.state.loading|=4,xp(i,n.precedence,e),t.instance=i;case"script":return i=Ap(n.src),(o=e.querySelector(Op(i)))?(t.instance=o,Pt(o),o):(r=n,(o=yp.get(i))&&Pp(r=B({},n),o),Pt(o=(e=e.ownerDocument||e).createElement("script")),Vd(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(j(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,xp(r,n.precedence,e));return t.instance}function xp(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,i=o,l=0;l<r.length;l++){var a=r[l];if(a.dataset.precedence===t)i=a;else if(i!==o)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Np(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Pp(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Rp=null;function Dp(e,t,n){if(null===Rp){var r=new Map,o=Rp=new Map;o.set(n,r)}else(r=(o=Rp).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var i=n[o];if(!(i[It]||i[bt]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var l=i.getAttribute(t)||"";l=e+l;var a=r.get(l);a?a.push(i):r.set(l,[i])}}return r}function Mp(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Lp(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Up=0;function jp(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)qp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Fp=null;function qp(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Fp=new Map,t.forEach(Gp,e),Fp=null,jp.call(e))}function Gp(e,t){if(!(4&t.state.loading)){var n=Fp.get(e);if(n)var r=n.get(null);else{n=new Map,Fp.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<o.length;i++){var l=o[i];"LINK"!==l.nodeName&&"not all"===l.getAttribute("media")||(n.set(l.dataset.precedence,l),r=l)}r&&n.set(null,r)}l=(o=t.instance).getAttribute("data-precedence"),(i=n.get(l)||r)===r&&n.set(null,o),n.set(l,o),this.count++,r=jp.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),i?i.parentNode.insertBefore(o,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var Hp={$$typeof:Z,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function zp(e,t,n,r,o,i,l,a,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ut(0),this.hiddenUpdates=ut(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=i,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Vp(e,t,n,r,o,i,l,a,s,u,c,d){return e=new zp(e,t,n,l,s,u,c,d,a),t=1,!0===i&&(t|=24),i=yo(3,null,null,t),e.current=i,i.stateNode=e,(t=vi()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},Yi(i),e}function Bp(e){return e?e=mo:mo}function $p(e,t,n,r,o,i){o=Bp(o),null===r.context?r.context=o:r.pendingContext=o,(r=Qi(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=Xi(e,r,t))&&(Ic(n,0,t),Zi(n,e,t))}function Jp(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wp(e,t){Jp(e,t),(e=e.alternate)&&Jp(e,t)}function Yp(e){if(13===e.tag||31===e.tag){var t=po(e,67108864);null!==t&&Ic(t,0,67108864),Wp(e,67108864)}}function Kp(e){if(13===e.tag||31===e.tag){var t=Cc(),n=po(e,t=ht(t));null!==n&&Ic(n,0,t),Wp(e,t)}}var Qp=!0;function Xp(e,t,n,r){var o=pe.T;pe.T=null;var i=fe.p;try{fe.p=2,ef(e,t,n,r)}finally{fe.p=i,pe.T=o}}function Zp(e,t,n,r){var o=pe.T;pe.T=null;var i=fe.p;try{fe.p=8,ef(e,t,n,r)}finally{fe.p=i,pe.T=o}}function ef(e,t,n,r){if(Qp){var o=tf(r);if(null===o)Rd(e,t,r,nf,n),hf(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return af=mf(af,e,t,n,r,o),!0;case"dragenter":return sf=mf(sf,e,t,n,r,o),!0;case"mouseover":return uf=mf(uf,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return cf.set(i,mf(cf.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,df.set(i,mf(df.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(hf(e,r),4&t&&-1<ff.indexOf(e)){for(;null!==o;){var i=kt(o);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var l=ot(i.pendingLanes);if(0!==l){var a=i;for(a.pendingLanes|=2,a.entangledLanes|=2;l;){var s=1<<31-Xe(l);a.entanglements[1]|=s,l&=~s}fd(i),!(6&Bu)&&(pc=qe()+500,hd(0))}}break;case 31:case 13:null!==(a=po(i,2))&&Ic(a,0,2),Nc(),Wp(i,2)}if(null===(i=tf(r))&&Rd(e,t,r,nf,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Rd(e,t,r,null,n)}}function tf(e){return rf(e=fn(e))}var nf=null;function rf(e){if(nf=null,null!==(e=Ot(e))){var t=q(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=G(t)))return e;e=null}else if(31===n){if(null!==(e=H(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return nf=e,null}function of(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ge()){case He:return 2;case ze:return 8;case Ve:case Be:return 32;case $e:return 268435456;default:return 32}default:return 32}}var lf=!1,af=null,sf=null,uf=null,cf=new Map,df=new Map,pf=[],ff="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hf(e,t){switch(e){case"focusin":case"focusout":af=null;break;case"dragenter":case"dragleave":sf=null;break;case"mouseover":case"mouseout":uf=null;break;case"pointerover":case"pointerout":cf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":df.delete(t.pointerId)}}function mf(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=kt(t))&&Yp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function gf(e){var t=Ot(e.target);if(null!==t){var n=q(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=G(n)))return e.blockedOn=t,void yt(e.priority,function(){Kp(n)})}else if(31===t){if(null!==(t=H(n)))return e.blockedOn=t,void yt(e.priority,function(){Kp(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yf(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=tf(e.nativeEvent);if(null!==n)return null!==(t=kt(n))&&Yp(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);pn=r,n.target.dispatchEvent(r),pn=null,t.shift()}return!0}function vf(e,t,n){yf(e)&&n.delete(t)}function bf(){lf=!1,null!==af&&yf(af)&&(af=null),null!==sf&&yf(sf)&&(sf=null),null!==uf&&yf(uf)&&(uf=null),cf.forEach(vf),df.forEach(vf)}function Ef(e,t){e.blockedOn===t&&(e.blockedOn=null,lf||(lf=!0,M.unstable_scheduleCallback(M.unstable_NormalPriority,bf)))}var Sf=null;function wf(e){Sf!==e&&(Sf=e,M.unstable_scheduleCallback(M.unstable_NormalPriority,function(){Sf===e&&(Sf=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!=typeof r){if(null===rf(r||n))continue;break}var i=kt(n);null!==i&&(e.splice(t,3),t-=3,Ra(i,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function _f(e){function t(t){return Ef(t,e)}null!==af&&Ef(af,e),null!==sf&&Ef(sf,e),null!==uf&&Ef(uf,e),cf.forEach(t),df.forEach(t);for(var n=0;n<pf.length;n++){var r=pf[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<pf.length&&null===(n=pf[0]).blockedOn;)gf(n),null===n.blockedOn&&pf.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],i=n[r+1],l=o[Et]||null;if("function"==typeof i)l||wf(n);else if(l){var a=null;if(i&&i.hasAttribute("formAction")){if(o=i,l=i[Et]||null)a=l.formAction;else if(null!==rf(o))continue}else a=l.action;"function"==typeof a?n[r+1]=a:(n.splice(r,3),r-=3),wf(n)}}}function Cf(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return o=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==o&&(o(),o=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==o&&(o(),o=null)}}}function Tf(e){this._internalRoot=e}function If(e){this._internalRoot=e}If.prototype.render=Tf.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(j(409));$p(t.current,Cc(),e,t,null,null)},If.prototype.unmount=Tf.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;$p(e.current,2,null,e,null,null),Nc(),t[St]=null}},If.prototype.unstable_scheduleHydration=function(e){if(e){var t=gt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<pf.length&&0!==t&&t<pf[n].priority;n++);pf.splice(n,0,e),0===n&&gf(e)}};var Af=L.version;if("19.2.3"!==Af)throw Error(j(527,Af,"19.2.3"));fe.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(j(188));throw e=Object.keys(e).join(","),Error(j(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=q(e)))throw Error(j(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return z(o),e;if(i===r)return z(o),t;i=i.sibling}throw Error(j(188))}if(n.return!==r.return)n=o,r=i;else{for(var l=!1,a=o.child;a;){if(a===n){l=!0,n=o,r=i;break}if(a===r){l=!0,r=o,n=i;break}a=a.sibling}if(!l){for(a=i.child;a;){if(a===n){l=!0,n=i,r=o;break}if(a===r){l=!0,r=i,n=o;break}a=a.sibling}if(!l)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(3!==n.tag)throw Error(j(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?V(e):null)?null:e.stateNode};var Of={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:pe,reconcilerVersion:"19.2.3"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kf.isDisabled&&kf.supportsFiber)try{Ye=kf.inject(Of),Ke=kf}catch(rS){}}P.createRoot=function(e,t){if(!F(e))throw Error(j(299));var n=!1,r="",o=ns,i=rs,l=os;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=Vp(e,1,!1,null,0,n,r,null,o,i,l,Cf),e[St]=t.current,Nd(e),new Tf(t)},P.hydrateRoot=function(e,t,n){if(!F(e))throw Error(j(299));var r=!1,o="",i=ns,l=rs,a=os,s=null;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(a=n.onRecoverableError),void 0!==n.formState&&(s=n.formState)),(t=Vp(e,1,!0,t,0,r,o,s,i,l,a,Cf)).context=Bp(null),n=t.current,(o=Qi(r=ht(r=Cc()))).callback=null,Xi(n,o,r),n=r,t.current.lanes=n,ct(t,n),fd(t),e[St]=t.current,Nd(e),new If(t)},P.version="19.2.3",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(rS){console.error(rS)}}(),N.exports=P;const xf=n(N.exports),Nf=({activeTab:e,setActiveTab:t,onLogout:n,isDemoMode:r,onToggleMode:o})=>x.jsxs("aside",{className:"w-72 bg-slate-900 text-white flex flex-col h-screen sticky top-0 shadow-2xl",children:[x.jsxs("div",{className:"p-8 flex items-center space-x-4",children:[x.jsx("div",{className:"bg-blue-600 w-12 h-12 rounded-2xl flex items-center justify-center shadow-lg shadow-blue-500/20",children:x.jsx("i",{className:"fa-solid fa-wallet text-2xl"})}),x.jsx("h1",{className:"text-2xl font-black tracking-tighter",children:"FinanceWise"})]}),x.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:[{id:"dashboard",label:"",icon:"fa-chart-pie"},{id:"accounts",label:"",icon:"fa-building-columns"},{id:"transactions",label:"",icon:"fa-receipt"},{id:"fortune",label:"",icon:"fa-crystal-ball"},{id:"advice",label:"AI ",icon:"fa-robot"}].map(n=>x.jsxs("button",{onClick:()=>t(n.id),className:"w-full flex items-center space-x-4 px-6 py-4 rounded-2xl transition-all "+(e===n.id?"bg-blue-600 text-white shadow-xl shadow-blue-900/40 translate-x-2":"text-slate-400 hover:bg-slate-800 hover:text-white"),children:[x.jsx("i",{className:`fa-solid ${n.icon} w-6 text-lg`}),x.jsx("span",{className:"font-black text-sm tracking-wide",children:n.label})]},n.id))}),x.jsx("div",{className:"p-6 border-t border-slate-800/50",children:x.jsxs("button",{onClick:n,className:"w-full flex items-center space-x-4 px-6 py-4 rounded-2xl text-slate-500 hover:bg-rose-500/10 hover:text-rose-500 transition-all",children:[x.jsx("i",{className:"fa-solid fa-right-from-bracket w-6 text-lg"}),x.jsx("span",{className:"font-black text-sm",children:""})]})})]});var Pf=(e=>(e.INCOME="INCOME",e.EXPENSE="EXPENSE",e))(Pf||{});const Rf=({state:e})=>{const{accounts:t,transactions:n,categories:r}=e,o=t.reduce((e,t)=>e+t.balance,0),i=n.filter(e=>e.type===Pf.INCOME).reduce((e,t)=>e+t.amount,0),l=n.filter(e=>e.type===Pf.EXPENSE).reduce((e,t)=>e+t.amount,0),a=r.filter(e=>e.type===Pf.EXPENSE).map(e=>{const t=n.filter(t=>t.categoryId===e.id).reduce((e,t)=>e+t.amount,0);return{name:e.name,value:t}}).filter(e=>e.value>0),s=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#64748b"];return x.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[x.jsx("p",{className:"text-slate-500 text-sm font-medium",children:""}),x.jsxs("p",{className:"text-3xl font-bold text-slate-900 mt-1",children:["$",o.toLocaleString()]}),x.jsxs("div",{className:"mt-4 flex items-center text-emerald-500 text-sm",children:[x.jsx("i",{className:"fa-solid fa-arrow-up mr-1"}),x.jsx("span",{children:" 2.5%"})]})]}),x.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[x.jsx("p",{className:"text-slate-500 text-sm font-medium",children:""}),x.jsxs("p",{className:"text-3xl font-bold text-emerald-600 mt-1",children:["$",i.toLocaleString()]}),x.jsx("div",{className:"mt-4 flex items-center text-slate-400 text-sm",children:x.jsxs("span",{children:[" ",n.filter(e=>e.type===Pf.INCOME).length," "]})})]}),x.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[x.jsx("p",{className:"text-slate-500 text-sm font-medium",children:""}),x.jsxs("p",{className:"text-3xl font-bold text-rose-600 mt-1",children:["$",l.toLocaleString()]}),x.jsx("div",{className:"mt-4 flex items-center text-slate-400 text-sm",children:x.jsxs("span",{children:[" ",n.filter(e=>e.type===Pf.EXPENSE).length," "]})})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[x.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-6",children:""}),x.jsx("div",{className:"h-[300px]",children:x.jsx(m,{width:"100%",height:"100%",children:x.jsxs(g,{children:[x.jsx(y,{data:a,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:a.map((e,t)=>x.jsx(v,{fill:s[t%s.length]},`cell-${t}`))}),x.jsx(b,{}),x.jsx(E,{verticalAlign:"bottom",height:36})]})})})]}),x.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[x.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-6",children:""}),x.jsx("div",{className:"h-[300px]",children:x.jsx(m,{width:"100%",height:"100%",children:x.jsxs(S,{data:[{name:"","":i,"":l}],margin:{top:20,right:30,left:20,bottom:5},children:[x.jsx(w,{dataKey:"name"}),x.jsx(_,{}),x.jsx(b,{}),x.jsx(E,{}),x.jsx(C,{dataKey:"",fill:"#10b981",radius:[4,4,0,0]}),x.jsx(C,{dataKey:"",fill:"#ef4444",radius:[4,4,0,0]})]})})})]})]})]})},Df=[{id:"1",name:"",icon:"fa-utensils",color:"bg-orange-500",type:Pf.EXPENSE},{id:"2",name:"",icon:"fa-car",color:"bg-blue-500",type:Pf.EXPENSE},{id:"3",name:"",icon:"fa-bag-shopping",color:"bg-pink-500",type:Pf.EXPENSE},{id:"4",name:"",icon:"fa-gamepad",color:"bg-purple-500",type:Pf.EXPENSE},{id:"5",name:"",icon:"fa-house",color:"bg-indigo-500",type:Pf.EXPENSE},{id:"6",name:"",icon:"fa-stethoscope",color:"bg-red-500",type:Pf.EXPENSE},{id:"7",name:"",icon:"fa-money-bill-wave",color:"bg-green-500",type:Pf.INCOME},{id:"8",name:"",icon:"fa-gift",color:"bg-yellow-500",type:Pf.INCOME},{id:"9",name:"",icon:"fa-chart-line",color:"bg-teal-500",type:Pf.INCOME}],Mf=[{id:"acc1",name:"",bankName:"",balance:5e4,color:"bg-emerald-600"},{id:"acc2",name:"",bankName:"",balance:12e3,color:"bg-sky-600"}],Lf=[{id:"t1",accountId:"acc1",categoryId:"7",amount:45e3,type:Pf.INCOME,date:(new Date).toISOString().split("T")[0],note:""},{id:"t2",accountId:"acc2",categoryId:"1",amount:120,type:Pf.EXPENSE,date:(new Date).toISOString().split("T")[0],note:""},{id:"t3",accountId:"acc2",categoryId:"2",amount:50,type:Pf.EXPENSE,date:(new Date).toISOString().split("T")[0],note:""},{id:"t4",accountId:"acc1",categoryId:"9",amount:2e3,type:Pf.INCOME,date:(new Date).toISOString().split("T")[0],note:""}];let Uf=null,jf=null,Ff=null;let qf={apiKey:"AIzaSyBWaQ4UbYjrM4BlDKEYnaXHULKqy0qF6QQ",authDomain:"financewise-d3fe5.firebaseapp.com",projectId:"financewise-d3fe5",storageBucket:"financewise-d3fe5.firebasestorage.app",messagingSenderId:"120581227842",appId:"1:120581227842:web:7ef7f7f158425ff4b874db",measurementId:"G-Q8BSCNM19H"};if(qf&&qf.apiKey&&""!==qf.apiKey)try{Uf=0===r().length?o(qf):r()[0],jf=i(Uf),Ff=l(Uf),console.log("Firebase  (financewise-d3fe5)")}catch(nS){console.error("Firebase :",nS)}else console.warn("Firebase ");const Gf="finance_wise_v3_storage";const Hf=new class{constructor(){this.isFormalMode=!1}setMode(e){this.isFormalMode=e}async saveState(e){if(localStorage.setItem(Gf,JSON.stringify({accounts:e.accounts,transactions:e.transactions,currentUser:e.currentUser})),this.isFormalMode&&Ff&&(null==jf?void 0:jf.currentUser))try{const t=a(Ff,"users",jf.currentUser.uid);await s(t,{accounts:e.accounts,transactions:e.transactions,currentUser:e.currentUser,lastUpdated:(new Date).toISOString()},{merge:!0})}catch(nS){console.error("Firebase Save Error:",nS)}}async loadState(){const e=localStorage.getItem(Gf);let t=e?JSON.parse(e):null;if(this.isFormalMode&&Ff&&(null==jf?void 0:jf.currentUser))try{const e=a(Ff,"users",jf.currentUser.uid),t=await u(e);if(t.exists()){const e=t.data();return{accounts:e.accounts||[],transactions:e.transactions||[],currentUser:e.currentUser||null}}}catch(nS){console.error("Firebase Load Error:",nS)}return t}getInitialState(){return{accounts:Mf,transactions:Lf,categories:Df,isDemoMode:!0,isLoggedIn:!1,currentUser:null}}};var zf={};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Vf,Bf;function $f(e,t,n,r){var o,i;if(!(null==e?void 0:e.baseUrl)){const e={geminiUrl:Vf,vertexUrl:Bf};return t?null!==(o=e.vertexUrl)&&void 0!==o?o:n:null!==(i=e.geminiUrl)&&void 0!==i?i:r}return e.baseUrl}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jf{}function Wf(e,t){return e.replace(/\{([^}]+)\}/g,(e,n)=>{if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n];return null!=e?String(e):""}throw new Error(`Key '${n}' not found in valueMap.`)})}function Yf(e,t,n){for(let i=0;i<t.length-1;i++){const r=t[i];if(r.endsWith("[]")){const o=r.slice(0,-2);if(!(o in e)){if(!Array.isArray(n))throw new Error(`Value must be a list given an array path ${r}`);e[o]=Array.from({length:n.length},()=>({}))}if(Array.isArray(e[o])){const r=e[o];if(Array.isArray(n))for(let e=0;e<r.length;e++){Yf(r[e],t.slice(i+1),n[e])}else for(const e of r)Yf(e,t.slice(i+1),n)}return}if(r.endsWith("[0]")){const o=r.slice(0,-3);o in e||(e[o]=[{}]);return void Yf(e[o][0],t.slice(i+1),n)}e[r]&&"object"==typeof e[r]||(e[r]={}),e=e[r]}const r=t[t.length-1],o=e[r];if(void 0!==o){if(!n||"object"==typeof n&&0===Object.keys(n).length)return;if(n===o)return;if("object"!=typeof o||"object"!=typeof n||null===o||null===n)throw new Error(`Cannot set value for an existing key. Key: ${r}`);Object.assign(o,n)}else if("_self"!==r||"object"!=typeof n||null===n||Array.isArray(n))e[r]=n;else{const t=n;Object.assign(e,t)}}function Kf(e,t,n=void 0){try{if(1===t.length&&"_self"===t[0])return e;for(let r=0;r<t.length;r++){if("object"!=typeof e||null===e)return n;const o=t[r];if(o.endsWith("[]")){const i=o.slice(0,-2);if(i in e){const o=e[i];return Array.isArray(o)?o.map(e=>Kf(e,t.slice(r+1),n)):n}return n}e=e[o]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function Qf(e,t,n,r,o){if(r>=t.length)return;if("object"!=typeof e||null===e)return;const i=t[r];if(i.endsWith("[]")){const l=i.slice(0,-2),a=e;if(l in a&&Array.isArray(a[l]))for(const e of a[l])Qf(e,t,n,r+1,o)}else if("*"===i){if("object"==typeof e&&null!==e&&!Array.isArray(e)){const t=e,i=Object.keys(t).filter(e=>!e.startsWith("_")&&!o.has(e)),l={};for(const e of i)l[e]=t[e];for(const[e,o]of Object.entries(l)){const i=[];for(const t of n.slice(r))"*"===t?i.push(e):i.push(t);Yf(t,i,o)}for(const e of i)delete t[e]}}else{i in e&&Qf(e[i],t,n,r+1,o)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xf(e){if("string"!=typeof e)throw new Error("fromImageBytes must be a string");return e}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zf(e){const t={},n=Kf(e,["name"]);null!=n&&Yf(t,["name"],n);const r=Kf(e,["metadata"]);null!=r&&Yf(t,["metadata"],r);const o=Kf(e,["done"]);null!=o&&Yf(t,["done"],o);const i=Kf(e,["error"]);null!=i&&Yf(t,["error"],i);const l=Kf(e,["response","generateVideoResponse"]);return null!=l&&Yf(t,["response"],function(e){const t={},n=Kf(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["video"]);null!=n&&Yf(t,["video"],function(e){const t={},n=Kf(e,["uri"]);null!=n&&Yf(t,["uri"],n);const r=Kf(e,["encodedVideo"]);null!=r&&Yf(t,["videoBytes"],Xf(r));const o=Kf(e,["encoding"]);null!=o&&Yf(t,["mimeType"],o);return t}(n));return t}(e))),Yf(t,["generatedVideos"],e)}const r=Kf(e,["raiMediaFilteredCount"]);null!=r&&Yf(t,["raiMediaFilteredCount"],r);const o=Kf(e,["raiMediaFilteredReasons"]);null!=o&&Yf(t,["raiMediaFilteredReasons"],o);return t}(l)),t}function eh(e){const t={},n=Kf(e,["name"]);null!=n&&Yf(t,["name"],n);const r=Kf(e,["metadata"]);null!=r&&Yf(t,["metadata"],r);const o=Kf(e,["done"]);null!=o&&Yf(t,["done"],o);const i=Kf(e,["error"]);null!=i&&Yf(t,["error"],i);const l=Kf(e,["response"]);return null!=l&&Yf(t,["response"],function(e){const t={},n=Kf(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["_self"]);null!=n&&Yf(t,["video"],function(e){const t={},n=Kf(e,["gcsUri"]);null!=n&&Yf(t,["uri"],n);const r=Kf(e,["bytesBase64Encoded"]);null!=r&&Yf(t,["videoBytes"],Xf(r));const o=Kf(e,["mimeType"]);null!=o&&Yf(t,["mimeType"],o);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(n));return t}(e))),Yf(t,["generatedVideos"],e)}const r=Kf(e,["raiMediaFilteredCount"]);null!=r&&Yf(t,["raiMediaFilteredCount"],r);const o=Kf(e,["raiMediaFilteredReasons"]);null!=o&&Yf(t,["raiMediaFilteredReasons"],o);return t}(l)),t}function th(e){const t={},n=Kf(e,["name"]);null!=n&&Yf(t,["name"],n);const r=Kf(e,["metadata"]);null!=r&&Yf(t,["metadata"],r);const o=Kf(e,["done"]);null!=o&&Yf(t,["done"],o);const i=Kf(e,["error"]);null!=i&&Yf(t,["error"],i);const l=Kf(e,["response"]);return null!=l&&Yf(t,["response"],function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["parent"]);null!=r&&Yf(t,["parent"],r);const o=Kf(e,["documentName"]);null!=o&&Yf(t,["documentName"],o);return t}(l)),t}function nh(e){const t={},n=Kf(e,["name"]);null!=n&&Yf(t,["name"],n);const r=Kf(e,["metadata"]);null!=r&&Yf(t,["metadata"],r);const o=Kf(e,["done"]);null!=o&&Yf(t,["done"],o);const i=Kf(e,["error"]);null!=i&&Yf(t,["error"],i);const l=Kf(e,["response"]);return null!=l&&Yf(t,["response"],function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["parent"]);null!=r&&Yf(t,["parent"],r);const o=Kf(e,["documentName"]);null!=o&&Yf(t,["documentName"],o);return t}(l)),t}var rh,oh,ih,lh,ah,sh,uh,ch,dh,ph,fh,hh,mh,gh,yh,vh,bh,Eh,Sh,wh,_h,Ch,Th,Ih,Ah,Oh,kh,xh,Nh,Ph,Rh,Dh,Mh,Lh,Uh,jh,Fh,qh,Gh,Hh,zh,Vh,Bh,$h,Jh,Wh,Yh,Kh,Qh,Xh,Zh,em,tm,nm,rm,om,im,lm,am,sm,um,cm,dm,pm,fm,hm,mm,gm,ym,vm,bm,Em,Sm,wm,_m,Cm,Tm,Im,Am,Om,km,xm,Nm,Pm,Rm,Dm,Mm,Lm,Um,jm,Fm,qm,Gm,Hm,zm,Vm,Bm,$m,Jm,Wm,Ym,Km,Qm,Xm,Zm,eg,tg,ng,rg,og,ig,lg,ag,sg;(oh=rh||(rh={})).OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",oh.OUTCOME_OK="OUTCOME_OK",oh.OUTCOME_FAILED="OUTCOME_FAILED",oh.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED",(lh=ih||(ih={})).LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",lh.PYTHON="PYTHON",(sh=ah||(ah={})).SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",sh.SILENT="SILENT",sh.WHEN_IDLE="WHEN_IDLE",sh.INTERRUPT="INTERRUPT",(ch=uh||(uh={})).TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",ch.STRING="STRING",ch.NUMBER="NUMBER",ch.INTEGER="INTEGER",ch.BOOLEAN="BOOLEAN",ch.ARRAY="ARRAY",ch.OBJECT="OBJECT",ch.NULL="NULL",(ph=dh||(dh={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",ph.MODE_DYNAMIC="MODE_DYNAMIC",(hh=fh||(fh={})).API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",hh.SIMPLE_SEARCH="SIMPLE_SEARCH",hh.ELASTIC_SEARCH="ELASTIC_SEARCH",(gh=mh||(mh={})).AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",gh.NO_AUTH="NO_AUTH",gh.API_KEY_AUTH="API_KEY_AUTH",gh.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",gh.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",gh.OAUTH="OAUTH",gh.OIDC_AUTH="OIDC_AUTH",(vh=yh||(yh={})).HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",vh.HTTP_IN_QUERY="HTTP_IN_QUERY",vh.HTTP_IN_HEADER="HTTP_IN_HEADER",vh.HTTP_IN_PATH="HTTP_IN_PATH",vh.HTTP_IN_BODY="HTTP_IN_BODY",vh.HTTP_IN_COOKIE="HTTP_IN_COOKIE",(Eh=bh||(bh={})).PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",Eh.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",Eh.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",Eh.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",Eh.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",Eh.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",Eh.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH",(wh=Sh||(Sh={})).THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",wh.LOW="LOW",wh.MEDIUM="MEDIUM",wh.HIGH="HIGH",wh.MINIMAL="MINIMAL",(Ch=_h||(_h={})).HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",Ch.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",Ch.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",Ch.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",Ch.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",Ch.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",Ch.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",Ch.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",Ch.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",Ch.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",Ch.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK",(Ih=Th||(Th={})).HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",Ih.SEVERITY="SEVERITY",Ih.PROBABILITY="PROBABILITY",(Oh=Ah||(Ah={})).HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",Oh.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",Oh.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",Oh.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",Oh.BLOCK_NONE="BLOCK_NONE",Oh.OFF="OFF",(xh=kh||(kh={})).FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",xh.STOP="STOP",xh.MAX_TOKENS="MAX_TOKENS",xh.SAFETY="SAFETY",xh.RECITATION="RECITATION",xh.LANGUAGE="LANGUAGE",xh.OTHER="OTHER",xh.BLOCKLIST="BLOCKLIST",xh.PROHIBITED_CONTENT="PROHIBITED_CONTENT",xh.SPII="SPII",xh.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",xh.IMAGE_SAFETY="IMAGE_SAFETY",xh.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",xh.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",xh.NO_IMAGE="NO_IMAGE",xh.IMAGE_RECITATION="IMAGE_RECITATION",xh.IMAGE_OTHER="IMAGE_OTHER",(Ph=Nh||(Nh={})).HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",Ph.NEGLIGIBLE="NEGLIGIBLE",Ph.LOW="LOW",Ph.MEDIUM="MEDIUM",Ph.HIGH="HIGH",(Dh=Rh||(Rh={})).HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",Dh.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",Dh.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",Dh.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",Dh.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH",(Lh=Mh||(Mh={})).URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",Lh.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",Lh.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",Lh.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",Lh.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE",(jh=Uh||(Uh={})).BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",jh.SAFETY="SAFETY",jh.OTHER="OTHER",jh.BLOCKLIST="BLOCKLIST",jh.PROHIBITED_CONTENT="PROHIBITED_CONTENT",jh.IMAGE_SAFETY="IMAGE_SAFETY",jh.MODEL_ARMOR="MODEL_ARMOR",jh.JAILBREAK="JAILBREAK",(qh=Fh||(Fh={})).TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",qh.ON_DEMAND="ON_DEMAND",qh.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT",(Hh=Gh||(Gh={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",Hh.TEXT="TEXT",Hh.IMAGE="IMAGE",Hh.AUDIO="AUDIO",(Vh=zh||(zh={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",Vh.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",Vh.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",Vh.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",($h=Bh||(Bh={})).TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",$h.TUNING_MODE_FULL="TUNING_MODE_FULL",$h.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER",(Wh=Jh||(Jh={})).ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",Wh.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",Wh.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",Wh.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",Wh.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",Wh.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",Wh.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO",(Kh=Yh||(Yh={})).JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",Kh.JOB_STATE_QUEUED="JOB_STATE_QUEUED",Kh.JOB_STATE_PENDING="JOB_STATE_PENDING",Kh.JOB_STATE_RUNNING="JOB_STATE_RUNNING",Kh.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",Kh.JOB_STATE_FAILED="JOB_STATE_FAILED",Kh.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",Kh.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",Kh.JOB_STATE_PAUSED="JOB_STATE_PAUSED",Kh.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",Kh.JOB_STATE_UPDATING="JOB_STATE_UPDATING",Kh.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",(Xh=Qh||(Qh={})).TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",Xh.TUNING_TASK_I2V="TUNING_TASK_I2V",Xh.TUNING_TASK_T2V="TUNING_TASK_T2V",Xh.TUNING_TASK_R2V="TUNING_TASK_R2V",(em=Zh||(Zh={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",em.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",em.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",em.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",em.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH",(nm=tm||(tm={})).FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",nm.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",nm.BALANCED="BALANCED",nm.PRIORITIZE_COST="PRIORITIZE_COST",(om=rm||(rm={})).UNSPECIFIED="UNSPECIFIED",om.BLOCKING="BLOCKING",om.NON_BLOCKING="NON_BLOCKING",(lm=im||(im={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",lm.MODE_DYNAMIC="MODE_DYNAMIC",(sm=am||(am={})).ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",sm.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER",(cm=um||(um={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",cm.AUTO="AUTO",cm.ANY="ANY",cm.NONE="NONE",cm.VALIDATED="VALIDATED",(pm=dm||(dm={})).BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",pm.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",pm.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",pm.BLOCK_NONE="BLOCK_NONE",(hm=fm||(fm={})).DONT_ALLOW="DONT_ALLOW",hm.ALLOW_ADULT="ALLOW_ADULT",hm.ALLOW_ALL="ALLOW_ALL",(gm=mm||(mm={})).auto="auto",gm.en="en",gm.ja="ja",gm.ko="ko",gm.hi="hi",gm.zh="zh",gm.pt="pt",gm.es="es",(vm=ym||(ym={})).MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",vm.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",vm.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",vm.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",vm.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC",(Em=bm||(bm={})).CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",Em.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",Em.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",Em.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH",(wm=Sm||(Sm={})).SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",wm.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",wm.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",wm.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT",(Cm=_m||(_m={})).EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",Cm.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",Cm.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",Cm.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",Cm.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",Cm.EDIT_MODE_STYLE="EDIT_MODE_STYLE",Cm.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",Cm.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE",(Im=Tm||(Tm={})).FOREGROUND="FOREGROUND",Im.BACKGROUND="BACKGROUND",Im.PROMPT="PROMPT",Im.SEMANTIC="SEMANTIC",Im.INTERACTIVE="INTERACTIVE",(Om=Am||(Am={})).ASSET="ASSET",Om.STYLE="STYLE",(xm=km||(km={})).INSERT="INSERT",xm.REMOVE="REMOVE",xm.REMOVE_STATIC="REMOVE_STATIC",xm.OUTPAINT="OUTPAINT",(Pm=Nm||(Nm={})).OPTIMIZED="OPTIMIZED",Pm.LOSSLESS="LOSSLESS",(Dm=Rm||(Rm={})).SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",Dm.PREFERENCE_TUNING="PREFERENCE_TUNING",(Lm=Mm||(Mm={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",Lm.STATE_PENDING="STATE_PENDING",Lm.STATE_ACTIVE="STATE_ACTIVE",Lm.STATE_FAILED="STATE_FAILED",(jm=Um||(Um={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",jm.PROCESSING="PROCESSING",jm.ACTIVE="ACTIVE",jm.FAILED="FAILED",(qm=Fm||(Fm={})).SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",qm.UPLOADED="UPLOADED",qm.GENERATED="GENERATED",(Hm=Gm||(Gm={})).TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",Hm.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",Hm.RESPONSE_REJECTED="RESPONSE_REJECTED",Hm.NEED_MORE_INPUT="NEED_MORE_INPUT",(Vm=zm||(zm={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",Vm.TEXT="TEXT",Vm.IMAGE="IMAGE",Vm.VIDEO="VIDEO",Vm.AUDIO="AUDIO",Vm.DOCUMENT="DOCUMENT",($m=Bm||(Bm={})).VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",$m.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",$m.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS",(Wm=Jm||(Jm={})).START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",Wm.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",Wm.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW",(Km=Ym||(Ym={})).END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",Km.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",Km.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW",(Xm=Qm||(Qm={})).ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",Xm.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",Xm.NO_INTERRUPTION="NO_INTERRUPTION",(eg=Zm||(Zm={})).TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",eg.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",eg.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT",(ng=tg||(tg={})).SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",ng.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",ng.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",ng.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",ng.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",ng.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",ng.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",ng.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",ng.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",ng.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",ng.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",ng.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",ng.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR",(og=rg||(rg={})).MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",og.QUALITY="QUALITY",og.DIVERSITY="DIVERSITY",og.VOCALIZATION="VOCALIZATION",(lg=ig||(ig={})).PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",lg.PLAY="PLAY",lg.PAUSE="PAUSE",lg.STOP="STOP",lg.RESET_CONTEXT="RESET_CONTEXT";class ug{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class cg{get text(){var e,t,n,r,o,i,l,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let s="",u=!1;const c=[];for(const d of null!==(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)&&void 0!==a?a:[]){for(const[e,t]of Object.entries(d))"text"===e||"thought"===e||"thoughtSignature"===e||null===t&&void 0===t||c.push(e);if("string"==typeof d.text){if("boolean"==typeof d.thought&&d.thought)continue;u=!0,s+=d.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?s:void 0}get data(){var e,t,n,r,o,i,l,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let s="";const u=[];for(const c of null!==(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)&&void 0!==a?a:[]){for(const[e,t]of Object.entries(c))"inlineData"===e||null===t&&void 0===t||u.push(e);c.inlineData&&"string"==typeof c.inlineData.data&&(s+=atob(c.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}get functionCalls(){var e,t,n,r,o,i,l,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const s=null===(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===a?void 0:a.filter(e=>e.functionCall).map(e=>e.functionCall).filter(e=>void 0!==e);return 0!==(null==s?void 0:s.length)?s:void 0}get executableCode(){var e,t,n,r,o,i,l,a,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=null===(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===a?void 0:a.filter(e=>e.executableCode).map(e=>e.executableCode).filter(e=>void 0!==e);return 0!==(null==u?void 0:u.length)?null===(s=null==u?void 0:u[0])||void 0===s?void 0:s.code:void 0}get codeExecutionResult(){var e,t,n,r,o,i,l,a,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=null===(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===a?void 0:a.filter(e=>e.codeExecutionResult).map(e=>e.codeExecutionResult).filter(e=>void 0!==e);return 0!==(null==u?void 0:u.length)?null===(s=null==u?void 0:u[0])||void 0===s?void 0:s.output:void 0}}class dg{}class pg{}class fg{}class hg{}class mg{}class gg{}class yg{}class vg{}class bg{}class Eg{}class Sg{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new Sg;let r;const o=e;return r=t?eh(o):Zf(o),Object.assign(n,r),n}}class wg{}class _g{}class Cg{}class Tg{}class Ig{}class Ag{}class Og{}class kg{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new kg,r=th(e);return Object.assign(n,r),n}}class xg{}class Ng{}class Pg{}class Rg{}class Dg{get text(){var e,t,n;let r="",o=!1;const i=[];for(const l of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(l))"text"!==e&&"thought"!==e&&null!==t&&i.push(e);if("string"==typeof l.text){if("boolean"==typeof l.thought&&l.thought)continue;o=!0,r+=l.text}}return i.length>0&&console.warn(`there are non-text parts ${i} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?r:void 0}get data(){var e,t,n;let r="";const o=[];for(const i of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(i))"inlineData"!==e&&null!==t&&o.push(e);i.inlineData&&"string"==typeof i.inlineData.data&&(r+=atob(i.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Mg{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Lg{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new Lg,r=nh(e);return Object.assign(n,r),n}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ug(e,t){if(!t||"string"!=typeof t)throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const e=t.split("/",2);return`publishers/${e[0]}/models/${e[1]}`}return`publishers/google/models/${t}`}return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function jg(e,t){const n=Ug(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function Fg(e){return Array.isArray(e)?e.map(e=>qg(e)):[qg(e)]}function qg(e){if("object"==typeof e&&null!==e)return e;throw new Error("Could not parse input as Blob. Unsupported blob type: "+typeof e)}function Gg(e){const t=qg(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Hg(e){const t=qg(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function zg(e){if(null==e)throw new Error("PartUnion is required");if("object"==typeof e)return e;if("string"==typeof e)return{text:e};throw new Error("Unsupported part type: "+typeof e)}function Vg(e){if(null==e||Array.isArray(e)&&0===e.length)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(e=>zg(e)):[zg(e)]}function Bg(e){return null!=e&&"object"==typeof e&&"parts"in e&&Array.isArray(e.parts)}function $g(e){return null!=e&&"object"==typeof e&&"functionCall"in e}function Jg(e){return null!=e&&"object"==typeof e&&"functionResponse"in e}function Wg(e){if(null==e)throw new Error("ContentUnion is required");return Bg(e)?e:{role:"user",parts:Vg(e)}}function Yg(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(e=>{const t=Wg(e);return t.parts&&t.parts.length>0&&void 0!==t.parts[0].text?[t.parts[0].text]:[]});if(e.isVertexAI()){const e=Wg(t);return e.parts&&e.parts.length>0&&void 0!==e.parts[0].text?[e.parts[0].text]:[]}return Array.isArray(t)?t.map(e=>Wg(e)):[Wg(t)]}function Kg(e){if(null==e||Array.isArray(e)&&0===e.length)throw new Error("contents are required");if(!Array.isArray(e)){if($g(e)||Jg(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Wg(e)]}const t=[],n=[],r=Bg(e[0]);for(const o of e){const e=Bg(o);if(e!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(e)t.push(o);else{if($g(o)||Jg(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return r||t.push({role:"user",parts:Vg(n)}),t}function Qg(e){const t={},n=["items"],r=["anyOf"],o=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;null!=i&&2==i.length&&("null"===i[0].type?(t.nullable=!0,e=i[1]):"null"===i[1].type&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&function(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(e=>"null"!==e);if(1===n.length)t.type=Object.values(uh).includes(n[0].toUpperCase())?n[0].toUpperCase():uh.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const e of n)t.anyOf.push({type:Object.values(uh).includes(e.toUpperCase())?e.toUpperCase():uh.TYPE_UNSPECIFIED})}}(e.type,t);for(const[l,a]of Object.entries(e))if(null!=a)if("type"==l){if("null"===a)throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;t.type=Object.values(uh).includes(a.toUpperCase())?a.toUpperCase():uh.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Qg(a);else if(r.includes(l)){const e=[];for(const n of a)"null"!=n.type?e.push(Qg(n)):t.nullable=!0;t[l]=e}else if(o.includes(l)){const e={};for(const[t,n]of Object.entries(a))e[t]=Qg(n);t[l]=e}else{if("additionalProperties"===l)continue;t[l]=a}return t}function Xg(e){return Qg(e)}function Zg(e){if("object"==typeof e)return e;if("string"==typeof e)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error("Unsupported speechConfig type: "+typeof e)}function ey(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function ty(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Qg(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Qg(t.response));return e}function ny(e){if(null==e)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function ry(e,t){if("string"!=typeof t)throw new Error("name must be a string");return function(e,t,n,r=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}(e,t,"cachedContents")}function oy(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function iy(e){return Xf(e)}function ly(e){var t;let n;var r;if(null!=(r=e)&&"object"==typeof r&&"name"in r&&(n=e.name),!(function(e){return null!=e&&"object"==typeof e&&"uri"in e}(e)&&(n=e.uri,void 0===n)||function(e){return null!=e&&"object"==typeof e&&"video"in e}(e)&&(n=null===(t=e.video)||void 0===t?void 0:t.uri,void 0===n))){if("string"==typeof e&&(n=e),void 0===n)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const e=n.split("files/")[1].match(/[a-z0-9]+/);if(null===e)throw new Error(`Could not extract file name from URI ${n}`);n=e[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function ay(e,t){let n;return n=e.isVertexAI()?t?"publishers/google/models":"models":t?"models":"tunedModels",n}function sy(e){for(const t of["models","tunedModels","publisherModels"])if(uy(e,t))return e[t];return[]}function uy(e,t){return null!==e&&"object"==typeof e&&t in e}function cy(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior);return{functionDeclarations:[r]}}function dy(e,t){let n;if("string"==typeof t)if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else{if(!t.startsWith("bq://"))throw new Error(`Unsupported string source for Vertex AI: ${t}`);n={format:"bigquery",bigqueryUri:t}}else{if(!t.startsWith("files/"))throw new Error(`Unsupported string source for Gemini API: ${t}`);n={fileName:t}}else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(o>0||1!==r)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||1!==o)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function py(e){if("object"!=typeof e||null===e)return{};const t=e,n=t.inlinedResponses;if("object"!=typeof n||null===n)return e;const r=n.inlinedResponses;if(!Array.isArray(r)||0===r.length)return e;let o=!1;for(const i of r){if("object"!=typeof i||null===i)continue;const e=i.response;if("object"!=typeof e||null===e)continue;if(void 0!==e.embedding){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function fy(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function hy(e){return"BATCH_STATE_UNSPECIFIED"===e?"JOB_STATE_UNSPECIFIED":"BATCH_STATE_PENDING"===e?"JOB_STATE_PENDING":"BATCH_STATE_RUNNING"===e?"JOB_STATE_RUNNING":"BATCH_STATE_SUCCEEDED"===e?"JOB_STATE_SUCCEEDED":"BATCH_STATE_FAILED"===e?"JOB_STATE_FAILED":"BATCH_STATE_CANCELLED"===e?"JOB_STATE_CANCELLED":"BATCH_STATE_EXPIRED"===e?"JOB_STATE_EXPIRED":e}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function my(e){const t={},n=Kf(e,["responsesFile"]);null!=n&&Yf(t,["fileName"],n);const r=Kf(e,["inlinedResponses","inlinedResponses"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["response"]);null!=n&&Yf(t,["response"],function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["content"]);null!=n&&Yf(t,["content"],n);const r=Kf(e,["citationMetadata"]);null!=r&&Yf(t,["citationMetadata"],function(e){const t={},n=Kf(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["citations"],e)}return t}(r));const o=Kf(e,["tokenCount"]);null!=o&&Yf(t,["tokenCount"],o);const i=Kf(e,["finishReason"]);null!=i&&Yf(t,["finishReason"],i);const l=Kf(e,["avgLogprobs"]);null!=l&&Yf(t,["avgLogprobs"],l);const a=Kf(e,["groundingMetadata"]);null!=a&&Yf(t,["groundingMetadata"],a);const s=Kf(e,["index"]);null!=s&&Yf(t,["index"],s);const u=Kf(e,["logprobsResult"]);null!=u&&Yf(t,["logprobsResult"],u);const c=Kf(e,["safetyRatings"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["safetyRatings"],e)}const d=Kf(e,["urlContextMetadata"]);null!=d&&Yf(t,["urlContextMetadata"],d);return t}(e))),Yf(t,["candidates"],e)}const o=Kf(e,["modelVersion"]);null!=o&&Yf(t,["modelVersion"],o);const i=Kf(e,["promptFeedback"]);null!=i&&Yf(t,["promptFeedback"],i);const l=Kf(e,["responseId"]);null!=l&&Yf(t,["responseId"],l);const a=Kf(e,["usageMetadata"]);null!=a&&Yf(t,["usageMetadata"],a);return t}(n));const r=Kf(e,["error"]);null!=r&&Yf(t,["error"],r);return t}(e))),Yf(t,["inlinedResponses"],e)}const o=Kf(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["inlinedEmbedContentResponses"],e)}return t}function gy(e){const t={},n=Kf(e,["name"]);null!=n&&Yf(t,["name"],n);const r=Kf(e,["metadata","displayName"]);null!=r&&Yf(t,["displayName"],r);const o=Kf(e,["metadata","state"]);null!=o&&Yf(t,["state"],hy(o));const i=Kf(e,["metadata","createTime"]);null!=i&&Yf(t,["createTime"],i);const l=Kf(e,["metadata","endTime"]);null!=l&&Yf(t,["endTime"],l);const a=Kf(e,["metadata","updateTime"]);null!=a&&Yf(t,["updateTime"],a);const s=Kf(e,["metadata","model"]);null!=s&&Yf(t,["model"],s);const u=Kf(e,["metadata","output"]);return null!=u&&Yf(t,["dest"],my(py(u))),t}function yy(e){const t={},n=Kf(e,["name"]);null!=n&&Yf(t,["name"],n);const r=Kf(e,["displayName"]);null!=r&&Yf(t,["displayName"],r);const o=Kf(e,["state"]);null!=o&&Yf(t,["state"],hy(o));const i=Kf(e,["error"]);null!=i&&Yf(t,["error"],i);const l=Kf(e,["createTime"]);null!=l&&Yf(t,["createTime"],l);const a=Kf(e,["startTime"]);null!=a&&Yf(t,["startTime"],a);const s=Kf(e,["endTime"]);null!=s&&Yf(t,["endTime"],s);const u=Kf(e,["updateTime"]);null!=u&&Yf(t,["updateTime"],u);const c=Kf(e,["model"]);null!=c&&Yf(t,["model"],c);const d=Kf(e,["inputConfig"]);null!=d&&Yf(t,["src"],function(e){const t={},n=Kf(e,["instancesFormat"]);null!=n&&Yf(t,["format"],n);const r=Kf(e,["gcsSource","uris"]);null!=r&&Yf(t,["gcsUri"],r);const o=Kf(e,["bigquerySource","inputUri"]);null!=o&&Yf(t,["bigqueryUri"],o);return t}(d));const p=Kf(e,["outputConfig"]);null!=p&&Yf(t,["dest"],function(e){const t={},n=Kf(e,["predictionsFormat"]);null!=n&&Yf(t,["format"],n);const r=Kf(e,["gcsDestination","outputUriPrefix"]);null!=r&&Yf(t,["gcsUri"],r);const o=Kf(e,["bigqueryDestination","outputUri"]);return null!=o&&Yf(t,["bigqueryUri"],o),t}(py(p)));const f=Kf(e,["completionStats"]);return null!=f&&Yf(t,["completionStats"],f),t}function vy(e,t){const n={};if(void 0!==Kf(t,["format"]))throw new Error("format parameter is not supported in Gemini API.");if(void 0!==Kf(t,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==Kf(t,["bigqueryUri"]))throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=Kf(t,["fileName"]);null!=r&&Yf(n,["fileName"],r);const o=Kf(t,["inlinedRequests"]);if(null!=o){let t=o;Array.isArray(t)&&(t=t.map(t=>function(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["request","model"],Ug(e,r));const o=Kf(t,["contents"]);if(null!=o){let e=Kg(o);Array.isArray(e)&&(e=e.map(e=>by(e))),Yf(n,["request","contents"],e)}const i=Kf(t,["metadata"]);null!=i&&Yf(n,["metadata"],i);const l=Kf(t,["config"]);null!=l&&Yf(n,["request","generationConfig"],function(e,t,n){const r={},o=Kf(t,["systemInstruction"]);void 0!==n&&null!=o&&Yf(n,["systemInstruction"],by(Wg(o)));const i=Kf(t,["temperature"]);null!=i&&Yf(r,["temperature"],i);const l=Kf(t,["topP"]);null!=l&&Yf(r,["topP"],l);const a=Kf(t,["topK"]);null!=a&&Yf(r,["topK"],a);const s=Kf(t,["candidateCount"]);null!=s&&Yf(r,["candidateCount"],s);const u=Kf(t,["maxOutputTokens"]);null!=u&&Yf(r,["maxOutputTokens"],u);const c=Kf(t,["stopSequences"]);null!=c&&Yf(r,["stopSequences"],c);const d=Kf(t,["responseLogprobs"]);null!=d&&Yf(r,["responseLogprobs"],d);const p=Kf(t,["logprobs"]);null!=p&&Yf(r,["logprobs"],p);const f=Kf(t,["presencePenalty"]);null!=f&&Yf(r,["presencePenalty"],f);const h=Kf(t,["frequencyPenalty"]);null!=h&&Yf(r,["frequencyPenalty"],h);const m=Kf(t,["seed"]);null!=m&&Yf(r,["seed"],m);const g=Kf(t,["responseMimeType"]);null!=g&&Yf(r,["responseMimeType"],g);const y=Kf(t,["responseSchema"]);null!=y&&Yf(r,["responseSchema"],Xg(y));const v=Kf(t,["responseJsonSchema"]);null!=v&&Yf(r,["responseJsonSchema"],v);if(void 0!==Kf(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==Kf(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=Kf(t,["safetySettings"]);if(void 0!==n&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["category"]);null!=n&&Yf(t,["category"],n);if(void 0!==Kf(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const r=Kf(e,["threshold"]);null!=r&&Yf(t,["threshold"],r);return t}(e))),Yf(n,["safetySettings"],e)}const E=Kf(t,["tools"]);if(void 0!==n&&null!=E){let e=ny(E);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["functionDeclarations"],e)}if(void 0!==Kf(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=Kf(e,["googleSearchRetrieval"]);null!=r&&Yf(t,["googleSearchRetrieval"],r);const o=Kf(e,["computerUse"]);null!=o&&Yf(t,["computerUse"],o);const i=Kf(e,["fileSearch"]);null!=i&&Yf(t,["fileSearch"],i);const l=Kf(e,["codeExecution"]);null!=l&&Yf(t,["codeExecution"],l);if(void 0!==Kf(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=Kf(e,["googleMaps"]);null!=a&&Yf(t,["googleMaps"],function(e){const t={};if(void 0!==Kf(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=Kf(e,["enableWidget"]);null!=n&&Yf(t,["enableWidget"],n);return t}(a));const s=Kf(e,["googleSearch"]);null!=s&&Yf(t,["googleSearch"],function(e){const t={};if(void 0!==Kf(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==Kf(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=Kf(e,["timeRangeFilter"]);null!=n&&Yf(t,["timeRangeFilter"],n);return t}(s));const u=Kf(e,["urlContext"]);null!=u&&Yf(t,["urlContext"],u);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(ty(e)))),Yf(n,["tools"],e)}const S=Kf(t,["toolConfig"]);void 0!==n&&null!=S&&Yf(n,["toolConfig"],function(e){const t={},n=Kf(e,["functionCallingConfig"]);null!=n&&Yf(t,["functionCallingConfig"],function(e){const t={},n=Kf(e,["mode"]);null!=n&&Yf(t,["mode"],n);const r=Kf(e,["allowedFunctionNames"]);null!=r&&Yf(t,["allowedFunctionNames"],r);if(void 0!==Kf(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(n));const r=Kf(e,["retrievalConfig"]);null!=r&&Yf(t,["retrievalConfig"],r);return t}(S));if(void 0!==Kf(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const w=Kf(t,["cachedContent"]);void 0!==n&&null!=w&&Yf(n,["cachedContent"],ry(e,w));const _=Kf(t,["responseModalities"]);null!=_&&Yf(r,["responseModalities"],_);const C=Kf(t,["mediaResolution"]);null!=C&&Yf(r,["mediaResolution"],C);const T=Kf(t,["speechConfig"]);null!=T&&Yf(r,["speechConfig"],Zg(T));if(void 0!==Kf(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=Kf(t,["thinkingConfig"]);null!=I&&Yf(r,["thinkingConfig"],I);const A=Kf(t,["imageConfig"]);null!=A&&Yf(r,["imageConfig"],function(e){const t={},n=Kf(e,["aspectRatio"]);null!=n&&Yf(t,["aspectRatio"],n);const r=Kf(e,["imageSize"]);null!=r&&Yf(t,["imageSize"],r);if(void 0!==Kf(e,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==Kf(e,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(A));const O=Kf(t,["enableEnhancedCivicAnswers"]);null!=O&&Yf(r,["enableEnhancedCivicAnswers"],O);return r}(e,l,Kf(n,["request"],{})));return n}(e,t))),Yf(n,["requests","requests"],t)}return n}function by(e){const t={},n=Kf(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["mediaResolution"]);null!=n&&Yf(t,["mediaResolution"],n);const r=Kf(e,["codeExecutionResult"]);null!=r&&Yf(t,["codeExecutionResult"],r);const o=Kf(e,["executableCode"]);null!=o&&Yf(t,["executableCode"],o);const i=Kf(e,["fileData"]);null!=i&&Yf(t,["fileData"],function(e){const t={};if(void 0!==Kf(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Kf(e,["fileUri"]);null!=n&&Yf(t,["fileUri"],n);const r=Kf(e,["mimeType"]);null!=r&&Yf(t,["mimeType"],r);return t}(i));const l=Kf(e,["functionCall"]);null!=l&&Yf(t,["functionCall"],function(e){const t={},n=Kf(e,["id"]);null!=n&&Yf(t,["id"],n);const r=Kf(e,["args"]);null!=r&&Yf(t,["args"],r);const o=Kf(e,["name"]);null!=o&&Yf(t,["name"],o);if(void 0!==Kf(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==Kf(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const a=Kf(e,["functionResponse"]);null!=a&&Yf(t,["functionResponse"],a);const s=Kf(e,["inlineData"]);null!=s&&Yf(t,["inlineData"],function(e){const t={},n=Kf(e,["data"]);if(null!=n&&Yf(t,["data"],n),void 0!==Kf(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Kf(e,["mimeType"]);return null!=r&&Yf(t,["mimeType"],r),t}(s));const u=Kf(e,["text"]);null!=u&&Yf(t,["text"],u);const c=Kf(e,["thought"]);null!=c&&Yf(t,["thought"],c);const d=Kf(e,["thoughtSignature"]);null!=d&&Yf(t,["thoughtSignature"],d);const p=Kf(e,["videoMetadata"]);null!=p&&Yf(t,["videoMetadata"],p);return t}(e))),Yf(t,["parts"],e)}const r=Kf(e,["role"]);return null!=r&&Yf(t,["role"],r),t}function Ey(e,t){const n=Kf(e,["displayName"]);void 0!==t&&null!=n&&Yf(t,["displayName"],n);const r=Kf(e,["dest"]);return void 0!==t&&null!=r&&Yf(t,["outputConfig"],function(e){const t={},n=Kf(e,["format"]);null!=n&&Yf(t,["predictionsFormat"],n);const r=Kf(e,["gcsUri"]);null!=r&&Yf(t,["gcsDestination","outputUriPrefix"],r);const o=Kf(e,["bigqueryUri"]);if(null!=o&&Yf(t,["bigqueryDestination","outputUri"],o),void 0!==Kf(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==Kf(e,["inlinedResponses"]))throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(void 0!==Kf(e,["inlinedEmbedContentResponses"]))throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}(function(e){if("string"!=typeof e)return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}(r))),{}}function Sy(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["_url","model"],Ug(e,r));const o=Kf(t,["src"]);null!=o&&Yf(n,["batch","inputConfig"],vy(e,dy(e,o)));const i=Kf(t,["config"]);return null!=i&&function(e,t){const n=Kf(e,["displayName"]);if(void 0!==t&&null!=n&&Yf(t,["batch","displayName"],n),void 0!==Kf(e,["dest"]))throw new Error("dest parameter is not supported in Gemini API.")}(i,n),n}function wy(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["model"],Ug(e,r));const o=Kf(t,["src"]);null!=o&&Yf(n,["inputConfig"],function(e){const t={},n=Kf(e,["format"]);null!=n&&Yf(t,["instancesFormat"],n);const r=Kf(e,["gcsUri"]);null!=r&&Yf(t,["gcsSource","uris"],r);const o=Kf(e,["bigqueryUri"]);if(null!=o&&Yf(t,["bigquerySource","inputUri"],o),void 0!==Kf(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==Kf(e,["inlinedRequests"]))throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}(dy(e,o)));const i=Kf(t,["config"]);return null!=i&&Ey(i,n),n}function _y(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["_url","model"],Ug(e,r));const o=Kf(t,["src"]);null!=o&&Yf(n,["batch","inputConfig"],function(e,t){const n={},r=Kf(t,["fileName"]);null!=r&&Yf(n,["file_name"],r);const o=Kf(t,["inlinedRequests"]);null!=o&&Yf(n,["requests"],function(e,t){const n={},r=Kf(t,["contents"]);if(null!=r){let t=Yg(e,r);Array.isArray(t)&&(t=t.map(e=>e)),Yf(n,["requests[]","request","content"],t)}const o=Kf(t,["config"]);null!=o&&(Yf(n,["_self"],function(e,t){const n={},r=Kf(e,["taskType"]);void 0!==t&&null!=r&&Yf(t,["requests[]","taskType"],r);const o=Kf(e,["title"]);void 0!==t&&null!=o&&Yf(t,["requests[]","title"],o);const i=Kf(e,["outputDimensionality"]);void 0!==t&&null!=i&&Yf(t,["requests[]","outputDimensionality"],i);if(void 0!==Kf(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==Kf(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}(o,n)),function(e,t){for(const[n,r]of Object.entries(t)){const t=n.split("."),o=r.split("."),i=new Set;let l=-1;for(let e=0;e<t.length;e++)if("*"===t[e]){l=e;break}if(-1!==l&&o.length>l)for(let e=l;e<o.length;e++){const t=o[e];"*"===t||t.endsWith("[]")||t.endsWith("[0]")||i.add(t)}Qf(e,t,o,0,i)}}(n,{"requests[].*":"requests[].request.*"}));return n}(e,o));return n}(e,o));const i=Kf(t,["config"]);return null!=i&&function(e,t){const n=Kf(e,["displayName"]);void 0!==t&&null!=n&&Yf(t,["batch","displayName"],n)}(i,n),n}function Cy(e){const t={},n=Kf(e,["config"]);return null!=n&&function(e,t){const n=Kf(e,["pageSize"]);void 0!==t&&null!=n&&Yf(t,["_query","pageSize"],n);const r=Kf(e,["pageToken"]);if(void 0!==t&&null!=r&&Yf(t,["_query","pageToken"],r),void 0!==Kf(e,["filter"]))throw new Error("filter parameter is not supported in Gemini API.")}(n,t),t}function Ty(e){const t={},n=Kf(e,["config"]);return null!=n&&function(e,t){const n=Kf(e,["pageSize"]);void 0!==t&&null!=n&&Yf(t,["_query","pageSize"],n);const r=Kf(e,["pageToken"]);void 0!==t&&null!=r&&Yf(t,["_query","pageToken"],r);const o=Kf(e,["filter"]);void 0!==t&&null!=o&&Yf(t,["_query","filter"],o)}(n,t),t}(sg=ag||(ag={})).PAGED_ITEM_BATCH_JOBS="batchJobs",sg.PAGED_ITEM_MODELS="models",sg.PAGED_ITEM_TUNING_JOBS="tuningJobs",sg.PAGED_ITEM_FILES="files",sg.PAGED_ITEM_CACHED_CONTENTS="cachedContents",sg.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",sg.PAGED_ITEM_DOCUMENTS="documents";class Iy{constructor(e,t,n,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,r)}init(e,t,n){var r,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=null==t?void 0:t.sdkHttpResponse,this.idxInternal=0;let i={config:{}};i=n&&0!==Object.keys(n).length?"object"==typeof n?Object.assign({},n):n:{config:{}},i.config&&(i.config.pageToken=t.nextPageToken),this.paramsInternal=i,this.pageInternalSize=null!==(o=null===(r=i.config)||void 0===r?void 0:r.pageSize)&&void 0!==o?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength){if(!this.hasNextPage())return{value:void 0,done:!0};await this.nextPage()}const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return void 0!==(null===(e=this.params.config)||void 0===e?void 0:e.pageToken)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ay extends Jf{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new Iy(ag.PAGED_ITEM_BATCH_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.create=async e=>(this.apiClient.isVertexAI()&&(e.config=this.formatDestination(e.src,e.config)),this.createInternal(e)),this.createEmbeddings=async e=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(e)}}createInlinedGenerateContentRequest(e){const t=Sy(this.apiClient,e),n=Wf("{model}:batchGenerateContent",t._url),r=t.batch.inputConfig.requests,o=r.requests,i=[];for(const l of o){const e=Object.assign({},l);if(e.systemInstruction){const t=e.systemInstruction;delete e.systemInstruction;const n=e.request;n.systemInstruction=t,e.request=n}i.push(e)}return r.requests=i,delete t.config,delete t._url,delete t._query,{path:n,body:t}}getGcsUri(e){return"string"==typeof e?e.startsWith("gs://")?e:void 0:!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0?e.gcsUri[0]:void 0}getBigqueryUri(e){return"string"==typeof e?e.startsWith("bq://")?e:void 0:Array.isArray(e)?void 0:e.bigqueryUri}formatDestination(e,t){const n=t?Object.assign({},t):{},r=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${r}`),void 0===n.dest){const t=this.getGcsUri(e),o=this.getBigqueryUri(e);if(t)t.endsWith(".jsonl")?n.dest=`${t.slice(0,-6)}/dest`:n.dest=`${t}_dest_${r}`;else{if(!o)throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.");n.dest=`${o}_dest_${r}`}}return n}async createInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=wy(this.apiClient,e);return l=Wf("batchPredictionJobs",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>yy(e))}{const t=Sy(this.apiClient,e);return l=Wf("{model}:batchGenerateContent",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>gy(e))}}async createEmbeddingsInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=_y(this.apiClient,e);return o=Wf("{model}:asyncBatchEmbedContent",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>gy(e))}}async get(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Kf(t,["name"]);return null!=r&&Yf(n,["_url","name"],fy(e,r)),n}(this.apiClient,e);return l=Wf("batchPredictionJobs/{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>yy(e))}{const t=function(e,t){const n={},r=Kf(t,["name"]);return null!=r&&Yf(n,["_url","name"],fy(e,r)),n}(this.apiClient,e);return l=Wf("batches/{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>gy(e))}}async cancel(e){var t,n,r,o;let i="",l={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Kf(t,["name"]);return null!=r&&Yf(n,["_url","name"],fy(e,r)),n}(this.apiClient,e);i=Wf("batchPredictionJobs/{name}:cancel",r._url),l=r._query,delete r._url,delete r._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}else{const t=function(e,t){const n={},r=Kf(t,["name"]);return null!=r&&Yf(n,["_url","name"],fy(e,r)),n}(this.apiClient,e);i=Wf("batches/{name}:cancel",t._url),l=t._query,delete t._url,delete t._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal})}}async listInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=Ty(e);return l=Wf("batchPredictionJobs",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["nextPageToken"]);null!=r&&Yf(t,["nextPageToken"],r);const o=Kf(e,["batchPredictionJobs"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>yy(e))),Yf(t,["batchJobs"],e)}return t}(e),n=new Rg;return Object.assign(n,t),n})}{const t=Cy(e);return l=Wf("batches",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["nextPageToken"]);null!=r&&Yf(t,["nextPageToken"],r);const o=Kf(e,["operations"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>gy(e))),Yf(t,["batchJobs"],e)}return t}(e),n=new Rg;return Object.assign(n,t),n})}}async delete(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Kf(t,["name"]);return null!=r&&Yf(n,["_url","name"],fy(e,r)),n}(this.apiClient,e);return l=Wf("batchPredictionJobs/{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["name"]);null!=r&&Yf(t,["name"],r);const o=Kf(e,["done"]);null!=o&&Yf(t,["done"],o);const i=Kf(e,["error"]);return null!=i&&Yf(t,["error"],i),t}(e))}{const t=function(e,t){const n={},r=Kf(t,["name"]);return null!=r&&Yf(n,["_url","name"],fy(e,r)),n}(this.apiClient,e);return l=Wf("batches/{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["name"]);null!=r&&Yf(t,["name"],r);const o=Kf(e,["done"]);null!=o&&Yf(t,["done"],o);const i=Kf(e,["error"]);return null!=i&&Yf(t,["error"],i),t}(e))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oy(e){const t={},n=Kf(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["mediaResolution"]);null!=n&&Yf(t,["mediaResolution"],n);const r=Kf(e,["codeExecutionResult"]);null!=r&&Yf(t,["codeExecutionResult"],r);const o=Kf(e,["executableCode"]);null!=o&&Yf(t,["executableCode"],o);const i=Kf(e,["fileData"]);null!=i&&Yf(t,["fileData"],function(e){const t={};if(void 0!==Kf(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Kf(e,["fileUri"]);null!=n&&Yf(t,["fileUri"],n);const r=Kf(e,["mimeType"]);null!=r&&Yf(t,["mimeType"],r);return t}(i));const l=Kf(e,["functionCall"]);null!=l&&Yf(t,["functionCall"],function(e){const t={},n=Kf(e,["id"]);null!=n&&Yf(t,["id"],n);const r=Kf(e,["args"]);null!=r&&Yf(t,["args"],r);const o=Kf(e,["name"]);null!=o&&Yf(t,["name"],o);if(void 0!==Kf(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==Kf(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const a=Kf(e,["functionResponse"]);null!=a&&Yf(t,["functionResponse"],a);const s=Kf(e,["inlineData"]);null!=s&&Yf(t,["inlineData"],function(e){const t={},n=Kf(e,["data"]);if(null!=n&&Yf(t,["data"],n),void 0!==Kf(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Kf(e,["mimeType"]);return null!=r&&Yf(t,["mimeType"],r),t}(s));const u=Kf(e,["text"]);null!=u&&Yf(t,["text"],u);const c=Kf(e,["thought"]);null!=c&&Yf(t,["thought"],c);const d=Kf(e,["thoughtSignature"]);null!=d&&Yf(t,["thoughtSignature"],d);const p=Kf(e,["videoMetadata"]);null!=p&&Yf(t,["videoMetadata"],p);return t}(e))),Yf(t,["parts"],e)}const r=Kf(e,["role"]);return null!=r&&Yf(t,["role"],r),t}function ky(e,t){const n=Kf(e,["ttl"]);void 0!==t&&null!=n&&Yf(t,["ttl"],n);const r=Kf(e,["expireTime"]);void 0!==t&&null!=r&&Yf(t,["expireTime"],r);const o=Kf(e,["displayName"]);void 0!==t&&null!=o&&Yf(t,["displayName"],o);const i=Kf(e,["contents"]);if(void 0!==t&&null!=i){let e=Kg(i);Array.isArray(e)&&(e=e.map(e=>Oy(e))),Yf(t,["contents"],e)}const l=Kf(e,["systemInstruction"]);void 0!==t&&null!=l&&Yf(t,["systemInstruction"],Oy(Wg(l)));const a=Kf(e,["tools"]);if(void 0!==t&&null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["functionDeclarations"],e)}if(void 0!==Kf(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=Kf(e,["googleSearchRetrieval"]);null!=r&&Yf(t,["googleSearchRetrieval"],r);const o=Kf(e,["computerUse"]);null!=o&&Yf(t,["computerUse"],o);const i=Kf(e,["fileSearch"]);null!=i&&Yf(t,["fileSearch"],i);const l=Kf(e,["codeExecution"]);null!=l&&Yf(t,["codeExecution"],l);if(void 0!==Kf(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=Kf(e,["googleMaps"]);null!=a&&Yf(t,["googleMaps"],function(e){const t={};if(void 0!==Kf(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=Kf(e,["enableWidget"]);null!=n&&Yf(t,["enableWidget"],n);return t}(a));const s=Kf(e,["googleSearch"]);null!=s&&Yf(t,["googleSearch"],function(e){const t={};if(void 0!==Kf(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==Kf(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=Kf(e,["timeRangeFilter"]);null!=n&&Yf(t,["timeRangeFilter"],n);return t}(s));const u=Kf(e,["urlContext"]);null!=u&&Yf(t,["urlContext"],u);return t}(e))),Yf(t,["tools"],e)}const s=Kf(e,["toolConfig"]);if(void 0!==t&&null!=s&&Yf(t,["toolConfig"],function(e){const t={},n=Kf(e,["functionCallingConfig"]);null!=n&&Yf(t,["functionCallingConfig"],function(e){const t={},n=Kf(e,["mode"]);null!=n&&Yf(t,["mode"],n);const r=Kf(e,["allowedFunctionNames"]);null!=r&&Yf(t,["allowedFunctionNames"],r);if(void 0!==Kf(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(n));const r=Kf(e,["retrievalConfig"]);null!=r&&Yf(t,["retrievalConfig"],r);return t}(s)),void 0!==Kf(e,["kmsKeyName"]))throw new Error("kmsKeyName parameter is not supported in Gemini API.");return{}}function xy(e,t){const n=Kf(e,["ttl"]);void 0!==t&&null!=n&&Yf(t,["ttl"],n);const r=Kf(e,["expireTime"]);void 0!==t&&null!=r&&Yf(t,["expireTime"],r);const o=Kf(e,["displayName"]);void 0!==t&&null!=o&&Yf(t,["displayName"],o);const i=Kf(e,["contents"]);if(void 0!==t&&null!=i){let e=Kg(i);Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["contents"],e)}const l=Kf(e,["systemInstruction"]);void 0!==t&&null!=l&&Yf(t,["systemInstruction"],Wg(l));const a=Kf(e,["tools"]);if(void 0!==t&&null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==Kf(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=Kf(e,["description"]);null!=n&&Yf(t,["description"],n);const r=Kf(e,["name"]);null!=r&&Yf(t,["name"],r);const o=Kf(e,["parameters"]);null!=o&&Yf(t,["parameters"],o);const i=Kf(e,["parametersJsonSchema"]);null!=i&&Yf(t,["parametersJsonSchema"],i);const l=Kf(e,["response"]);null!=l&&Yf(t,["response"],l);const a=Kf(e,["responseJsonSchema"]);null!=a&&Yf(t,["responseJsonSchema"],a);return t}(e))),Yf(t,["functionDeclarations"],e)}const r=Kf(e,["retrieval"]);null!=r&&Yf(t,["retrieval"],r);const o=Kf(e,["googleSearchRetrieval"]);null!=o&&Yf(t,["googleSearchRetrieval"],o);const i=Kf(e,["computerUse"]);null!=i&&Yf(t,["computerUse"],i);if(void 0!==Kf(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=Kf(e,["codeExecution"]);null!=l&&Yf(t,["codeExecution"],l);const a=Kf(e,["enterpriseWebSearch"]);null!=a&&Yf(t,["enterpriseWebSearch"],a);const s=Kf(e,["googleMaps"]);null!=s&&Yf(t,["googleMaps"],s);const u=Kf(e,["googleSearch"]);null!=u&&Yf(t,["googleSearch"],u);const c=Kf(e,["urlContext"]);null!=c&&Yf(t,["urlContext"],c);return t}(e))),Yf(t,["tools"],e)}const s=Kf(e,["toolConfig"]);void 0!==t&&null!=s&&Yf(t,["toolConfig"],s);const u=Kf(e,["kmsKeyName"]);return void 0!==t&&null!=u&&Yf(t,["encryption_spec","kmsKeyName"],u),{}}function Ny(e){const t={},n=Kf(e,["config"]);return null!=n&&function(e,t){const n=Kf(e,["pageSize"]);void 0!==t&&null!=n&&Yf(t,["_query","pageSize"],n);const r=Kf(e,["pageToken"]);void 0!==t&&null!=r&&Yf(t,["_query","pageToken"],r)}(n,t),t}function Py(e){const t={},n=Kf(e,["config"]);return null!=n&&function(e,t){const n=Kf(e,["pageSize"]);void 0!==t&&null!=n&&Yf(t,["_query","pageSize"],n);const r=Kf(e,["pageToken"]);void 0!==t&&null!=r&&Yf(t,["_query","pageToken"],r)}(n,t),t}function Ry(e,t){const n={},r=Kf(t,["name"]);null!=r&&Yf(n,["_url","name"],ry(e,r));const o=Kf(t,["config"]);return null!=o&&function(e,t){const n=Kf(e,["ttl"]);void 0!==t&&null!=n&&Yf(t,["ttl"],n);const r=Kf(e,["expireTime"]);void 0!==t&&null!=r&&Yf(t,["expireTime"],r)}(o,n),n}function Dy(e,t){const n={},r=Kf(t,["name"]);null!=r&&Yf(n,["_url","name"],ry(e,r));const o=Kf(t,["config"]);return null!=o&&function(e,t){const n=Kf(e,["ttl"]);void 0!==t&&null!=n&&Yf(t,["ttl"],n);const r=Kf(e,["expireTime"]);void 0!==t&&null!=r&&Yf(t,["expireTime"],r)}(o,n),n}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class My extends Jf{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new Iy(ag.PAGED_ITEM_CACHED_CONTENTS,e=>this.listInternal(e),await this.listInternal(e),e)}async create(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["model"],jg(e,r));const o=Kf(t,["config"]);return null!=o&&xy(o,n),n}(this.apiClient,e);return l=Wf("cachedContents",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>e)}{const t=function(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["model"],jg(e,r));const o=Kf(t,["config"]);return null!=o&&ky(o,n),n}(this.apiClient,e);return l=Wf("cachedContents",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>e)}}async get(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Kf(t,["name"]);return null!=r&&Yf(n,["_url","name"],ry(e,r)),n}(this.apiClient,e);return l=Wf("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>e)}{const t=function(e,t){const n={},r=Kf(t,["name"]);return null!=r&&Yf(n,["_url","name"],ry(e,r)),n}(this.apiClient,e);return l=Wf("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>e)}}async delete(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Kf(t,["name"]);return null!=r&&Yf(n,["_url","name"],ry(e,r)),n}(this.apiClient,e);return l=Wf("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);return null!=n&&Yf(t,["sdkHttpResponse"],n),t}(e),n=new Cg;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=Kf(t,["name"]);return null!=r&&Yf(n,["_url","name"],ry(e,r)),n}(this.apiClient,e);return l=Wf("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);return null!=n&&Yf(t,["sdkHttpResponse"],n),t}(e),n=new Cg;return Object.assign(n,t),n})}}async update(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=Dy(this.apiClient,e);return l=Wf("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>e)}{const t=Ry(this.apiClient,e);return l=Wf("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>e)}}async listInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=Py(e);return l=Wf("cachedContents",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["nextPageToken"]);null!=r&&Yf(t,["nextPageToken"],r);const o=Kf(e,["cachedContents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["cachedContents"],e)}return t}(e),n=new Tg;return Object.assign(n,t),n})}{const t=Ny(e);return l=Wf("cachedContents",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["nextPageToken"]);null!=r&&Yf(t,["nextPageToken"],r);const o=Kf(e,["cachedContents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["cachedContents"],e)}return t}(e),n=new Tg;return Object.assign(n,t),n})}}}function Ly(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function Uy(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function jy(e){return this instanceof jy?(this.v=e,this):new jy(e)}function Fy(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),r[Symbol.asyncIterator]=function(){return this},r;function l(e,t){o[e]&&(r[e]=function(t){return new Promise(function(n,r){i.push([e,t,n,r])>1||a(e,t)})},t&&(r[e]=t(r[e])))}function a(e,t){try{(n=o[e](t)).value instanceof jy?Promise.resolve(n.value.v).then(s,u):c(i[0][2],n)}catch(nS){c(i[0][3],nS)}var n}function s(e){a("next",e)}function u(e){a("throw",e)}function c(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function qy(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Uy(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,o,(t=e[n](t)).done,t.value)})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function Gy(e){var t;if(null==e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;return void 0!==n&&Hy(n)}function Hy(e){if(void 0===e.parts||0===e.parts.length)return!1;for(const t of e.parts)if(void 0===t||0===Object.keys(t).length)return!1;return!0}function zy(e){if(void 0===e||0===e.length)return[];const t=[],n=e.length;let r=0;for(;r<n;)if("user"===e[r].role)t.push(e[r]),r++;else{const o=[];let i=!0;for(;r<n&&"model"===e[r].role;)o.push(e[r]),i&&!Hy(e[r])&&(i=!1),r++;i?t.push(...o):t.pop()}return t}"function"==typeof SuppressedError&&SuppressedError;class Vy{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new By(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class By{constructor(e,t,n,r={},o=[]){this.apiClient=e,this.modelsModule=t,this.model=n,this.config=r,this.history=o,this.sendPromise=Promise.resolve(),function(e){if(0!==e.length)for(const t of e)if("user"!==t.role&&"model"!==t.role)throw new Error(`Role must be user or model, but got ${t.role}.`)}(o)}async sendMessage(e){var t;await this.sendPromise;const n=Wg(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});return this.sendPromise=(async()=>{var e,t,o;const i=await r,l=null===(t=null===(e=i.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content,a=i.automaticFunctionCallingHistory,s=this.getHistory(!0).length;let u=[];null!=a&&(u=null!==(o=a.slice(s))&&void 0!==o?o:[]);const c=l?[l]:[];this.recordHistory(n,c,u)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const n=Wg(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const o=await r;return this.processStreamResponse(o,n)}getHistory(e=!1){const t=e?zy(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){return Fy(this,arguments,function*(){var n,r,o,i,l,a;const s=[];try{for(var u,c=!0,d=qy(e);!(n=(u=yield jy(d.next())).done);c=!0){i=u.value,c=!1;const e=i;if(Gy(e)){const t=null===(a=null===(l=e.candidates)||void 0===l?void 0:l[0])||void 0===a?void 0:a.content;void 0!==t&&s.push(t)}yield yield jy(e)}}catch(p){r={error:p}}finally{try{c||n||!(o=d.return)||(yield jy(o.call(d)))}finally{if(r)throw r.error}}this.recordHistory(t,s)})}recordHistory(e,t,n){let r=[];t.length>0&&t.every(e=>void 0!==e.role)?r=t:r.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...zy(n)):this.history.push(e),this.history.push(...r)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $y extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,$y.prototype)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jy(e){const t={},n=Kf(e,["config"]);return null!=n&&function(e,t){const n=Kf(e,["pageSize"]);void 0!==t&&null!=n&&Yf(t,["_query","pageSize"],n);const r=Kf(e,["pageToken"]);void 0!==t&&null!=r&&Yf(t,["_query","pageToken"],r)}(n,t),t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class Wy extends Jf{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new Iy(ag.PAGED_ITEM_FILES,e=>this.listInternal(e),await this.listInternal(e),e)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(e=>e)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Jy(e);return o=Wf("files",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["nextPageToken"]);null!=r&&Yf(t,["nextPageToken"],r);const o=Kf(e,["files"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["files"],e)}return t}(e),n=new xg;return Object.assign(n,t),n})}}async createInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=Kf(e,["file"]);return null!=n&&Yf(t,["file"],n),t}(e);return o=Wf("upload/v1beta/files",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);return null!=n&&Yf(t,["sdkHttpResponse"],n),t}(e),n=new Ng;return Object.assign(n,t),n})}}async get(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=Kf(e,["name"]);return null!=n&&Yf(t,["_url","file"],ly(n)),t}(e);return o=Wf("files/{file}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=Kf(e,["name"]);return null!=n&&Yf(t,["_url","file"],ly(n)),t}(e);return o=Wf("files/{file}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);return null!=n&&Yf(t,["sdkHttpResponse"],n),t}(e),n=new Pg;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yy(e){const t={},n=Kf(e,["data"]);if(null!=n&&Yf(t,["data"],n),void 0!==Kf(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Kf(e,["mimeType"]);return null!=r&&Yf(t,["mimeType"],r),t}function Ky(e){const t={},n=Kf(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["mediaResolution"]);null!=n&&Yf(t,["mediaResolution"],n);const r=Kf(e,["codeExecutionResult"]);null!=r&&Yf(t,["codeExecutionResult"],r);const o=Kf(e,["executableCode"]);null!=o&&Yf(t,["executableCode"],o);const i=Kf(e,["fileData"]);null!=i&&Yf(t,["fileData"],function(e){const t={};if(void 0!==Kf(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Kf(e,["fileUri"]);null!=n&&Yf(t,["fileUri"],n);const r=Kf(e,["mimeType"]);null!=r&&Yf(t,["mimeType"],r);return t}(i));const l=Kf(e,["functionCall"]);null!=l&&Yf(t,["functionCall"],function(e){const t={},n=Kf(e,["id"]);null!=n&&Yf(t,["id"],n);const r=Kf(e,["args"]);null!=r&&Yf(t,["args"],r);const o=Kf(e,["name"]);null!=o&&Yf(t,["name"],o);if(void 0!==Kf(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==Kf(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const a=Kf(e,["functionResponse"]);null!=a&&Yf(t,["functionResponse"],a);const s=Kf(e,["inlineData"]);null!=s&&Yf(t,["inlineData"],Yy(s));const u=Kf(e,["text"]);null!=u&&Yf(t,["text"],u);const c=Kf(e,["thought"]);null!=c&&Yf(t,["thought"],c);const d=Kf(e,["thoughtSignature"]);null!=d&&Yf(t,["thoughtSignature"],d);const p=Kf(e,["videoMetadata"]);null!=p&&Yf(t,["videoMetadata"],p);return t}(e))),Yf(t,["parts"],e)}const r=Kf(e,["role"]);return null!=r&&Yf(t,["role"],r),t}function Qy(e,t){const n=Kf(e,["generationConfig"]);void 0!==t&&null!=n&&Yf(t,["setup","generationConfig"],n);const r=Kf(e,["responseModalities"]);void 0!==t&&null!=r&&Yf(t,["setup","generationConfig","responseModalities"],r);const o=Kf(e,["temperature"]);void 0!==t&&null!=o&&Yf(t,["setup","generationConfig","temperature"],o);const i=Kf(e,["topP"]);void 0!==t&&null!=i&&Yf(t,["setup","generationConfig","topP"],i);const l=Kf(e,["topK"]);void 0!==t&&null!=l&&Yf(t,["setup","generationConfig","topK"],l);const a=Kf(e,["maxOutputTokens"]);void 0!==t&&null!=a&&Yf(t,["setup","generationConfig","maxOutputTokens"],a);const s=Kf(e,["mediaResolution"]);void 0!==t&&null!=s&&Yf(t,["setup","generationConfig","mediaResolution"],s);const u=Kf(e,["seed"]);void 0!==t&&null!=u&&Yf(t,["setup","generationConfig","seed"],u);const c=Kf(e,["speechConfig"]);void 0!==t&&null!=c&&Yf(t,["setup","generationConfig","speechConfig"],ey(c));const d=Kf(e,["thinkingConfig"]);void 0!==t&&null!=d&&Yf(t,["setup","generationConfig","thinkingConfig"],d);const p=Kf(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&Yf(t,["setup","generationConfig","enableAffectiveDialog"],p);const f=Kf(e,["systemInstruction"]);void 0!==t&&null!=f&&Yf(t,["setup","systemInstruction"],Ky(Wg(f)));const h=Kf(e,["tools"]);if(void 0!==t&&null!=h){let e=ny(h);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["functionDeclarations"],e)}if(void 0!==Kf(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=Kf(e,["googleSearchRetrieval"]);null!=r&&Yf(t,["googleSearchRetrieval"],r);const o=Kf(e,["computerUse"]);null!=o&&Yf(t,["computerUse"],o);const i=Kf(e,["fileSearch"]);null!=i&&Yf(t,["fileSearch"],i);const l=Kf(e,["codeExecution"]);null!=l&&Yf(t,["codeExecution"],l);if(void 0!==Kf(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=Kf(e,["googleMaps"]);null!=a&&Yf(t,["googleMaps"],function(e){const t={};if(void 0!==Kf(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=Kf(e,["enableWidget"]);return null!=n&&Yf(t,["enableWidget"],n),t}(a));const s=Kf(e,["googleSearch"]);null!=s&&Yf(t,["googleSearch"],function(e){const t={};if(void 0!==Kf(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==Kf(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=Kf(e,["timeRangeFilter"]);return null!=n&&Yf(t,["timeRangeFilter"],n),t}(s));const u=Kf(e,["urlContext"]);null!=u&&Yf(t,["urlContext"],u);return t}(ty(e)))),Yf(t,["setup","tools"],e)}const m=Kf(e,["sessionResumption"]);void 0!==t&&null!=m&&Yf(t,["setup","sessionResumption"],function(e){const t={},n=Kf(e,["handle"]);null!=n&&Yf(t,["handle"],n);if(void 0!==Kf(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(m));const g=Kf(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&Yf(t,["setup","inputAudioTranscription"],g);const y=Kf(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&Yf(t,["setup","outputAudioTranscription"],y);const v=Kf(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&Yf(t,["setup","realtimeInputConfig"],v);const b=Kf(e,["contextWindowCompression"]);void 0!==t&&null!=b&&Yf(t,["setup","contextWindowCompression"],b);const E=Kf(e,["proactivity"]);if(void 0!==t&&null!=E&&Yf(t,["setup","proactivity"],E),void 0!==Kf(e,["explicitVadSignal"]))throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return{}}function Xy(e,t){const n=Kf(e,["generationConfig"]);void 0!==t&&null!=n&&Yf(t,["setup","generationConfig"],function(e){const t={},n=Kf(e,["modelSelectionConfig"]);null!=n&&Yf(t,["modelConfig"],n);const r=Kf(e,["responseJsonSchema"]);null!=r&&Yf(t,["responseJsonSchema"],r);const o=Kf(e,["audioTimestamp"]);null!=o&&Yf(t,["audioTimestamp"],o);const i=Kf(e,["candidateCount"]);null!=i&&Yf(t,["candidateCount"],i);const l=Kf(e,["enableAffectiveDialog"]);null!=l&&Yf(t,["enableAffectiveDialog"],l);const a=Kf(e,["frequencyPenalty"]);null!=a&&Yf(t,["frequencyPenalty"],a);const s=Kf(e,["logprobs"]);null!=s&&Yf(t,["logprobs"],s);const u=Kf(e,["maxOutputTokens"]);null!=u&&Yf(t,["maxOutputTokens"],u);const c=Kf(e,["mediaResolution"]);null!=c&&Yf(t,["mediaResolution"],c);const d=Kf(e,["presencePenalty"]);null!=d&&Yf(t,["presencePenalty"],d);const p=Kf(e,["responseLogprobs"]);null!=p&&Yf(t,["responseLogprobs"],p);const f=Kf(e,["responseMimeType"]);null!=f&&Yf(t,["responseMimeType"],f);const h=Kf(e,["responseModalities"]);null!=h&&Yf(t,["responseModalities"],h);const m=Kf(e,["responseSchema"]);null!=m&&Yf(t,["responseSchema"],m);const g=Kf(e,["routingConfig"]);null!=g&&Yf(t,["routingConfig"],g);const y=Kf(e,["seed"]);null!=y&&Yf(t,["seed"],y);const v=Kf(e,["speechConfig"]);null!=v&&Yf(t,["speechConfig"],v);const b=Kf(e,["stopSequences"]);null!=b&&Yf(t,["stopSequences"],b);const E=Kf(e,["temperature"]);null!=E&&Yf(t,["temperature"],E);const S=Kf(e,["thinkingConfig"]);null!=S&&Yf(t,["thinkingConfig"],S);const w=Kf(e,["topK"]);null!=w&&Yf(t,["topK"],w);const _=Kf(e,["topP"]);if(null!=_&&Yf(t,["topP"],_),void 0!==Kf(e,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(n));const r=Kf(e,["responseModalities"]);void 0!==t&&null!=r&&Yf(t,["setup","generationConfig","responseModalities"],r);const o=Kf(e,["temperature"]);void 0!==t&&null!=o&&Yf(t,["setup","generationConfig","temperature"],o);const i=Kf(e,["topP"]);void 0!==t&&null!=i&&Yf(t,["setup","generationConfig","topP"],i);const l=Kf(e,["topK"]);void 0!==t&&null!=l&&Yf(t,["setup","generationConfig","topK"],l);const a=Kf(e,["maxOutputTokens"]);void 0!==t&&null!=a&&Yf(t,["setup","generationConfig","maxOutputTokens"],a);const s=Kf(e,["mediaResolution"]);void 0!==t&&null!=s&&Yf(t,["setup","generationConfig","mediaResolution"],s);const u=Kf(e,["seed"]);void 0!==t&&null!=u&&Yf(t,["setup","generationConfig","seed"],u);const c=Kf(e,["speechConfig"]);void 0!==t&&null!=c&&Yf(t,["setup","generationConfig","speechConfig"],ey(c));const d=Kf(e,["thinkingConfig"]);void 0!==t&&null!=d&&Yf(t,["setup","generationConfig","thinkingConfig"],d);const p=Kf(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&Yf(t,["setup","generationConfig","enableAffectiveDialog"],p);const f=Kf(e,["systemInstruction"]);void 0!==t&&null!=f&&Yf(t,["setup","systemInstruction"],Wg(f));const h=Kf(e,["tools"]);if(void 0!==t&&null!=h){let e=ny(h);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==Kf(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=Kf(e,["description"]);null!=n&&Yf(t,["description"],n);const r=Kf(e,["name"]);null!=r&&Yf(t,["name"],r);const o=Kf(e,["parameters"]);null!=o&&Yf(t,["parameters"],o);const i=Kf(e,["parametersJsonSchema"]);null!=i&&Yf(t,["parametersJsonSchema"],i);const l=Kf(e,["response"]);null!=l&&Yf(t,["response"],l);const a=Kf(e,["responseJsonSchema"]);return null!=a&&Yf(t,["responseJsonSchema"],a),t}(e))),Yf(t,["functionDeclarations"],e)}const r=Kf(e,["retrieval"]);null!=r&&Yf(t,["retrieval"],r);const o=Kf(e,["googleSearchRetrieval"]);null!=o&&Yf(t,["googleSearchRetrieval"],o);const i=Kf(e,["computerUse"]);null!=i&&Yf(t,["computerUse"],i);if(void 0!==Kf(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=Kf(e,["codeExecution"]);null!=l&&Yf(t,["codeExecution"],l);const a=Kf(e,["enterpriseWebSearch"]);null!=a&&Yf(t,["enterpriseWebSearch"],a);const s=Kf(e,["googleMaps"]);null!=s&&Yf(t,["googleMaps"],s);const u=Kf(e,["googleSearch"]);null!=u&&Yf(t,["googleSearch"],u);const c=Kf(e,["urlContext"]);null!=c&&Yf(t,["urlContext"],c);return t}(ty(e)))),Yf(t,["setup","tools"],e)}const m=Kf(e,["sessionResumption"]);void 0!==t&&null!=m&&Yf(t,["setup","sessionResumption"],m);const g=Kf(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&Yf(t,["setup","inputAudioTranscription"],g);const y=Kf(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&Yf(t,["setup","outputAudioTranscription"],y);const v=Kf(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&Yf(t,["setup","realtimeInputConfig"],v);const b=Kf(e,["contextWindowCompression"]);void 0!==t&&null!=b&&Yf(t,["setup","contextWindowCompression"],b);const E=Kf(e,["proactivity"]);void 0!==t&&null!=E&&Yf(t,["setup","proactivity"],E);const S=Kf(e,["explicitVadSignal"]);return void 0!==t&&null!=S&&Yf(t,["setup","explicitVadSignal"],S),{}}function Zy(e){const t={},n=Kf(e,["media"]);if(null!=n){let e=Fg(n);Array.isArray(e)&&(e=e.map(e=>Yy(e))),Yf(t,["mediaChunks"],e)}const r=Kf(e,["audio"]);null!=r&&Yf(t,["audio"],Yy(Hg(r)));const o=Kf(e,["audioStreamEnd"]);null!=o&&Yf(t,["audioStreamEnd"],o);const i=Kf(e,["video"]);null!=i&&Yf(t,["video"],Yy(Gg(i)));const l=Kf(e,["text"]);null!=l&&Yf(t,["text"],l);const a=Kf(e,["activityStart"]);null!=a&&Yf(t,["activityStart"],a);const s=Kf(e,["activityEnd"]);return null!=s&&Yf(t,["activityEnd"],s),t}function ev(e){const t={},n=Kf(e,["media"]);if(null!=n){let e=Fg(n);Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["mediaChunks"],e)}const r=Kf(e,["audio"]);null!=r&&Yf(t,["audio"],Hg(r));const o=Kf(e,["audioStreamEnd"]);null!=o&&Yf(t,["audioStreamEnd"],o);const i=Kf(e,["video"]);null!=i&&Yf(t,["video"],Gg(i));const l=Kf(e,["text"]);null!=l&&Yf(t,["text"],l);const a=Kf(e,["activityStart"]);null!=a&&Yf(t,["activityStart"],a);const s=Kf(e,["activityEnd"]);return null!=s&&Yf(t,["activityEnd"],s),t}function tv(e){const t={},n=Kf(e,["setupComplete"]);null!=n&&Yf(t,["setupComplete"],n);const r=Kf(e,["serverContent"]);null!=r&&Yf(t,["serverContent"],r);const o=Kf(e,["toolCall"]);null!=o&&Yf(t,["toolCall"],o);const i=Kf(e,["toolCallCancellation"]);null!=i&&Yf(t,["toolCallCancellation"],i);const l=Kf(e,["usageMetadata"]);null!=l&&Yf(t,["usageMetadata"],function(e){const t={},n=Kf(e,["promptTokenCount"]);null!=n&&Yf(t,["promptTokenCount"],n);const r=Kf(e,["cachedContentTokenCount"]);null!=r&&Yf(t,["cachedContentTokenCount"],r);const o=Kf(e,["candidatesTokenCount"]);null!=o&&Yf(t,["responseTokenCount"],o);const i=Kf(e,["toolUsePromptTokenCount"]);null!=i&&Yf(t,["toolUsePromptTokenCount"],i);const l=Kf(e,["thoughtsTokenCount"]);null!=l&&Yf(t,["thoughtsTokenCount"],l);const a=Kf(e,["totalTokenCount"]);null!=a&&Yf(t,["totalTokenCount"],a);const s=Kf(e,["promptTokensDetails"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["promptTokensDetails"],e)}const u=Kf(e,["cacheTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["cacheTokensDetails"],e)}const c=Kf(e,["candidatesTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["responseTokensDetails"],e)}const d=Kf(e,["toolUsePromptTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["toolUsePromptTokensDetails"],e)}const p=Kf(e,["trafficType"]);null!=p&&Yf(t,["trafficType"],p);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(l));const a=Kf(e,["goAway"]);null!=a&&Yf(t,["goAway"],a);const s=Kf(e,["sessionResumptionUpdate"]);null!=s&&Yf(t,["sessionResumptionUpdate"],s);const u=Kf(e,["voiceActivityDetectionSignal"]);return null!=u&&Yf(t,["voiceActivityDetectionSignal"],u),t}function nv(e){const t={},n=Kf(e,["content"]);null!=n&&Yf(t,["content"],n);const r=Kf(e,["citationMetadata"]);null!=r&&Yf(t,["citationMetadata"],function(e){const t={},n=Kf(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["citations"],e)}return t}(r));const o=Kf(e,["tokenCount"]);null!=o&&Yf(t,["tokenCount"],o);const i=Kf(e,["finishReason"]);null!=i&&Yf(t,["finishReason"],i);const l=Kf(e,["avgLogprobs"]);null!=l&&Yf(t,["avgLogprobs"],l);const a=Kf(e,["groundingMetadata"]);null!=a&&Yf(t,["groundingMetadata"],a);const s=Kf(e,["index"]);null!=s&&Yf(t,["index"],s);const u=Kf(e,["logprobsResult"]);null!=u&&Yf(t,["logprobsResult"],u);const c=Kf(e,["safetyRatings"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["safetyRatings"],e)}const d=Kf(e,["urlContextMetadata"]);return null!=d&&Yf(t,["urlContextMetadata"],d),t}function rv(e){const t={},n=Kf(e,["values"]);null!=n&&Yf(t,["values"],n);const r=Kf(e,["statistics"]);return null!=r&&Yf(t,["statistics"],function(e){const t={},n=Kf(e,["truncated"]);null!=n&&Yf(t,["truncated"],n);const r=Kf(e,["token_count"]);null!=r&&Yf(t,["tokenCount"],r);return t}(r)),t}function ov(e){const t={},n=Kf(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["mediaResolution"]);null!=n&&Yf(t,["mediaResolution"],n);const r=Kf(e,["codeExecutionResult"]);null!=r&&Yf(t,["codeExecutionResult"],r);const o=Kf(e,["executableCode"]);null!=o&&Yf(t,["executableCode"],o);const i=Kf(e,["fileData"]);null!=i&&Yf(t,["fileData"],function(e){const t={};if(void 0!==Kf(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Kf(e,["fileUri"]);null!=n&&Yf(t,["fileUri"],n);const r=Kf(e,["mimeType"]);null!=r&&Yf(t,["mimeType"],r);return t}(i));const l=Kf(e,["functionCall"]);null!=l&&Yf(t,["functionCall"],function(e){const t={},n=Kf(e,["id"]);null!=n&&Yf(t,["id"],n);const r=Kf(e,["args"]);null!=r&&Yf(t,["args"],r);const o=Kf(e,["name"]);null!=o&&Yf(t,["name"],o);if(void 0!==Kf(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==Kf(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const a=Kf(e,["functionResponse"]);null!=a&&Yf(t,["functionResponse"],a);const s=Kf(e,["inlineData"]);null!=s&&Yf(t,["inlineData"],function(e){const t={},n=Kf(e,["data"]);if(null!=n&&Yf(t,["data"],n),void 0!==Kf(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Kf(e,["mimeType"]);return null!=r&&Yf(t,["mimeType"],r),t}(s));const u=Kf(e,["text"]);null!=u&&Yf(t,["text"],u);const c=Kf(e,["thought"]);null!=c&&Yf(t,["thought"],c);const d=Kf(e,["thoughtSignature"]);null!=d&&Yf(t,["thoughtSignature"],d);const p=Kf(e,["videoMetadata"]);null!=p&&Yf(t,["videoMetadata"],p);return t}(e))),Yf(t,["parts"],e)}const r=Kf(e,["role"]);return null!=r&&Yf(t,["role"],r),t}function iv(e,t){const n=Kf(e,["systemInstruction"]);void 0!==t&&null!=n&&Yf(t,["systemInstruction"],Wg(n));const r=Kf(e,["tools"]);if(void 0!==t&&null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>jv(e))),Yf(t,["tools"],e)}const o=Kf(e,["generationConfig"]);return void 0!==t&&null!=o&&Yf(t,["generationConfig"],function(e){const t={},n=Kf(e,["modelSelectionConfig"]);null!=n&&Yf(t,["modelConfig"],n);const r=Kf(e,["responseJsonSchema"]);null!=r&&Yf(t,["responseJsonSchema"],r);const o=Kf(e,["audioTimestamp"]);null!=o&&Yf(t,["audioTimestamp"],o);const i=Kf(e,["candidateCount"]);null!=i&&Yf(t,["candidateCount"],i);const l=Kf(e,["enableAffectiveDialog"]);null!=l&&Yf(t,["enableAffectiveDialog"],l);const a=Kf(e,["frequencyPenalty"]);null!=a&&Yf(t,["frequencyPenalty"],a);const s=Kf(e,["logprobs"]);null!=s&&Yf(t,["logprobs"],s);const u=Kf(e,["maxOutputTokens"]);null!=u&&Yf(t,["maxOutputTokens"],u);const c=Kf(e,["mediaResolution"]);null!=c&&Yf(t,["mediaResolution"],c);const d=Kf(e,["presencePenalty"]);null!=d&&Yf(t,["presencePenalty"],d);const p=Kf(e,["responseLogprobs"]);null!=p&&Yf(t,["responseLogprobs"],p);const f=Kf(e,["responseMimeType"]);null!=f&&Yf(t,["responseMimeType"],f);const h=Kf(e,["responseModalities"]);null!=h&&Yf(t,["responseModalities"],h);const m=Kf(e,["responseSchema"]);null!=m&&Yf(t,["responseSchema"],m);const g=Kf(e,["routingConfig"]);null!=g&&Yf(t,["routingConfig"],g);const y=Kf(e,["seed"]);null!=y&&Yf(t,["seed"],y);const v=Kf(e,["speechConfig"]);null!=v&&Yf(t,["speechConfig"],v);const b=Kf(e,["stopSequences"]);null!=b&&Yf(t,["stopSequences"],b);const E=Kf(e,["temperature"]);null!=E&&Yf(t,["temperature"],E);const S=Kf(e,["thinkingConfig"]);null!=S&&Yf(t,["thinkingConfig"],S);const w=Kf(e,["topK"]);null!=w&&Yf(t,["topK"],w);const _=Kf(e,["topP"]);null!=_&&Yf(t,["topP"],_);if(void 0!==Kf(e,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(o)),{}}function lv(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["_url","model"],Ug(e,r));const o=Kf(t,["contents"]);if(null!=o){let e=Kg(o);Array.isArray(e)&&(e=e.map(e=>ov(e))),Yf(n,["contents"],e)}const i=Kf(t,["config"]);return null!=i&&function(e){if(void 0!==Kf(e,["systemInstruction"]))throw new Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==Kf(e,["tools"]))throw new Error("tools parameter is not supported in Gemini API.");if(void 0!==Kf(e,["generationConfig"]))throw new Error("generationConfig parameter is not supported in Gemini API.")}(i),n}function av(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["_url","model"],Ug(e,r));const o=Kf(t,["prompt"]);null!=o&&Yf(n,["instances[0]","prompt"],o);const i=Kf(t,["referenceImages"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["referenceImage"]);null!=n&&Yf(t,["referenceImage"],Ov(n));const r=Kf(e,["referenceId"]);null!=r&&Yf(t,["referenceId"],r);const o=Kf(e,["referenceType"]);null!=o&&Yf(t,["referenceType"],o);const i=Kf(e,["maskImageConfig"]);null!=i&&Yf(t,["maskImageConfig"],function(e){const t={},n=Kf(e,["maskMode"]);null!=n&&Yf(t,["maskMode"],n);const r=Kf(e,["segmentationClasses"]);null!=r&&Yf(t,["maskClasses"],r);const o=Kf(e,["maskDilation"]);null!=o&&Yf(t,["dilation"],o);return t}(i));const l=Kf(e,["controlImageConfig"]);null!=l&&Yf(t,["controlImageConfig"],function(e){const t={},n=Kf(e,["controlType"]);null!=n&&Yf(t,["controlType"],n);const r=Kf(e,["enableControlImageComputation"]);return null!=r&&Yf(t,["computeControl"],r),t}(l));const a=Kf(e,["styleImageConfig"]);null!=a&&Yf(t,["styleImageConfig"],a);const s=Kf(e,["subjectImageConfig"]);null!=s&&Yf(t,["subjectImageConfig"],s);return t}(e))),Yf(n,["instances[0]","referenceImages"],e)}const l=Kf(t,["config"]);return null!=l&&function(e,t){const n=Kf(e,["outputGcsUri"]);void 0!==t&&null!=n&&Yf(t,["parameters","storageUri"],n);const r=Kf(e,["negativePrompt"]);void 0!==t&&null!=r&&Yf(t,["parameters","negativePrompt"],r);const o=Kf(e,["numberOfImages"]);void 0!==t&&null!=o&&Yf(t,["parameters","sampleCount"],o);const i=Kf(e,["aspectRatio"]);void 0!==t&&null!=i&&Yf(t,["parameters","aspectRatio"],i);const l=Kf(e,["guidanceScale"]);void 0!==t&&null!=l&&Yf(t,["parameters","guidanceScale"],l);const a=Kf(e,["seed"]);void 0!==t&&null!=a&&Yf(t,["parameters","seed"],a);const s=Kf(e,["safetyFilterLevel"]);void 0!==t&&null!=s&&Yf(t,["parameters","safetySetting"],s);const u=Kf(e,["personGeneration"]);void 0!==t&&null!=u&&Yf(t,["parameters","personGeneration"],u);const c=Kf(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&Yf(t,["parameters","includeSafetyAttributes"],c);const d=Kf(e,["includeRaiReason"]);void 0!==t&&null!=d&&Yf(t,["parameters","includeRaiReason"],d);const p=Kf(e,["language"]);void 0!==t&&null!=p&&Yf(t,["parameters","language"],p);const f=Kf(e,["outputMimeType"]);void 0!==t&&null!=f&&Yf(t,["parameters","outputOptions","mimeType"],f);const h=Kf(e,["outputCompressionQuality"]);void 0!==t&&null!=h&&Yf(t,["parameters","outputOptions","compressionQuality"],h);const m=Kf(e,["addWatermark"]);void 0!==t&&null!=m&&Yf(t,["parameters","addWatermark"],m);const g=Kf(e,["labels"]);void 0!==t&&null!=g&&Yf(t,["labels"],g);const y=Kf(e,["editMode"]);void 0!==t&&null!=y&&Yf(t,["parameters","editMode"],y);const v=Kf(e,["baseSteps"]);void 0!==t&&null!=v&&Yf(t,["parameters","editConfig","baseSteps"],v)}(l,n),n}function sv(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["_url","model"],Ug(e,r));const o=Kf(t,["contents"]);if(null!=o){let t=Yg(e,o);Array.isArray(t)&&(t=t.map(e=>e)),Yf(n,["requests[]","content"],t)}const i=Kf(t,["config"]);null!=i&&function(e,t){const n=Kf(e,["taskType"]);void 0!==t&&null!=n&&Yf(t,["requests[]","taskType"],n);const r=Kf(e,["title"]);void 0!==t&&null!=r&&Yf(t,["requests[]","title"],r);const o=Kf(e,["outputDimensionality"]);if(void 0!==t&&null!=o&&Yf(t,["requests[]","outputDimensionality"],o),void 0!==Kf(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==Kf(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.")}(i,n);const l=Kf(t,["model"]);return void 0!==l&&Yf(n,["requests[]","model"],Ug(e,l)),n}function uv(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["_url","model"],Ug(e,r));const o=Kf(t,["contents"]);if(null!=o){let t=Yg(e,o);Array.isArray(t)&&(t=t.map(e=>e)),Yf(n,["instances[]","content"],t)}const i=Kf(t,["config"]);return null!=i&&function(e,t){const n=Kf(e,["taskType"]);void 0!==t&&null!=n&&Yf(t,["instances[]","task_type"],n);const r=Kf(e,["title"]);void 0!==t&&null!=r&&Yf(t,["instances[]","title"],r);const o=Kf(e,["outputDimensionality"]);void 0!==t&&null!=o&&Yf(t,["parameters","outputDimensionality"],o);const i=Kf(e,["mimeType"]);void 0!==t&&null!=i&&Yf(t,["instances[]","mimeType"],i);const l=Kf(e,["autoTruncate"]);void 0!==t&&null!=l&&Yf(t,["parameters","autoTruncate"],l)}(i,n),n}function cv(e,t,n){const r={},o=Kf(t,["systemInstruction"]);void 0!==n&&null!=o&&Yf(n,["systemInstruction"],ov(Wg(o)));const i=Kf(t,["temperature"]);null!=i&&Yf(r,["temperature"],i);const l=Kf(t,["topP"]);null!=l&&Yf(r,["topP"],l);const a=Kf(t,["topK"]);null!=a&&Yf(r,["topK"],a);const s=Kf(t,["candidateCount"]);null!=s&&Yf(r,["candidateCount"],s);const u=Kf(t,["maxOutputTokens"]);null!=u&&Yf(r,["maxOutputTokens"],u);const c=Kf(t,["stopSequences"]);null!=c&&Yf(r,["stopSequences"],c);const d=Kf(t,["responseLogprobs"]);null!=d&&Yf(r,["responseLogprobs"],d);const p=Kf(t,["logprobs"]);null!=p&&Yf(r,["logprobs"],p);const f=Kf(t,["presencePenalty"]);null!=f&&Yf(r,["presencePenalty"],f);const h=Kf(t,["frequencyPenalty"]);null!=h&&Yf(r,["frequencyPenalty"],h);const m=Kf(t,["seed"]);null!=m&&Yf(r,["seed"],m);const g=Kf(t,["responseMimeType"]);null!=g&&Yf(r,["responseMimeType"],g);const y=Kf(t,["responseSchema"]);null!=y&&Yf(r,["responseSchema"],Xg(y));const v=Kf(t,["responseJsonSchema"]);if(null!=v&&Yf(r,["responseJsonSchema"],v),void 0!==Kf(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==Kf(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=Kf(t,["safetySettings"]);if(void 0!==n&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["category"]);null!=n&&Yf(t,["category"],n);if(void 0!==Kf(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const r=Kf(e,["threshold"]);null!=r&&Yf(t,["threshold"],r);return t}(e))),Yf(n,["safetySettings"],e)}const E=Kf(t,["tools"]);if(void 0!==n&&null!=E){let e=ny(E);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["functionDeclarations"],e)}if(void 0!==Kf(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=Kf(e,["googleSearchRetrieval"]);null!=r&&Yf(t,["googleSearchRetrieval"],r);const o=Kf(e,["computerUse"]);null!=o&&Yf(t,["computerUse"],o);const i=Kf(e,["fileSearch"]);null!=i&&Yf(t,["fileSearch"],i);const l=Kf(e,["codeExecution"]);null!=l&&Yf(t,["codeExecution"],l);if(void 0!==Kf(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=Kf(e,["googleMaps"]);null!=a&&Yf(t,["googleMaps"],function(e){const t={};if(void 0!==Kf(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=Kf(e,["enableWidget"]);null!=n&&Yf(t,["enableWidget"],n);return t}(a));const s=Kf(e,["googleSearch"]);null!=s&&Yf(t,["googleSearch"],function(e){const t={};if(void 0!==Kf(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==Kf(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=Kf(e,["timeRangeFilter"]);null!=n&&Yf(t,["timeRangeFilter"],n);return t}(s));const u=Kf(e,["urlContext"]);null!=u&&Yf(t,["urlContext"],u);return t}(ty(e)))),Yf(n,["tools"],e)}const S=Kf(t,["toolConfig"]);if(void 0!==n&&null!=S&&Yf(n,["toolConfig"],function(e){const t={},n=Kf(e,["functionCallingConfig"]);null!=n&&Yf(t,["functionCallingConfig"],function(e){const t={},n=Kf(e,["mode"]);null!=n&&Yf(t,["mode"],n);const r=Kf(e,["allowedFunctionNames"]);if(null!=r&&Yf(t,["allowedFunctionNames"],r),void 0!==Kf(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(n));const r=Kf(e,["retrievalConfig"]);null!=r&&Yf(t,["retrievalConfig"],r);return t}(S)),void 0!==Kf(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const w=Kf(t,["cachedContent"]);void 0!==n&&null!=w&&Yf(n,["cachedContent"],ry(e,w));const _=Kf(t,["responseModalities"]);null!=_&&Yf(r,["responseModalities"],_);const C=Kf(t,["mediaResolution"]);null!=C&&Yf(r,["mediaResolution"],C);const T=Kf(t,["speechConfig"]);if(null!=T&&Yf(r,["speechConfig"],Zg(T)),void 0!==Kf(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=Kf(t,["thinkingConfig"]);null!=I&&Yf(r,["thinkingConfig"],I);const A=Kf(t,["imageConfig"]);null!=A&&Yf(r,["imageConfig"],function(e){const t={},n=Kf(e,["aspectRatio"]);null!=n&&Yf(t,["aspectRatio"],n);const r=Kf(e,["imageSize"]);null!=r&&Yf(t,["imageSize"],r);if(void 0!==Kf(e,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==Kf(e,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(A));const O=Kf(t,["enableEnhancedCivicAnswers"]);return null!=O&&Yf(r,["enableEnhancedCivicAnswers"],O),r}function dv(e,t,n){const r={},o=Kf(t,["systemInstruction"]);void 0!==n&&null!=o&&Yf(n,["systemInstruction"],Wg(o));const i=Kf(t,["temperature"]);null!=i&&Yf(r,["temperature"],i);const l=Kf(t,["topP"]);null!=l&&Yf(r,["topP"],l);const a=Kf(t,["topK"]);null!=a&&Yf(r,["topK"],a);const s=Kf(t,["candidateCount"]);null!=s&&Yf(r,["candidateCount"],s);const u=Kf(t,["maxOutputTokens"]);null!=u&&Yf(r,["maxOutputTokens"],u);const c=Kf(t,["stopSequences"]);null!=c&&Yf(r,["stopSequences"],c);const d=Kf(t,["responseLogprobs"]);null!=d&&Yf(r,["responseLogprobs"],d);const p=Kf(t,["logprobs"]);null!=p&&Yf(r,["logprobs"],p);const f=Kf(t,["presencePenalty"]);null!=f&&Yf(r,["presencePenalty"],f);const h=Kf(t,["frequencyPenalty"]);null!=h&&Yf(r,["frequencyPenalty"],h);const m=Kf(t,["seed"]);null!=m&&Yf(r,["seed"],m);const g=Kf(t,["responseMimeType"]);null!=g&&Yf(r,["responseMimeType"],g);const y=Kf(t,["responseSchema"]);null!=y&&Yf(r,["responseSchema"],Xg(y));const v=Kf(t,["responseJsonSchema"]);null!=v&&Yf(r,["responseJsonSchema"],v);const b=Kf(t,["routingConfig"]);null!=b&&Yf(r,["routingConfig"],b);const E=Kf(t,["modelSelectionConfig"]);null!=E&&Yf(r,["modelConfig"],E);const S=Kf(t,["safetySettings"]);if(void 0!==n&&null!=S){let e=S;Array.isArray(e)&&(e=e.map(e=>e)),Yf(n,["safetySettings"],e)}const w=Kf(t,["tools"]);if(void 0!==n&&null!=w){let e=ny(w);Array.isArray(e)&&(e=e.map(e=>jv(ty(e)))),Yf(n,["tools"],e)}const _=Kf(t,["toolConfig"]);void 0!==n&&null!=_&&Yf(n,["toolConfig"],_);const C=Kf(t,["labels"]);void 0!==n&&null!=C&&Yf(n,["labels"],C);const T=Kf(t,["cachedContent"]);void 0!==n&&null!=T&&Yf(n,["cachedContent"],ry(e,T));const I=Kf(t,["responseModalities"]);null!=I&&Yf(r,["responseModalities"],I);const A=Kf(t,["mediaResolution"]);null!=A&&Yf(r,["mediaResolution"],A);const O=Kf(t,["speechConfig"]);null!=O&&Yf(r,["speechConfig"],Zg(O));const k=Kf(t,["audioTimestamp"]);null!=k&&Yf(r,["audioTimestamp"],k);const x=Kf(t,["thinkingConfig"]);null!=x&&Yf(r,["thinkingConfig"],x);const N=Kf(t,["imageConfig"]);if(null!=N&&Yf(r,["imageConfig"],function(e){const t={},n=Kf(e,["aspectRatio"]);null!=n&&Yf(t,["aspectRatio"],n);const r=Kf(e,["imageSize"]);null!=r&&Yf(t,["imageSize"],r);const o=Kf(e,["outputMimeType"]);null!=o&&Yf(t,["imageOutputOptions","mimeType"],o);const i=Kf(e,["outputCompressionQuality"]);null!=i&&Yf(t,["imageOutputOptions","compressionQuality"],i);return t}(N)),void 0!==Kf(t,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function pv(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["_url","model"],Ug(e,r));const o=Kf(t,["contents"]);if(null!=o){let e=Kg(o);Array.isArray(e)&&(e=e.map(e=>ov(e))),Yf(n,["contents"],e)}const i=Kf(t,["config"]);return null!=i&&Yf(n,["generationConfig"],cv(e,i,n)),n}function fv(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["_url","model"],Ug(e,r));const o=Kf(t,["contents"]);if(null!=o){let e=Kg(o);Array.isArray(e)&&(e=e.map(e=>e)),Yf(n,["contents"],e)}const i=Kf(t,["config"]);return null!=i&&Yf(n,["generationConfig"],dv(e,i,n)),n}function hv(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>nv(e))),Yf(t,["candidates"],e)}const o=Kf(e,["modelVersion"]);null!=o&&Yf(t,["modelVersion"],o);const i=Kf(e,["promptFeedback"]);null!=i&&Yf(t,["promptFeedback"],i);const l=Kf(e,["responseId"]);null!=l&&Yf(t,["responseId"],l);const a=Kf(e,["usageMetadata"]);return null!=a&&Yf(t,["usageMetadata"],a),t}function mv(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["candidates"],e)}const o=Kf(e,["createTime"]);null!=o&&Yf(t,["createTime"],o);const i=Kf(e,["modelVersion"]);null!=i&&Yf(t,["modelVersion"],i);const l=Kf(e,["promptFeedback"]);null!=l&&Yf(t,["promptFeedback"],l);const a=Kf(e,["responseId"]);null!=a&&Yf(t,["responseId"],a);const s=Kf(e,["usageMetadata"]);return null!=s&&Yf(t,["usageMetadata"],s),t}function gv(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["_url","model"],Ug(e,r));const o=Kf(t,["prompt"]);null!=o&&Yf(n,["instances[0]","prompt"],o);const i=Kf(t,["config"]);return null!=i&&function(e,t){if(void 0!==Kf(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==Kf(e,["negativePrompt"]))throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=Kf(e,["numberOfImages"]);void 0!==t&&null!=n&&Yf(t,["parameters","sampleCount"],n);const r=Kf(e,["aspectRatio"]);void 0!==t&&null!=r&&Yf(t,["parameters","aspectRatio"],r);const o=Kf(e,["guidanceScale"]);if(void 0!==t&&null!=o&&Yf(t,["parameters","guidanceScale"],o),void 0!==Kf(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const i=Kf(e,["safetyFilterLevel"]);void 0!==t&&null!=i&&Yf(t,["parameters","safetySetting"],i);const l=Kf(e,["personGeneration"]);void 0!==t&&null!=l&&Yf(t,["parameters","personGeneration"],l);const a=Kf(e,["includeSafetyAttributes"]);void 0!==t&&null!=a&&Yf(t,["parameters","includeSafetyAttributes"],a);const s=Kf(e,["includeRaiReason"]);void 0!==t&&null!=s&&Yf(t,["parameters","includeRaiReason"],s);const u=Kf(e,["language"]);void 0!==t&&null!=u&&Yf(t,["parameters","language"],u);const c=Kf(e,["outputMimeType"]);void 0!==t&&null!=c&&Yf(t,["parameters","outputOptions","mimeType"],c);const d=Kf(e,["outputCompressionQuality"]);if(void 0!==t&&null!=d&&Yf(t,["parameters","outputOptions","compressionQuality"],d),void 0!==Kf(e,["addWatermark"]))throw new Error("addWatermark parameter is not supported in Gemini API.");if(void 0!==Kf(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const p=Kf(e,["imageSize"]);if(void 0!==t&&null!=p&&Yf(t,["parameters","sampleImageSize"],p),void 0!==Kf(e,["enhancePrompt"]))throw new Error("enhancePrompt parameter is not supported in Gemini API.")}(i,n),n}function yv(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["_url","model"],Ug(e,r));const o=Kf(t,["prompt"]);null!=o&&Yf(n,["instances[0]","prompt"],o);const i=Kf(t,["config"]);return null!=i&&function(e,t){const n=Kf(e,["outputGcsUri"]);void 0!==t&&null!=n&&Yf(t,["parameters","storageUri"],n);const r=Kf(e,["negativePrompt"]);void 0!==t&&null!=r&&Yf(t,["parameters","negativePrompt"],r);const o=Kf(e,["numberOfImages"]);void 0!==t&&null!=o&&Yf(t,["parameters","sampleCount"],o);const i=Kf(e,["aspectRatio"]);void 0!==t&&null!=i&&Yf(t,["parameters","aspectRatio"],i);const l=Kf(e,["guidanceScale"]);void 0!==t&&null!=l&&Yf(t,["parameters","guidanceScale"],l);const a=Kf(e,["seed"]);void 0!==t&&null!=a&&Yf(t,["parameters","seed"],a);const s=Kf(e,["safetyFilterLevel"]);void 0!==t&&null!=s&&Yf(t,["parameters","safetySetting"],s);const u=Kf(e,["personGeneration"]);void 0!==t&&null!=u&&Yf(t,["parameters","personGeneration"],u);const c=Kf(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&Yf(t,["parameters","includeSafetyAttributes"],c);const d=Kf(e,["includeRaiReason"]);void 0!==t&&null!=d&&Yf(t,["parameters","includeRaiReason"],d);const p=Kf(e,["language"]);void 0!==t&&null!=p&&Yf(t,["parameters","language"],p);const f=Kf(e,["outputMimeType"]);void 0!==t&&null!=f&&Yf(t,["parameters","outputOptions","mimeType"],f);const h=Kf(e,["outputCompressionQuality"]);void 0!==t&&null!=h&&Yf(t,["parameters","outputOptions","compressionQuality"],h);const m=Kf(e,["addWatermark"]);void 0!==t&&null!=m&&Yf(t,["parameters","addWatermark"],m);const g=Kf(e,["labels"]);void 0!==t&&null!=g&&Yf(t,["labels"],g);const y=Kf(e,["imageSize"]);void 0!==t&&null!=y&&Yf(t,["parameters","sampleImageSize"],y);const v=Kf(e,["enhancePrompt"]);void 0!==t&&null!=v&&Yf(t,["parameters","enhancePrompt"],v)}(i,n),n}function vv(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["_self"]);null!=n&&Yf(t,["image"],function(e){const t={},n=Kf(e,["bytesBase64Encoded"]);null!=n&&Yf(t,["imageBytes"],iy(n));const r=Kf(e,["mimeType"]);null!=r&&Yf(t,["mimeType"],r);return t}(n));const r=Kf(e,["raiFilteredReason"]);null!=r&&Yf(t,["raiFilteredReason"],r);const o=Kf(e,["_self"]);null!=o&&Yf(t,["safetyAttributes"],Dv(o));return t}(e))),Yf(t,["generatedImages"],e)}const o=Kf(e,["positivePromptSafetyAttributes"]);return null!=o&&Yf(t,["positivePromptSafetyAttributes"],Dv(o)),t}function bv(e,t){const n=Kf(e,["numberOfVideos"]);if(void 0!==t&&null!=n&&Yf(t,["parameters","sampleCount"],n),void 0!==Kf(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==Kf(e,["fps"]))throw new Error("fps parameter is not supported in Gemini API.");const r=Kf(e,["durationSeconds"]);if(void 0!==t&&null!=r&&Yf(t,["parameters","durationSeconds"],r),void 0!==Kf(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const o=Kf(e,["aspectRatio"]);void 0!==t&&null!=o&&Yf(t,["parameters","aspectRatio"],o);const i=Kf(e,["resolution"]);void 0!==t&&null!=i&&Yf(t,["parameters","resolution"],i);const l=Kf(e,["personGeneration"]);if(void 0!==t&&null!=l&&Yf(t,["parameters","personGeneration"],l),void 0!==Kf(e,["pubsubTopic"]))throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=Kf(e,["negativePrompt"]);void 0!==t&&null!=a&&Yf(t,["parameters","negativePrompt"],a);const s=Kf(e,["enhancePrompt"]);if(void 0!==t&&null!=s&&Yf(t,["parameters","enhancePrompt"],s),void 0!==Kf(e,["generateAudio"]))throw new Error("generateAudio parameter is not supported in Gemini API.");const u=Kf(e,["lastFrame"]);void 0!==t&&null!=u&&Yf(t,["instances[0]","lastFrame"],Av(u));const c=Kf(e,["referenceImages"]);if(void 0!==t&&null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["image"]);null!=n&&Yf(t,["image"],Av(n));const r=Kf(e,["referenceType"]);null!=r&&Yf(t,["referenceType"],r);return t}(e))),Yf(t,["instances[0]","referenceImages"],e)}if(void 0!==Kf(e,["mask"]))throw new Error("mask parameter is not supported in Gemini API.");if(void 0!==Kf(e,["compressionQuality"]))throw new Error("compressionQuality parameter is not supported in Gemini API.");return{}}function Ev(e,t){const n=Kf(e,["numberOfVideos"]);void 0!==t&&null!=n&&Yf(t,["parameters","sampleCount"],n);const r=Kf(e,["outputGcsUri"]);void 0!==t&&null!=r&&Yf(t,["parameters","storageUri"],r);const o=Kf(e,["fps"]);void 0!==t&&null!=o&&Yf(t,["parameters","fps"],o);const i=Kf(e,["durationSeconds"]);void 0!==t&&null!=i&&Yf(t,["parameters","durationSeconds"],i);const l=Kf(e,["seed"]);void 0!==t&&null!=l&&Yf(t,["parameters","seed"],l);const a=Kf(e,["aspectRatio"]);void 0!==t&&null!=a&&Yf(t,["parameters","aspectRatio"],a);const s=Kf(e,["resolution"]);void 0!==t&&null!=s&&Yf(t,["parameters","resolution"],s);const u=Kf(e,["personGeneration"]);void 0!==t&&null!=u&&Yf(t,["parameters","personGeneration"],u);const c=Kf(e,["pubsubTopic"]);void 0!==t&&null!=c&&Yf(t,["parameters","pubsubTopic"],c);const d=Kf(e,["negativePrompt"]);void 0!==t&&null!=d&&Yf(t,["parameters","negativePrompt"],d);const p=Kf(e,["enhancePrompt"]);void 0!==t&&null!=p&&Yf(t,["parameters","enhancePrompt"],p);const f=Kf(e,["generateAudio"]);void 0!==t&&null!=f&&Yf(t,["parameters","generateAudio"],f);const h=Kf(e,["lastFrame"]);void 0!==t&&null!=h&&Yf(t,["instances[0]","lastFrame"],Ov(h));const m=Kf(e,["referenceImages"]);if(void 0!==t&&null!=m){let e=m;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["image"]);null!=n&&Yf(t,["image"],Ov(n));const r=Kf(e,["referenceType"]);null!=r&&Yf(t,["referenceType"],r);return t}(e))),Yf(t,["instances[0]","referenceImages"],e)}const g=Kf(e,["mask"]);void 0!==t&&null!=g&&Yf(t,["instances[0]","mask"],function(e){const t={},n=Kf(e,["image"]);null!=n&&Yf(t,["_self"],Ov(n));const r=Kf(e,["maskMode"]);null!=r&&Yf(t,["maskMode"],r);return t}(g));const y=Kf(e,["compressionQuality"]);return void 0!==t&&null!=y&&Yf(t,["parameters","compressionQuality"],y),{}}function Sv(e){const t={},n=Kf(e,["name"]);null!=n&&Yf(t,["name"],n);const r=Kf(e,["metadata"]);null!=r&&Yf(t,["metadata"],r);const o=Kf(e,["done"]);null!=o&&Yf(t,["done"],o);const i=Kf(e,["error"]);null!=i&&Yf(t,["error"],i);const l=Kf(e,["response","generateVideoResponse"]);return null!=l&&Yf(t,["response"],function(e){const t={},n=Kf(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["video"]);null!=n&&Yf(t,["video"],function(e){const t={},n=Kf(e,["uri"]);null!=n&&Yf(t,["uri"],n);const r=Kf(e,["encodedVideo"]);null!=r&&Yf(t,["videoBytes"],iy(r));const o=Kf(e,["encoding"]);null!=o&&Yf(t,["mimeType"],o);return t}(n));return t}(e))),Yf(t,["generatedVideos"],e)}const r=Kf(e,["raiMediaFilteredCount"]);null!=r&&Yf(t,["raiMediaFilteredCount"],r);const o=Kf(e,["raiMediaFilteredReasons"]);null!=o&&Yf(t,["raiMediaFilteredReasons"],o);return t}(l)),t}function wv(e){const t={},n=Kf(e,["name"]);null!=n&&Yf(t,["name"],n);const r=Kf(e,["metadata"]);null!=r&&Yf(t,["metadata"],r);const o=Kf(e,["done"]);null!=o&&Yf(t,["done"],o);const i=Kf(e,["error"]);null!=i&&Yf(t,["error"],i);const l=Kf(e,["response"]);return null!=l&&Yf(t,["response"],function(e){const t={},n=Kf(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["_self"]);null!=n&&Yf(t,["video"],function(e){const t={},n=Kf(e,["gcsUri"]);null!=n&&Yf(t,["uri"],n);const r=Kf(e,["bytesBase64Encoded"]);null!=r&&Yf(t,["videoBytes"],iy(r));const o=Kf(e,["mimeType"]);null!=o&&Yf(t,["mimeType"],o);return t}(n));return t}(e))),Yf(t,["generatedVideos"],e)}const r=Kf(e,["raiMediaFilteredCount"]);null!=r&&Yf(t,["raiMediaFilteredCount"],r);const o=Kf(e,["raiMediaFilteredReasons"]);null!=o&&Yf(t,["raiMediaFilteredReasons"],o);return t}(l)),t}function _v(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["_url","model"],Ug(e,r));const o=Kf(t,["prompt"]);null!=o&&Yf(n,["instances[0]","prompt"],o);const i=Kf(t,["image"]);null!=i&&Yf(n,["instances[0]","image"],Av(i));const l=Kf(t,["video"]);null!=l&&Yf(n,["instances[0]","video"],Hv(l));const a=Kf(t,["source"]);null!=a&&function(e,t){const n={},r=Kf(e,["prompt"]);void 0!==t&&null!=r&&Yf(t,["instances[0]","prompt"],r);const o=Kf(e,["image"]);void 0!==t&&null!=o&&Yf(t,["instances[0]","image"],Av(o));const i=Kf(e,["video"]);void 0!==t&&null!=i&&Yf(t,["instances[0]","video"],Hv(i))}(a,n);const s=Kf(t,["config"]);return null!=s&&bv(s,n),n}function Cv(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["_url","model"],Ug(e,r));const o=Kf(t,["prompt"]);null!=o&&Yf(n,["instances[0]","prompt"],o);const i=Kf(t,["image"]);null!=i&&Yf(n,["instances[0]","image"],Ov(i));const l=Kf(t,["video"]);null!=l&&Yf(n,["instances[0]","video"],zv(l));const a=Kf(t,["source"]);null!=a&&function(e,t){const n={},r=Kf(e,["prompt"]);void 0!==t&&null!=r&&Yf(t,["instances[0]","prompt"],r);const o=Kf(e,["image"]);void 0!==t&&null!=o&&Yf(t,["instances[0]","image"],Ov(o));const i=Kf(e,["video"]);void 0!==t&&null!=i&&Yf(t,["instances[0]","video"],zv(i))}(a,n);const s=Kf(t,["config"]);return null!=s&&Ev(s,n),n}function Tv(e){const t={},n=Kf(e,["_self"]);null!=n&&Yf(t,["image"],Iv(n));const r=Kf(e,["raiFilteredReason"]);null!=r&&Yf(t,["raiFilteredReason"],r);const o=Kf(e,["_self"]);null!=o&&Yf(t,["safetyAttributes"],Mv(o));const i=Kf(e,["prompt"]);return null!=i&&Yf(t,["enhancedPrompt"],i),t}function Iv(e){const t={},n=Kf(e,["gcsUri"]);null!=n&&Yf(t,["gcsUri"],n);const r=Kf(e,["bytesBase64Encoded"]);null!=r&&Yf(t,["imageBytes"],iy(r));const o=Kf(e,["mimeType"]);return null!=o&&Yf(t,["mimeType"],o),t}function Av(e){const t={};if(void 0!==Kf(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const n=Kf(e,["imageBytes"]);null!=n&&Yf(t,["bytesBase64Encoded"],iy(n));const r=Kf(e,["mimeType"]);return null!=r&&Yf(t,["mimeType"],r),t}function Ov(e){const t={},n=Kf(e,["gcsUri"]);null!=n&&Yf(t,["gcsUri"],n);const r=Kf(e,["imageBytes"]);null!=r&&Yf(t,["bytesBase64Encoded"],iy(r));const o=Kf(e,["mimeType"]);return null!=o&&Yf(t,["mimeType"],o),t}function kv(e,t){const n={},r=Kf(t,["config"]);return null!=r&&function(e,t,n){const r=Kf(t,["pageSize"]);void 0!==n&&null!=r&&Yf(n,["_query","pageSize"],r);const o=Kf(t,["pageToken"]);void 0!==n&&null!=o&&Yf(n,["_query","pageToken"],o);const i=Kf(t,["filter"]);void 0!==n&&null!=i&&Yf(n,["_query","filter"],i);const l=Kf(t,["queryBase"]);void 0!==n&&null!=l&&Yf(n,["_url","models_url"],ay(e,l))}(e,r,n),n}function xv(e,t){const n={},r=Kf(t,["config"]);return null!=r&&function(e,t,n){const r=Kf(t,["pageSize"]);void 0!==n&&null!=r&&Yf(n,["_query","pageSize"],r);const o=Kf(t,["pageToken"]);void 0!==n&&null!=o&&Yf(n,["_query","pageToken"],o);const i=Kf(t,["filter"]);void 0!==n&&null!=i&&Yf(n,["_query","filter"],i);const l=Kf(t,["queryBase"]);void 0!==n&&null!=l&&Yf(n,["_url","models_url"],ay(e,l))}(e,r,n),n}function Nv(e){const t={},n=Kf(e,["name"]);null!=n&&Yf(t,["name"],n);const r=Kf(e,["displayName"]);null!=r&&Yf(t,["displayName"],r);const o=Kf(e,["description"]);null!=o&&Yf(t,["description"],o);const i=Kf(e,["version"]);null!=i&&Yf(t,["version"],i);const l=Kf(e,["_self"]);null!=l&&Yf(t,["tunedModelInfo"],function(e){const t={},n=Kf(e,["baseModel"]);null!=n&&Yf(t,["baseModel"],n);const r=Kf(e,["createTime"]);null!=r&&Yf(t,["createTime"],r);const o=Kf(e,["updateTime"]);null!=o&&Yf(t,["updateTime"],o);return t}(l));const a=Kf(e,["inputTokenLimit"]);null!=a&&Yf(t,["inputTokenLimit"],a);const s=Kf(e,["outputTokenLimit"]);null!=s&&Yf(t,["outputTokenLimit"],s);const u=Kf(e,["supportedGenerationMethods"]);null!=u&&Yf(t,["supportedActions"],u);const c=Kf(e,["temperature"]);null!=c&&Yf(t,["temperature"],c);const d=Kf(e,["maxTemperature"]);null!=d&&Yf(t,["maxTemperature"],d);const p=Kf(e,["topP"]);null!=p&&Yf(t,["topP"],p);const f=Kf(e,["topK"]);null!=f&&Yf(t,["topK"],f);const h=Kf(e,["thinking"]);return null!=h&&Yf(t,["thinking"],h),t}function Pv(e){const t={},n=Kf(e,["name"]);null!=n&&Yf(t,["name"],n);const r=Kf(e,["displayName"]);null!=r&&Yf(t,["displayName"],r);const o=Kf(e,["description"]);null!=o&&Yf(t,["description"],o);const i=Kf(e,["versionId"]);null!=i&&Yf(t,["version"],i);const l=Kf(e,["deployedModels"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["endpoint"]);null!=n&&Yf(t,["name"],n);const r=Kf(e,["deployedModelId"]);return null!=r&&Yf(t,["deployedModelId"],r),t}(e))),Yf(t,["endpoints"],e)}const a=Kf(e,["labels"]);null!=a&&Yf(t,["labels"],a);const s=Kf(e,["_self"]);null!=s&&Yf(t,["tunedModelInfo"],function(e){const t={},n=Kf(e,["labels","google-vertex-llm-tuning-base-model-id"]);null!=n&&Yf(t,["baseModel"],n);const r=Kf(e,["createTime"]);null!=r&&Yf(t,["createTime"],r);const o=Kf(e,["updateTime"]);null!=o&&Yf(t,["updateTime"],o);return t}(s));const u=Kf(e,["defaultCheckpointId"]);null!=u&&Yf(t,["defaultCheckpointId"],u);const c=Kf(e,["checkpoints"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["checkpoints"],e)}return t}function Rv(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["_url","model"],Ug(e,r));const o=Kf(t,["source"]);null!=o&&function(e,t){const n={},r=Kf(e,["prompt"]);void 0!==t&&null!=r&&Yf(t,["instances[0]","prompt"],r);const o=Kf(e,["personImage"]);void 0!==t&&null!=o&&Yf(t,["instances[0]","personImage","image"],Ov(o));const i=Kf(e,["productImages"]);if(void 0!==t&&null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["productImage"]);return null!=n&&Yf(t,["image"],Ov(n)),t}(e))),Yf(t,["instances[0]","productImages"],e)}}(o,n);const i=Kf(t,["config"]);return null!=i&&function(e,t){const n=Kf(e,["numberOfImages"]);void 0!==t&&null!=n&&Yf(t,["parameters","sampleCount"],n);const r=Kf(e,["baseSteps"]);void 0!==t&&null!=r&&Yf(t,["parameters","baseSteps"],r);const o=Kf(e,["outputGcsUri"]);void 0!==t&&null!=o&&Yf(t,["parameters","storageUri"],o);const i=Kf(e,["seed"]);void 0!==t&&null!=i&&Yf(t,["parameters","seed"],i);const l=Kf(e,["safetyFilterLevel"]);void 0!==t&&null!=l&&Yf(t,["parameters","safetySetting"],l);const a=Kf(e,["personGeneration"]);void 0!==t&&null!=a&&Yf(t,["parameters","personGeneration"],a);const s=Kf(e,["addWatermark"]);void 0!==t&&null!=s&&Yf(t,["parameters","addWatermark"],s);const u=Kf(e,["outputMimeType"]);void 0!==t&&null!=u&&Yf(t,["parameters","outputOptions","mimeType"],u);const c=Kf(e,["outputCompressionQuality"]);void 0!==t&&null!=c&&Yf(t,["parameters","outputOptions","compressionQuality"],c);const d=Kf(e,["enhancePrompt"]);void 0!==t&&null!=d&&Yf(t,["parameters","enhancePrompt"],d);const p=Kf(e,["labels"]);void 0!==t&&null!=p&&Yf(t,["labels"],p)}(i,n),n}function Dv(e){const t={},n=Kf(e,["safetyAttributes","categories"]);null!=n&&Yf(t,["categories"],n);const r=Kf(e,["safetyAttributes","scores"]);null!=r&&Yf(t,["scores"],r);const o=Kf(e,["contentType"]);return null!=o&&Yf(t,["contentType"],o),t}function Mv(e){const t={},n=Kf(e,["safetyAttributes","categories"]);null!=n&&Yf(t,["categories"],n);const r=Kf(e,["safetyAttributes","scores"]);null!=r&&Yf(t,["scores"],r);const o=Kf(e,["contentType"]);return null!=o&&Yf(t,["contentType"],o),t}function Lv(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["_url","model"],Ug(e,r));const o=Kf(t,["source"]);null!=o&&function(e,t){const n={},r=Kf(e,["prompt"]);void 0!==t&&null!=r&&Yf(t,["instances[0]","prompt"],r);const o=Kf(e,["image"]);void 0!==t&&null!=o&&Yf(t,["instances[0]","image"],Ov(o));const i=Kf(e,["scribbleImage"]);void 0!==t&&null!=i&&Yf(t,["instances[0]","scribble"],function(e){const t={},n=Kf(e,["image"]);return null!=n&&Yf(t,["image"],Ov(n)),t}(i))}(o,n);const i=Kf(t,["config"]);return null!=i&&function(e,t){const n=Kf(e,["mode"]);void 0!==t&&null!=n&&Yf(t,["parameters","mode"],n);const r=Kf(e,["maxPredictions"]);void 0!==t&&null!=r&&Yf(t,["parameters","maxPredictions"],r);const o=Kf(e,["confidenceThreshold"]);void 0!==t&&null!=o&&Yf(t,["parameters","confidenceThreshold"],o);const i=Kf(e,["maskDilation"]);void 0!==t&&null!=i&&Yf(t,["parameters","maskDilation"],i);const l=Kf(e,["binaryColorThreshold"]);void 0!==t&&null!=l&&Yf(t,["parameters","binaryColorThreshold"],l);const a=Kf(e,["labels"]);void 0!==t&&null!=a&&Yf(t,["labels"],a)}(i,n),n}function Uv(e){const t={},n=Kf(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["_self"]);null!=n&&Yf(t,["mask"],Iv(n));const r=Kf(e,["labels"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["labels"],e)}return t}(e))),Yf(t,["generatedMasks"],e)}return t}function jv(e){const t={},n=Kf(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==Kf(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=Kf(e,["description"]);null!=n&&Yf(t,["description"],n);const r=Kf(e,["name"]);null!=r&&Yf(t,["name"],r);const o=Kf(e,["parameters"]);null!=o&&Yf(t,["parameters"],o);const i=Kf(e,["parametersJsonSchema"]);null!=i&&Yf(t,["parametersJsonSchema"],i);const l=Kf(e,["response"]);null!=l&&Yf(t,["response"],l);const a=Kf(e,["responseJsonSchema"]);return null!=a&&Yf(t,["responseJsonSchema"],a),t}(e))),Yf(t,["functionDeclarations"],e)}const r=Kf(e,["retrieval"]);null!=r&&Yf(t,["retrieval"],r);const o=Kf(e,["googleSearchRetrieval"]);null!=o&&Yf(t,["googleSearchRetrieval"],o);const i=Kf(e,["computerUse"]);if(null!=i&&Yf(t,["computerUse"],i),void 0!==Kf(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=Kf(e,["codeExecution"]);null!=l&&Yf(t,["codeExecution"],l);const a=Kf(e,["enterpriseWebSearch"]);null!=a&&Yf(t,["enterpriseWebSearch"],a);const s=Kf(e,["googleMaps"]);null!=s&&Yf(t,["googleMaps"],s);const u=Kf(e,["googleSearch"]);null!=u&&Yf(t,["googleSearch"],u);const c=Kf(e,["urlContext"]);return null!=c&&Yf(t,["urlContext"],c),t}function Fv(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["_url","name"],Ug(e,r));const o=Kf(t,["config"]);return null!=o&&function(e,t){const n=Kf(e,["displayName"]);void 0!==t&&null!=n&&Yf(t,["displayName"],n);const r=Kf(e,["description"]);void 0!==t&&null!=r&&Yf(t,["description"],r);const o=Kf(e,["defaultCheckpointId"]);void 0!==t&&null!=o&&Yf(t,["defaultCheckpointId"],o)}(o,n),n}function qv(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["_url","model"],Ug(e,r));const o=Kf(t,["config"]);return null!=o&&function(e,t){const n=Kf(e,["displayName"]);void 0!==t&&null!=n&&Yf(t,["displayName"],n);const r=Kf(e,["description"]);void 0!==t&&null!=r&&Yf(t,["description"],r);const o=Kf(e,["defaultCheckpointId"]);void 0!==t&&null!=o&&Yf(t,["defaultCheckpointId"],o)}(o,n),n}function Gv(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["_url","model"],Ug(e,r));const o=Kf(t,["image"]);null!=o&&Yf(n,["instances[0]","image"],Ov(o));const i=Kf(t,["upscaleFactor"]);null!=i&&Yf(n,["parameters","upscaleConfig","upscaleFactor"],i);const l=Kf(t,["config"]);return null!=l&&function(e,t){const n=Kf(e,["outputGcsUri"]);void 0!==t&&null!=n&&Yf(t,["parameters","storageUri"],n);const r=Kf(e,["safetyFilterLevel"]);void 0!==t&&null!=r&&Yf(t,["parameters","safetySetting"],r);const o=Kf(e,["personGeneration"]);void 0!==t&&null!=o&&Yf(t,["parameters","personGeneration"],o);const i=Kf(e,["includeRaiReason"]);void 0!==t&&null!=i&&Yf(t,["parameters","includeRaiReason"],i);const l=Kf(e,["outputMimeType"]);void 0!==t&&null!=l&&Yf(t,["parameters","outputOptions","mimeType"],l);const a=Kf(e,["outputCompressionQuality"]);void 0!==t&&null!=a&&Yf(t,["parameters","outputOptions","compressionQuality"],a);const s=Kf(e,["enhanceInputImage"]);void 0!==t&&null!=s&&Yf(t,["parameters","upscaleConfig","enhanceInputImage"],s);const u=Kf(e,["imagePreservationFactor"]);void 0!==t&&null!=u&&Yf(t,["parameters","upscaleConfig","imagePreservationFactor"],u);const c=Kf(e,["labels"]);void 0!==t&&null!=c&&Yf(t,["labels"],c);const d=Kf(e,["numberOfImages"]);void 0!==t&&null!=d&&Yf(t,["parameters","sampleCount"],d);const p=Kf(e,["mode"]);void 0!==t&&null!=p&&Yf(t,["parameters","mode"],p)}(l,n),n}function Hv(e){const t={},n=Kf(e,["uri"]);null!=n&&Yf(t,["uri"],n);const r=Kf(e,["videoBytes"]);null!=r&&Yf(t,["encodedVideo"],iy(r));const o=Kf(e,["mimeType"]);return null!=o&&Yf(t,["encoding"],o),t}function zv(e){const t={},n=Kf(e,["uri"]);null!=n&&Yf(t,["gcsUri"],n);const r=Kf(e,["videoBytes"]);null!=r&&Yf(t,["bytesBase64Encoded"],iy(r));const o=Kf(e,["mimeType"]);return null!=o&&Yf(t,["mimeType"],o),t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vv(e){const t={},n=Kf(e,["config"]);return null!=n&&function(e,t){const n=Kf(e,["displayName"]);void 0!==t&&null!=n&&Yf(t,["displayName"],n)}(n,t),t}function Bv(e){const t={},n=Kf(e,["name"]);null!=n&&Yf(t,["_url","name"],n);const r=Kf(e,["config"]);return null!=r&&function(e,t){const n=Kf(e,["force"]);void 0!==t&&null!=n&&Yf(t,["_query","force"],n)}(r,t),t}function $v(e){const t={},n=Kf(e,["name"]);null!=n&&Yf(t,["name"],n);const r=Kf(e,["metadata"]);null!=r&&Yf(t,["metadata"],r);const o=Kf(e,["done"]);null!=o&&Yf(t,["done"],o);const i=Kf(e,["error"]);null!=i&&Yf(t,["error"],i);const l=Kf(e,["response"]);return null!=l&&Yf(t,["response"],function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["parent"]);null!=r&&Yf(t,["parent"],r);const o=Kf(e,["documentName"]);null!=o&&Yf(t,["documentName"],o);return t}(l)),t}function Jv(e){const t={},n=Kf(e,["fileSearchStoreName"]);null!=n&&Yf(t,["_url","file_search_store_name"],n);const r=Kf(e,["fileName"]);null!=r&&Yf(t,["fileName"],r);const o=Kf(e,["config"]);return null!=o&&function(e,t){const n=Kf(e,["customMetadata"]);if(void 0!==t&&null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["customMetadata"],e)}const r=Kf(e,["chunkingConfig"]);void 0!==t&&null!=r&&Yf(t,["chunkingConfig"],r)}(o,t),t}function Wv(e){const t={},n=Kf(e,["config"]);return null!=n&&function(e,t){const n=Kf(e,["pageSize"]);void 0!==t&&null!=n&&Yf(t,["_query","pageSize"],n);const r=Kf(e,["pageToken"]);void 0!==t&&null!=r&&Yf(t,["_query","pageToken"],r)}(n,t),t}function Yv(e,t){const n=Kf(e,["mimeType"]);void 0!==t&&null!=n&&Yf(t,["mimeType"],n);const r=Kf(e,["displayName"]);void 0!==t&&null!=r&&Yf(t,["displayName"],r);const o=Kf(e,["customMetadata"]);if(void 0!==t&&null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["customMetadata"],e)}const i=Kf(e,["chunkingConfig"]);return void 0!==t&&null!=i&&Yf(t,["chunkingConfig"],i),{}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const Kv="x-goog-api-client";class Qv{constructor(e){var t,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=null!==(t=this.clientOptions.apiVersion)&&void 0!==t?t:"v1beta1",r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=null!==(n=this.clientOptions.apiVersion)&&void 0!==n?n:"v1beta",r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&"global"!==this.clientOptions.location?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:(this.clientOptions.project=void 0,this.clientOptions.location=void 0)}isVertexAI(){var e;return null!==(e=this.clientOptions.vertexai)&&void 0!==e&&e}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||void 0===e.baseUrl||void 0===e.apiVersion)throw new Error("HTTP options are not correctly set.");const t=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&""!==e.apiVersion&&t.push(e.apiVersion),t.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol="http:"==t.protocol?"ws":"wss",t.toString()}setBaseUrl(e){if(!this.clientOptions.httpOptions)throw new Error("HTTP options are not correctly set.");this.clientOptions.httpOptions.baseUrl=e}constructUrl(e,t,n){const r=[this.getRequestUrlInternal(t)];n&&r.push(this.getBaseResourcePath()),""!==e&&r.push(e);return new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!this.clientOptions.apiKey&&(!!this.clientOptions.vertexai&&(!e.path.startsWith("projects/")&&("GET"!==e.httpMethod||!e.path.startsWith("publishers/google/models"))))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[i,l]of Object.entries(e.queryParams))r.searchParams.append(i,String(l));let o={};if("GET"===e.httpMethod){if(e.body&&"{}"!==e.body)throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,r.toString(),e.abortSignal),this.unaryApiCall(r,o,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[r,o]of Object.entries(t))"object"==typeof o?n[r]=Object.assign(Object.assign({},n[r]),o):void 0!==o&&(n[r]=o);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);r.searchParams.has("alt")&&"sse"===r.searchParams.get("alt")||r.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,r.toString(),e.abortSignal),this.streamApiCall(r,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n,r){if(t&&t.timeout||r){const n=new AbortController,o=n.signal;if(t.timeout&&(null==t?void 0:t.timeout)>0){const e=setTimeout(()=>n.abort(),t.timeout);e&&"function"==typeof e.unref&&e.unref()}r&&r.addEventListener("abort",()=>{n.abort()}),e.signal=o}return t&&null!==t.extraBody&&function(e,t){if(!t||0===Object.keys(t).length)return;if(e.body instanceof Blob)return void console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");let n={};if("string"==typeof e.body&&e.body.length>0)try{const t=JSON.parse(e.body);if("object"!=typeof t||null===t||Array.isArray(t))return void console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");n=t}catch(nS){return void console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.")}function r(e,t){const n=Object.assign({},e);for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)){const e=t[o],i=n[o];e&&"object"==typeof e&&!Array.isArray(e)&&i&&"object"==typeof i&&!Array.isArray(i)?n[o]=r(i,e):(i&&e&&typeof i!=typeof e&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${o}". Original type: ${typeof i}, New type: ${typeof e}. Overwriting.`),n[o]=e)}return n}const o=r(n,t);e.body=JSON.stringify(o)}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(e,t.extraBody),e.headers=await this.getHeadersInternal(t,n),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await Xv(e),new ug(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await Xv(e),this.processStreamResponse(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}processStreamResponse(e){return Fy(this,arguments,function*(){var t;const n=null===(t=null==e?void 0:e.body)||void 0===t?void 0:t.getReader(),r=new TextDecoder("utf-8");if(!n)throw new Error("Response body is empty");try{let t="";const o="data:",i=["\n\n","\r\r","\r\n\r\n"];for(;;){const{done:l,value:a}=yield jy(n.read());if(l){if(t.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const s=r.decode(a,{stream:!0});try{const e=JSON.parse(s);if("error"in e){const t=JSON.parse(JSON.stringify(e.error)),n=t.status,r=t.code,o=`got status: ${n}. ${JSON.stringify(e)}`;if(r>=400&&r<600){throw new $y({message:o,status:r})}}}catch(nS){if("ApiError"===nS.name)throw nS}t+=s;let u=-1,c=0;for(;;){u=-1,c=0;for(const e of i){const n=t.indexOf(e);-1!==n&&(-1===u||n<u)&&(u=n,c=e.length)}if(-1===u)break;const n=t.substring(0,u);t=t.substring(u+c);const r=n.trim();if(r.startsWith(o)){const t=r.substring(o.length).trim();try{const n=new Response(t,{headers:null==e?void 0:e.headers,status:null==e?void 0:e.status,statusText:null==e?void 0:e.statusText});yield yield jy(new ug(n))}catch(nS){throw new Error(`exception parsing stream chunk ${t}. ${nS}`)}}}}}finally{n.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(e=>{throw new Error(`exception ${e} sending request`)})}getDefaultHeaders(){const e={},t="google-genai-sdk/1.34.0 "+this.clientOptions.userAgentExtra;return e["User-Agent"]=t,e[Kv]=t,e["Content-Type"]="application/json",e}async getHeadersInternal(e,t){const n=new Headers;if(e&&e.headers){for(const[t,r]of Object.entries(e.headers))n.append(t,r);e.timeout&&e.timeout>0&&n.append("X-Server-Timeout",String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,t),n}getFileName(e){var t;let n="";return"string"==typeof e&&(n=e.replace(/[/\\]+$/,""),n=null!==(t=n.split(/[/\\]/).pop())&&void 0!==t?t:""),n}async uploadFile(e,t){var n;const r={};null!=t&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const o=this.clientOptions.uploader,i=await o.stat(e);r.sizeBytes=String(i.size);const l=null!==(n=null==t?void 0:t.mimeType)&&void 0!==n?n:i.type;if(void 0===l||""===l)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=l;const a={file:r},s=this.getFileName(e),u=Wf("upload/v1beta/files",a._url),c=await this.fetchUploadUrl(u,r.sizeBytes,r.mimeType,s,a,null==t?void 0:t.httpOptions);return o.upload(e,c,this)}async uploadFileToFileSearchStore(e,t,n){var r;const o=this.clientOptions.uploader,i=await o.stat(t),l=String(i.size),a=null!==(r=null==n?void 0:n.mimeType)&&void 0!==r?r:i.type;if(void 0===a||""===a)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const s=`upload/v1beta/${e}:uploadToFileSearchStore`,u=this.getFileName(t),c={};null!=n&&Yv(n,c);const d=await this.fetchUploadUrl(s,l,a,u,c,null==n?void 0:n.httpOptions);return o.uploadToFileSearchStore(t,d,this)}async downloadFile(e){const t=this.clientOptions.downloader;await t.download(e,this)}async fetchUploadUrl(e,t,n,r,o,i){var l;let a={};a=i||{apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${n}`},r?{"X-Goog-Upload-File-Name":r}:{})};const s=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:a});if(!s||!(null==s?void 0:s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=null===(l=null==s?void 0:s.headers)||void 0===l?void 0:l["x-goog-upload-url"];if(void 0===u)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function Xv(e){var t;if(void 0===e)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;r=(null===(t=e.headers.get("content-type"))||void 0===t?void 0:t.includes("application/json"))?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}};const o=JSON.stringify(r);if(n>=400&&n<600){throw new $y({message:o,status:n})}throw new Error(o)}}function Zv(e){for(const t of e){if(tb(t))return!0;if("object"==typeof t&&"inputSchema"in t)return!0}return false}function eb(e){var t;const n=null!==(t=e[Kv])&&void 0!==t?t:"";e[Kv]=(n+" mcp_used/unknown").trimStart()}function tb(e){return null!==e&&"object"==typeof e&&e instanceof rb}function nb(e){return Fy(this,arguments,function*(e,t=100){let n,r=0;for(;r<t;){const t=yield jy(e.listTools({cursor:n}));for(const e of t.tools)yield yield jy(e),r++;if(!t.nextCursor)break;n=t.nextCursor}})}class rb{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new rb(e,t)}async initialize(){var e,t,n,r;if(this.mcpTools.length>0)return;const o={},i=[];for(const c of this.mcpClients)try{for(var l,a=!0,s=(t=void 0,qy(nb(c)));!(e=(l=await s.next()).done);a=!0){r=l.value,a=!1;const e=r;i.push(e);const t=e.name;if(o[t])throw new Error(`Duplicate function name ${t} found in MCP tools. Please ensure function names are unique.`);o[t]=c}}catch(u){t={error:u}}finally{try{a||e||!(n=s.return)||await n.call(s)}finally{if(t)throw t.error}}this.mcpTools=i,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),function(e,t={}){const n=[],r=new Set;for(const o of e){const e=o.name;if(r.has(e))throw new Error(`Duplicate function name ${e} found in MCP tools. Please ensure function names are unique.`);r.add(e);const i=cy(o,t);i.functionDeclarations&&n.push(...i.functionDeclarations)}return{functionDeclarations:n}}(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const e=this.functionNameToMcpClient[n.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const o=await e.callTool({name:n.name,arguments:n.args},void 0,r);t.push({functionResponse:{name:n.name,response:o.isError?{error:o}:o}})}return t}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ob{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),i=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(this.apiClient.getDefaultHeaders()),l=`${r}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${this.apiClient.getApiKey()}`;let a=()=>{};const s=new Promise(e=>{a=e}),u=e.callbacks,c=(this.apiClient,{onopen:function(){a({})},onmessage:e=>{!async function(e,t,n){const r=new Mg;let o;o=n.data instanceof Blob?JSON.parse(await n.data.text()):JSON.parse(n.data),Object.assign(r,o),t(r)}(0,u.onmessage,e)},onerror:null!==(t=null==u?void 0:u.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null==u?void 0:u.onclose)&&void 0!==n?n:function(e){}}),d=this.webSocketFactory.create(l,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(i),c);d.connect(),await s;const p={setup:{model:Ug(this.apiClient,e.model)}};return d.send(JSON.stringify(p)),new ib(d,this.apiClient)}}class ib{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||0===Object.keys(e.weightedPrompts).length)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=function(e){const t={},n=Kf(e,["weightedPrompts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["weightedPrompts"],e)}return t}(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=function(e){const t={},n=Kf(e,["musicGenerationConfig"]);return null!=n&&Yf(t,["musicGenerationConfig"],n),t}(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(ig.PLAY)}pause(){this.sendPlaybackControl(ig.PAUSE)}stop(){this.sendPlaybackControl(ig.STOP)}resetContext(){this.sendPlaybackControl(ig.RESET_CONTEXT)}close(){this.conn.close()}}class lb{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new ob(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,r,o,i,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const a=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion();let u;const c=this.apiClient.getHeaders();e.config&&e.config.tools&&Zv(e.config.tools)&&eb(c);const d=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(c);if(this.apiClient.isVertexAI())u=`${a}/ws/google.cloud.aiplatform.${s}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d,u);else{const e=this.apiClient.getApiKey();let t="BidiGenerateContent",n="key";(null==e?void 0:e.startsWith("auth_tokens/"))&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),"v1alpha"!==s&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),t="BidiGenerateContentConstrained",n="access_token"),u=`${a}/ws/google.ai.generativelanguage.${s}.GenerativeService.${t}?${n}=${e}`}let p=()=>{};const f=new Promise(e=>{p=e}),h=e.callbacks,m=this.apiClient,g={onopen:function(){var e;null===(e=null==h?void 0:h.onopen)||void 0===e||e.call(h),p({})},onmessage:e=>{!async function(e,t,n){const r=new Dg;let o;o=n.data instanceof Blob?await n.data.text():n.data instanceof ArrayBuffer?(new TextDecoder).decode(n.data):n.data;const i=JSON.parse(o);if(e.isVertexAI()){const e=tv(i);Object.assign(r,e)}else{const e=i;Object.assign(r,e)}t(r)}(m,h.onmessage,e)},onerror:null!==(t=null==h?void 0:h.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null==h?void 0:h.onclose)&&void 0!==n?n:function(e){}},y=this.webSocketFactory.create(u,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(d),g);y.connect(),await f;let v=Ug(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&v.startsWith("publishers/")){v=`projects/${this.apiClient.getProject()}/locations/${this.apiClient.getLocation()}/`+v}let b={};this.apiClient.isVertexAI()&&void 0===(null===(r=e.config)||void 0===r?void 0:r.responseModalities)&&(void 0===e.config?e.config={responseModalities:[Gh.AUDIO]}:e.config.responseModalities=[Gh.AUDIO]),(null===(o=e.config)||void 0===o?void 0:o.generationConfig)&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=null!==(l=null===(i=e.config)||void 0===i?void 0:i.tools)&&void 0!==l?l:[],S=[];for(const _ of E)if(this.isCallableTool(_)){const e=_;S.push(await e.tool())}else S.push(_);S.length>0&&(e.config.tools=S);const w={model:v,config:e.config,callbacks:e.callbacks};return b=this.apiClient.isVertexAI()?function(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["setup","model"],Ug(e,r));const o=Kf(t,["config"]);return null!=o&&Yf(n,["config"],Xy(o,n)),n}(this.apiClient,w):function(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["setup","model"],Ug(e,r));const o=Kf(t,["config"]);return null!=o&&Yf(n,["config"],Qy(o,n)),n}(this.apiClient,w),delete b.config,y.send(JSON.stringify(b)),new sb(y,this.apiClient)}isCallableTool(e){return"callTool"in e&&"function"==typeof e.callTool}}const ab={turnComplete:!0};class sb{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(null!==t.turns&&void 0!==t.turns){let r=[];try{r=Kg(t.turns),e.isVertexAI()||(r=r.map(e=>ov(e)))}catch(n){throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(null==t.functionResponses)throw new Error("functionResponses is required.");if(n=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses],0===n.length)throw new Error("functionResponses is required.");for(const r of n){if("object"!=typeof r||null===r||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},ab),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:ev(e)}:{realtimeInput:Zy(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(null==e.functionResponses)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function ub(e){var t,n,r;if(null===(t=null==e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.disable)return!0;let o=!1;for(const l of null!==(n=null==e?void 0:e.tools)&&void 0!==n?n:[])if(cb(l)){o=!0;break}if(!o)return!0;const i=null===(r=null==e?void 0:e.automaticFunctionCalling)||void 0===r?void 0:r.maximumRemoteCalls;return!!(i&&(i<0||!Number.isInteger(i))||0==i)&&(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0)}function cb(e){return"callTool"in e&&"function"==typeof e.callTool}function db(e){var t;const n=[];return(null===(t=null==e?void 0:e.config)||void 0===t?void 0:t.tools)?(e.config.tools.forEach((e,t)=>{if(cb(e))return;const r=e;r.functionDeclarations&&r.functionDeclarations.length>0&&n.push(t)}),n):n}function pb(e){var t;return!(null===(t=null==e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.ignoreCallHistory)}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fb extends Jf{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{var t,n,r,o,i;const l=await this.processParamsMaybeAddMcpUsage(e);if(this.maybeMoveToResponseJsonSchem(e),!function(e){var t,n,r;return null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some(e=>cb(e)))&&void 0!==r&&r}(e)||ub(e.config))return await this.generateContentInternal(l);const a=db(e);if(a.length>0){const e=a.map(e=>`tools[${e}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${e}.`)}let s,u;const c=Kg(l.contents),d=null!==(r=null===(n=null===(t=l.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let p=0;for(;p<d&&(s=await this.generateContentInternal(l),s.functionCalls&&0!==s.functionCalls.length);){const t=s.candidates[0].content,n=[];for(const r of null!==(i=null===(o=e.config)||void 0===o?void 0:o.tools)&&void 0!==i?i:[])if(cb(r)){const e=r,t=await e.callTool(s.functionCalls);n.push(...t)}p++,u={role:"user",parts:n},l.contents=Kg(l.contents),l.contents.push(t),l.contents.push(u),pb(l.config)&&(c.push(t),c.push(u))}return pb(l.config)&&(s.automaticFunctionCallingHistory=c),s},this.generateContentStream=async e=>{var t,n,r,o,i;if(this.maybeMoveToResponseJsonSchem(e),ub(e.config)){const t=await this.processParamsMaybeAddMcpUsage(e);return await this.generateContentStreamInternal(t)}const l=db(e);if(l.length>0){const e=l.map(e=>`tools[${e}]`).join(", ");throw new Error(`Incompatible tools found at ${e}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const a=null===(r=null===(n=null===(t=null==e?void 0:e.config)||void 0===t?void 0:t.toolConfig)||void 0===n?void 0:n.functionCallingConfig)||void 0===r?void 0:r.streamFunctionCallArguments,s=null===(i=null===(o=null==e?void 0:e.config)||void 0===o?void 0:o.automaticFunctionCalling)||void 0===i?void 0:i.disable;if(a&&!s)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then(e=>{var t;let n;const r=[];if(null==e?void 0:e.generatedImages)for(const i of e.generatedImages)i&&(null==i?void 0:i.safetyAttributes)&&"Positive Prompt"===(null===(t=null==i?void 0:i.safetyAttributes)||void 0===t?void 0:t.contentType)?n=null==i?void 0:i.safetyAttributes:r.push(i);let o;return o=n?{generatedImages:r,positivePromptSafetyAttributes:n,sdkHttpResponse:e.sdkHttpResponse}:{generatedImages:r,sdkHttpResponse:e.sdkHttpResponse},o}),this.list=async e=>{var t;const n={config:Object.assign(Object.assign({},{queryBase:!0}),null==e?void 0:e.config)};if(this.apiClient.isVertexAI()&&!n.config.queryBase){if(null===(t=n.config)||void 0===t?void 0:t.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");n.config.filter="labels.tune-type:*"}return new Iy(ag.PAGED_ITEM_MODELS,e=>this.listInternal(e),await this.listInternal(n),n)},this.editImage=async e=>{const t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map(e=>e.toReferenceImageAPI())),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:"upscale"};e.config&&(t=Object.assign(Object.assign({},t),e.config));const n={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(n)},this.generateVideos=async e=>{var t,n,r,o,i,l;if((e.prompt||e.image||e.video)&&e.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||((null===(t=e.video)||void 0===t?void 0:t.uri)&&(null===(n=e.video)||void 0===n?void 0:n.videoBytes)?e.video={uri:e.video.uri,mimeType:e.video.mimeType}:(null===(o=null===(r=e.source)||void 0===r?void 0:r.video)||void 0===o?void 0:o.uri)&&(null===(l=null===(i=e.source)||void 0===i?void 0:i.video)||void 0===l?void 0:l.videoBytes)&&(e.source.video={uri:e.source.video.uri,mimeType:e.source.video.mimeType})),await this.generateVideosInternal(e)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,n,r;const o=null===(t=e.config)||void 0===t?void 0:t.tools;if(!o)return e;const i=await Promise.all(o.map(async e=>{if(cb(e)){const t=e;return await t.tool()}return e})),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:i})};if(l.config.tools=i,e.config&&e.config.tools&&Zv(e.config.tools)){const t=null!==(r=null===(n=e.config.httpOptions)||void 0===n?void 0:n.headers)&&void 0!==r?r:{};let o=Object.assign({},t);0===Object.keys(o).length&&(o=this.apiClient.getDefaultHeaders()),eb(o),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:o})}return l}async initAfcToolsMap(e){var t,n,r;const o=new Map;for(const i of null!==(n=null===(t=e.config)||void 0===t?void 0:t.tools)&&void 0!==n?n:[])if(cb(i)){const e=i,t=await e.tool();for(const n of null!==(r=t.functionDeclarations)&&void 0!==r?r:[]){if(!n.name)throw new Error("Function declaration name is required.");if(o.has(n.name))throw new Error(`Duplicate tool declaration name: ${n.name}`);o.set(n.name,e)}}return o}async processAfcStream(e){var t,n,r;const o=null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let i=!1,l=0;return function(e,t,n){return Fy(this,arguments,function*(){for(var r,a,s,u,c,d;l<o;){i&&(l++,i=!1);const g=yield jy(e.processParamsMaybeAddMcpUsage(n)),y=yield jy(e.generateContentStreamInternal(g)),v=[],b=[];try{for(var p,f=!0,h=(a=void 0,qy(y));!(r=(p=yield jy(h.next())).done);f=!0){u=p.value,f=!1;const e=u;if(yield yield jy(e),e.candidates&&(null===(c=e.candidates[0])||void 0===c?void 0:c.content)){b.push(e.candidates[0].content);for(const n of null!==(d=e.candidates[0].content.parts)&&void 0!==d?d:[])if(l<o&&n.functionCall){if(!n.functionCall.name)throw new Error("Function call name was not returned by the model.");if(!t.has(n.functionCall.name))throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${t.keys()}, mising tool: ${n.functionCall.name}`);{const e=yield jy(t.get(n.functionCall.name).callTool([n.functionCall]));v.push(...e)}}}}}catch(m){a={error:m}}finally{try{f||r||!(s=h.return)||(yield jy(s.call(h)))}finally{if(a)throw a.error}}if(!(v.length>0))break;{i=!0;const e=new cg;e.candidates=[{content:{role:"user",parts:v}}],yield yield jy(e);const t=[];t.push(...b),t.push({role:"user",parts:v});const r=Kg(n.contents).concat(t);n.contents=r}}})}(this,await this.initAfcToolsMap(e),e)}async generateContentInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=fv(this.apiClient,e);return l=Wf("{model}:generateContent",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=mv(e),n=new cg;return Object.assign(n,t),n})}{const t=pv(this.apiClient,e);return l=Wf("{model}:generateContent",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=hv(e),n=new cg;return Object.assign(n,t),n})}}async generateContentStreamInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=fv(this.apiClient,e);l=Wf("{model}:streamGenerateContent?alt=sse",r._url),a=r._query,delete r._url,delete r._query;return i=this.apiClient.requestStream({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}),i.then(function(e){return Fy(this,arguments,function*(){var t,n,r,o;try{for(var i,l=!0,a=qy(e);!(t=(i=yield jy(a.next())).done);l=!0){o=i.value,l=!1;const e=o,t=mv(yield jy(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new cg;Object.assign(n,t),yield yield jy(n)}}catch(s){n={error:s}}finally{try{l||t||!(r=a.return)||(yield jy(r.call(a)))}finally{if(n)throw n.error}}})})}{const t=pv(this.apiClient,e);l=Wf("{model}:streamGenerateContent?alt=sse",t._url),a=t._query,delete t._url,delete t._query;return i=this.apiClient.requestStream({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}),i.then(function(e){return Fy(this,arguments,function*(){var t,n,r,o;try{for(var i,l=!0,a=qy(e);!(t=(i=yield jy(a.next())).done);l=!0){o=i.value,l=!1;const e=o,t=hv(yield jy(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new cg;Object.assign(n,t),yield yield jy(n)}}catch(s){n={error:s}}finally{try{l||t||!(r=a.return)||(yield jy(r.call(a)))}finally{if(n)throw n.error}}})})}}async embedContent(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=uv(this.apiClient,e);return l=Wf("{model}:predict",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["predictions[]","embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>rv(e))),Yf(t,["embeddings"],e)}const o=Kf(e,["metadata"]);return null!=o&&Yf(t,["metadata"],o),t}(e),n=new dg;return Object.assign(n,t),n})}{const t=sv(this.apiClient,e);return l=Wf("{model}:batchEmbedContents",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["embeddings"],e)}const o=Kf(e,["metadata"]);return null!=o&&Yf(t,["metadata"],o),t}(e),n=new dg;return Object.assign(n,t),n})}}async generateImagesInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=yv(this.apiClient,e);return l=Wf("{model}:predict",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Tv(e))),Yf(t,["generatedImages"],e)}const o=Kf(e,["positivePromptSafetyAttributes"]);return null!=o&&Yf(t,["positivePromptSafetyAttributes"],Mv(o)),t}(e),n=new pg;return Object.assign(n,t),n})}{const t=gv(this.apiClient,e);return l=Wf("{model}:predict",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=vv(e),n=new pg;return Object.assign(n,t),n})}}async editImageInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=av(this.apiClient,e);return o=Wf("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Tv(e))),Yf(t,["generatedImages"],e)}return t}(e),n=new fg;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=Gv(this.apiClient,e);return o=Wf("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Tv(e))),Yf(t,["generatedImages"],e)}return t}(e),n=new hg;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=Rv(this.apiClient,e);return o=Wf("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Kf(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Tv(e))),Yf(t,["generatedImages"],e)}return t}(e),n=new mg;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=Lv(this.apiClient,e);return o=Wf("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=Uv(e),n=new gg;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Kf(t,["model"]);return null!=r&&Yf(n,["_url","name"],Ug(e,r)),n}(this.apiClient,e);return l=Wf("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Pv(e))}{const t=function(e,t){const n={},r=Kf(t,["model"]);return null!=r&&Yf(n,["_url","name"],Ug(e,r)),n}(this.apiClient,e);return l=Wf("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>Nv(e))}}async listInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=xv(this.apiClient,e);return l=Wf("{models_url}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["nextPageToken"]);null!=r&&Yf(t,["nextPageToken"],r);const o=Kf(e,["_self"]);if(null!=o){let e=sy(o);Array.isArray(e)&&(e=e.map(e=>Pv(e))),Yf(t,["models"],e)}return t}(e),n=new yg;return Object.assign(n,t),n})}{const t=kv(this.apiClient,e);return l=Wf("{models_url}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["nextPageToken"]);null!=r&&Yf(t,["nextPageToken"],r);const o=Kf(e,["_self"]);if(null!=o){let e=sy(o);Array.isArray(e)&&(e=e.map(e=>Nv(e))),Yf(t,["models"],e)}return t}(e),n=new yg;return Object.assign(n,t),n})}}async update(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=qv(this.apiClient,e);return l=Wf("{model}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Pv(e))}{const t=Fv(this.apiClient,e);return l=Wf("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>Nv(e))}}async delete(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Kf(t,["model"]);return null!=r&&Yf(n,["_url","name"],Ug(e,r)),n}(this.apiClient,e);return l=Wf("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);return null!=n&&Yf(t,["sdkHttpResponse"],n),t}(e),n=new vg;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=Kf(t,["model"]);return null!=r&&Yf(n,["_url","name"],Ug(e,r)),n}(this.apiClient,e);return l=Wf("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);return null!=n&&Yf(t,["sdkHttpResponse"],n),t}(e),n=new vg;return Object.assign(n,t),n})}}async countTokens(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["_url","model"],Ug(e,r));const o=Kf(t,["contents"]);if(null!=o){let e=Kg(o);Array.isArray(e)&&(e=e.map(e=>e)),Yf(n,["contents"],e)}const i=Kf(t,["config"]);return null!=i&&iv(i,n),n}(this.apiClient,e);return l=Wf("{model}:countTokens",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["totalTokens"]);return null!=r&&Yf(t,["totalTokens"],r),t}(e),n=new bg;return Object.assign(n,t),n})}{const t=lv(this.apiClient,e);return l=Wf("{model}:countTokens",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["totalTokens"]);null!=r&&Yf(t,["totalTokens"],r);const o=Kf(e,["cachedContentTokenCount"]);return null!=o&&Yf(t,["cachedContentTokenCount"],o),t}(e),n=new bg;return Object.assign(n,t),n})}}async computeTokens(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["_url","model"],Ug(e,r));const o=Kf(t,["contents"]);if(null!=o){let e=Kg(o);Array.isArray(e)&&(e=e.map(e=>e)),Yf(n,["contents"],e)}return n}(this.apiClient,e);return o=Wf("{model}:computeTokens",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["tokensInfo"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["tokensInfo"],e)}return t}(e),n=new Eg;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=Cv(this.apiClient,e);return l=Wf("{model}:predictLongRunning",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>{const t=wv(e),n=new Sg;return Object.assign(n,t),n})}{const t=_v(this.apiClient,e);return l=Wf("{model}:predictLongRunning",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>{const t=Sv(e),n=new Sg;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hb extends Jf{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;n&&"httpOptions"in n&&(r=n.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async get(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;n&&"httpOptions"in n&&(r=n.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=Kf(e,["operationName"]);return null!=n&&Yf(t,["_url","operationName"],n),t}(e);return l=Wf("{operationName}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i}{const t=function(e){const t={},n=Kf(e,["operationName"]);return null!=n&&Yf(t,["_url","operationName"],n),t}(e);return l=Wf("{operationName}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i}}async fetchPredictVideosOperationInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e){const t={},n=Kf(e,["operationName"]);null!=n&&Yf(t,["operationName"],n);const r=Kf(e,["resourceName"]);return null!=r&&Yf(t,["_url","resourceName"],r),t}(e);return o=Wf("{resourceName}:fetchPredictOperation",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r}throw new Error("This method is only supported by the Vertex AI.")}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mb(e){const t={},n=Kf(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["mediaResolution"]);null!=n&&Yf(t,["mediaResolution"],n);const r=Kf(e,["codeExecutionResult"]);null!=r&&Yf(t,["codeExecutionResult"],r);const o=Kf(e,["executableCode"]);null!=o&&Yf(t,["executableCode"],o);const i=Kf(e,["fileData"]);null!=i&&Yf(t,["fileData"],function(e){const t={};if(void 0!==Kf(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Kf(e,["fileUri"]);null!=n&&Yf(t,["fileUri"],n);const r=Kf(e,["mimeType"]);null!=r&&Yf(t,["mimeType"],r);return t}(i));const l=Kf(e,["functionCall"]);null!=l&&Yf(t,["functionCall"],function(e){const t={},n=Kf(e,["id"]);null!=n&&Yf(t,["id"],n);const r=Kf(e,["args"]);null!=r&&Yf(t,["args"],r);const o=Kf(e,["name"]);null!=o&&Yf(t,["name"],o);if(void 0!==Kf(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==Kf(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const a=Kf(e,["functionResponse"]);null!=a&&Yf(t,["functionResponse"],a);const s=Kf(e,["inlineData"]);null!=s&&Yf(t,["inlineData"],function(e){const t={},n=Kf(e,["data"]);if(null!=n&&Yf(t,["data"],n),void 0!==Kf(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Kf(e,["mimeType"]);return null!=r&&Yf(t,["mimeType"],r),t}(s));const u=Kf(e,["text"]);null!=u&&Yf(t,["text"],u);const c=Kf(e,["thought"]);null!=c&&Yf(t,["thought"],c);const d=Kf(e,["thoughtSignature"]);null!=d&&Yf(t,["thoughtSignature"],d);const p=Kf(e,["videoMetadata"]);null!=p&&Yf(t,["videoMetadata"],p);return t}(e))),Yf(t,["parts"],e)}const r=Kf(e,["role"]);return null!=r&&Yf(t,["role"],r),t}function gb(e,t,n){const r=Kf(t,["expireTime"]);void 0!==n&&null!=r&&Yf(n,["expireTime"],r);const o=Kf(t,["newSessionExpireTime"]);void 0!==n&&null!=o&&Yf(n,["newSessionExpireTime"],o);const i=Kf(t,["uses"]);void 0!==n&&null!=i&&Yf(n,["uses"],i);const l=Kf(t,["liveConnectConstraints"]);void 0!==n&&null!=l&&Yf(n,["bidiGenerateContentSetup"],function(e,t){const n={},r=Kf(t,["model"]);null!=r&&Yf(n,["setup","model"],Ug(e,r));const o=Kf(t,["config"]);null!=o&&Yf(n,["config"],function(e,t){const n={},r=Kf(e,["generationConfig"]);void 0!==t&&null!=r&&Yf(t,["setup","generationConfig"],r);const o=Kf(e,["responseModalities"]);void 0!==t&&null!=o&&Yf(t,["setup","generationConfig","responseModalities"],o);const i=Kf(e,["temperature"]);void 0!==t&&null!=i&&Yf(t,["setup","generationConfig","temperature"],i);const l=Kf(e,["topP"]);void 0!==t&&null!=l&&Yf(t,["setup","generationConfig","topP"],l);const a=Kf(e,["topK"]);void 0!==t&&null!=a&&Yf(t,["setup","generationConfig","topK"],a);const s=Kf(e,["maxOutputTokens"]);void 0!==t&&null!=s&&Yf(t,["setup","generationConfig","maxOutputTokens"],s);const u=Kf(e,["mediaResolution"]);void 0!==t&&null!=u&&Yf(t,["setup","generationConfig","mediaResolution"],u);const c=Kf(e,["seed"]);void 0!==t&&null!=c&&Yf(t,["setup","generationConfig","seed"],c);const d=Kf(e,["speechConfig"]);void 0!==t&&null!=d&&Yf(t,["setup","generationConfig","speechConfig"],ey(d));const p=Kf(e,["thinkingConfig"]);void 0!==t&&null!=p&&Yf(t,["setup","generationConfig","thinkingConfig"],p);const f=Kf(e,["enableAffectiveDialog"]);void 0!==t&&null!=f&&Yf(t,["setup","generationConfig","enableAffectiveDialog"],f);const h=Kf(e,["systemInstruction"]);void 0!==t&&null!=h&&Yf(t,["setup","systemInstruction"],mb(Wg(h)));const m=Kf(e,["tools"]);if(void 0!==t&&null!=m){let e=ny(m);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Kf(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["functionDeclarations"],e)}if(void 0!==Kf(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=Kf(e,["googleSearchRetrieval"]);null!=r&&Yf(t,["googleSearchRetrieval"],r);const o=Kf(e,["computerUse"]);null!=o&&Yf(t,["computerUse"],o);const i=Kf(e,["fileSearch"]);null!=i&&Yf(t,["fileSearch"],i);const l=Kf(e,["codeExecution"]);null!=l&&Yf(t,["codeExecution"],l);if(void 0!==Kf(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=Kf(e,["googleMaps"]);null!=a&&Yf(t,["googleMaps"],function(e){const t={};if(void 0!==Kf(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=Kf(e,["enableWidget"]);null!=n&&Yf(t,["enableWidget"],n);return t}(a));const s=Kf(e,["googleSearch"]);null!=s&&Yf(t,["googleSearch"],function(e){const t={};if(void 0!==Kf(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==Kf(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=Kf(e,["timeRangeFilter"]);null!=n&&Yf(t,["timeRangeFilter"],n);return t}(s));const u=Kf(e,["urlContext"]);null!=u&&Yf(t,["urlContext"],u);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(ty(e)))),Yf(t,["setup","tools"],e)}const g=Kf(e,["sessionResumption"]);void 0!==t&&null!=g&&Yf(t,["setup","sessionResumption"],function(e){const t={},n=Kf(e,["handle"]);null!=n&&Yf(t,["handle"],n);if(void 0!==Kf(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(g));const y=Kf(e,["inputAudioTranscription"]);void 0!==t&&null!=y&&Yf(t,["setup","inputAudioTranscription"],y);const v=Kf(e,["outputAudioTranscription"]);void 0!==t&&null!=v&&Yf(t,["setup","outputAudioTranscription"],v);const b=Kf(e,["realtimeInputConfig"]);void 0!==t&&null!=b&&Yf(t,["setup","realtimeInputConfig"],b);const E=Kf(e,["contextWindowCompression"]);void 0!==t&&null!=E&&Yf(t,["setup","contextWindowCompression"],E);const S=Kf(e,["proactivity"]);void 0!==t&&null!=S&&Yf(t,["setup","proactivity"],S);if(void 0!==Kf(e,["explicitVadSignal"]))throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}(o,n));return n}(e,l));const a=Kf(t,["lockAdditionalFields"]);return void 0!==n&&null!=a&&Yf(n,["fieldMask"],a),{}}function yb(e,t){let n=null;const r=e.bidiGenerateContentSetup;if("object"==typeof r&&null!==r&&"setup"in r){const t=r.setup;"object"==typeof t&&null!==t?(e.bidiGenerateContentSetup=t,n=t):delete e.bidiGenerateContentSetup}else void 0!==r&&delete e.bidiGenerateContentSetup;const o=e.fieldMask;if(n){const r=function(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if("object"==typeof r&&null!=r&&Object.keys(r).length>0){const e=Object.keys(r).map(e=>`${n}.${e}`);t.push(...e)}else t.push(n)}return t.join(",")}(n);if(Array.isArray(null==t?void 0:t.lockAdditionalFields)&&0===(null==t?void 0:t.lockAdditionalFields.length))r?e.fieldMask=r:delete e.fieldMask;else if((null==t?void 0:t.lockAdditionalFields)&&t.lockAdditionalFields.length>0&&null!==o&&Array.isArray(o)&&o.length>0){const t=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let n=[];o.length>0&&(n=o.map(e=>t.includes(e)?`generationConfig.${e}`:e));const i=[];r&&i.push(r),n.length>0&&i.push(...n),i.length>0?e.fieldMask=i.join(","):delete e.fieldMask}else delete e.fieldMask}else null!==o&&Array.isArray(o)&&o.length>0?e.fieldMask=o.join(","):delete e.fieldMask;return e}class vb extends Jf{constructor(e){super(),this.apiClient=e}async create(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=function(e,t){const n={},r=Kf(t,["config"]);return null!=r&&Yf(n,["config"],gb(e,r,n)),n}(this.apiClient,e);o=Wf("auth_tokens",l._url),i=l._query,delete l.config,delete l._url,delete l._query;const a=yb(l,e.config);return r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bb(e){const t={},n=Kf(e,["name"]);null!=n&&Yf(t,["_url","name"],n);const r=Kf(e,["config"]);return null!=r&&function(e,t){const n=Kf(e,["force"]);void 0!==t&&null!=n&&Yf(t,["_query","force"],n)}(r,t),t}function Eb(e){const t={},n=Kf(e,["parent"]);null!=n&&Yf(t,["_url","parent"],n);const r=Kf(e,["config"]);return null!=r&&function(e,t){const n=Kf(e,["pageSize"]);void 0!==t&&null!=n&&Yf(t,["_query","pageSize"],n);const r=Kf(e,["pageToken"]);void 0!==t&&null!=r&&Yf(t,["_query","pageToken"],r)}(r,t),t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class Sb extends Jf{constructor(e){super(),this.apiClient=e,this.list=async e=>new Iy(ag.PAGED_ITEM_DOCUMENTS,t=>this.listInternal({parent:e.parent,config:t.config}),await this.listInternal(e),e)}async get(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=Kf(e,["name"]);return null!=n&&Yf(t,["_url","name"],n),t}(e);return o=Wf("{name}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const i=bb(e);r=Wf("{name}",i._url),o=i._query,delete i._url,delete i._query,await this.apiClient.request({path:r,queryParams:o,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}}async listInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Eb(e);return o=Wf("{parent}/documents",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["nextPageToken"]);null!=r&&Yf(t,["nextPageToken"],r);const o=Kf(e,["documents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["documents"],e)}return t}(e),n=new Ig;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wb extends Jf{constructor(e,t=new Sb(e)){super(),this.apiClient=e,this.documents=t,this.list=async(e={})=>new Iy(ag.PAGED_ITEM_FILE_SEARCH_STORES,e=>this.listInternal(e),await this.listInternal(e),e)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Vv(e);return o=Wf("fileSearchStores",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async get(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=Kf(e,["name"]);return null!=n&&Yf(t,["_url","name"],n),t}(e);return o=Wf("{name}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const i=Bv(e);r=Wf("{name}",i._url),o=i._query,delete i._url,delete i._query,await this.apiClient.request({path:r,queryParams:o,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}}async listInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Wv(e);return o=Wf("fileSearchStores",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["nextPageToken"]);null!=r&&Yf(t,["nextPageToken"],r);const o=Kf(e,["fileSearchStores"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["fileSearchStores"],e)}return t}(e),n=new Ag;return Object.assign(n,t),n})}}async uploadToFileSearchStoreInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=Kf(e,["fileSearchStoreName"]);null!=n&&Yf(t,["_url","file_search_store_name"],n);const r=Kf(e,["config"]);return null!=r&&Yv(r,t),t}(e);return o=Wf("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);return null!=n&&Yf(t,["sdkHttpResponse"],n),t}(e),n=new Og;return Object.assign(n,t),n})}}async importFile(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Jv(e);return o=Wf("{file_search_store_name}:importFile",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=$v(e),n=new kg;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let _b=function(){const{crypto:e}=globalThis;if(null==e?void 0:e.randomUUID)return _b=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(+e^n()&15>>+e/4).toString(16))};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function Cb(e){return"object"==typeof e&&null!==e&&("name"in e&&"AbortError"===e.name||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Tb=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e){try{if("[object Error]"===Object.prototype.toString.call(e)){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch(t){}try{return new Error(JSON.stringify(e))}catch(n){}}return new Error(e)};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ib extends Error{}class Ab extends Ib{constructor(e,t,n,r){super(`${Ab.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.error=t}static makeMessage(e,t,n){const r=(null==t?void 0:t.message)?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,r){if(!e||!r)return new kb({message:n,cause:Tb(t)});const o=t;return 400===e?new Nb(e,o,n,r):401===e?new Pb(e,o,n,r):403===e?new Rb(e,o,n,r):404===e?new Db(e,o,n,r):409===e?new Mb(e,o,n,r):422===e?new Lb(e,o,n,r):429===e?new Ub(e,o,n,r):e>=500?new jb(e,o,n,r):new Ab(e,o,n,r)}}class Ob extends Ab{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class kb extends Ab{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class xb extends kb{constructor({message:e}={}){super({message:null!=e?e:"Request timed out."})}}class Nb extends Ab{}class Pb extends Ab{}class Rb extends Ab{}class Db extends Ab{}class Mb extends Ab{}class Lb extends Ab{}class Ub extends Ab{}class jb extends Ab{}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fb=/^[a-z][a-z0-9+.-]*:/i;let qb=e=>(qb=Array.isArray,qb(e));const Gb=qb;const Hb="0.0.1";const zb=()=>{var e,t,n,r,o;const i="undefined"!=typeof Deno&&null!=Deno.build?"deno":"undefined"!=typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call(void 0!==globalThis.process?globalThis.process:0)?"node":"unknown";if("deno"===i)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hb,"X-Stainless-OS":Bb(Deno.build.os),"X-Stainless-Arch":Vb(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:null!==(t=null===(e=Deno.version)||void 0===e?void 0:e.deno)&&void 0!==t?t:"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hb,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===i)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hb,"X-Stainless-OS":Bb(null!==(n=globalThis.process.platform)&&void 0!==n?n:"unknown"),"X-Stainless-Arch":Vb(null!==(r=globalThis.process.arch)&&void 0!==r?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":null!==(o=globalThis.process.version)&&void 0!==o?o:"unknown"};const l=function(){if("undefined"==typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e){return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}}return null}();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hb,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hb,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const Vb=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",Bb=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let $b;function Jb(...e){const t=globalThis.ReadableStream;if(void 0===t)throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function Wb(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Jb({start(){},async pull(e){const{done:n,value:r}=await t.next();n?e.close():e.enqueue(r)},async cancel(){var e;await(null===(e=t.return)||void 0===e?void 0:e.call(t))}})}function Yb(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return(null==e?void 0:e.done)&&t.releaseLock(),e}catch(nS){throw t.releaseLock(),nS}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const Kb=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),Qb=()=>{var e;if("undefined"==typeof File){const{process:t}=globalThis,n="string"==typeof(null===(e=null==t?void 0:t.versions)||void 0===e?void 0:e.node)&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xb(e,t,n){return Qb(),new File(e,null!=t?t:"unknown_file",n)}const Zb=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer;
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function eE(e){var t,n,r,o,i;let l=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)l.push(e);else if(Zb(e))l.push(e instanceof Blob?e:await e.arrayBuffer());else{if(!(e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator])(e)){const t=null===(i=null==e?void 0:e.constructor)||void 0===i?void 0:i.name;throw new Error(`Unexpected data type: ${typeof e}${t?`; constructor: ${t}`:""}${function(e){if("object"!=typeof e||null===e)return"";const t=Object.getOwnPropertyNames(e);return`; props: [${t.map(e=>`"${e}"`).join(", ")}]`}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(e)}`)}try{for(var a,s=!0,u=qy(e);!(t=(a=await u.next()).done);s=!0){o=a.value,s=!1;const e=o;l.push(...await eE(e))}}catch(c){n={error:c}}finally{try{s||t||!(r=u.return)||await r.call(u)}finally{if(n)throw n.error}}}return l}class tE{constructor(e){this._client=e}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function nE(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}tE._key=[];const rE=Object.freeze(Object.create(null)),oE=((e=nE)=>function(t,...n){if(1===t.length)return t[0];let r=!1;const o=[],i=t.reduce((t,i,l)=>{var a,s,u;/[?#]/.test(i)&&(r=!0);const c=n[l];let d=(r?encodeURIComponent:e)(""+c);return l!==n.length&&(null==c||"object"==typeof c&&c.toString===(null===(u=Object.getPrototypeOf(null!==(s=Object.getPrototypeOf(null!==(a=c.hasOwnProperty)&&void 0!==a?a:rE))&&void 0!==s?s:rE))||void 0===u?void 0:u.toString))&&(d=c+"",o.push({start:t.length+i.length,length:d.length,error:`Value of type ${Object.prototype.toString.call(c).slice(8,-1)} is not a valid path parameter`})),t+i+(l===n.length?"":d)},""),l=i.split(/[?#]/,1)[0],a=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let s;for(;null!==(s=a.exec(l));)o.push({start:s.index,length:s[0].length,error:`Value "${s[0]}" can't be safely passed as a path parameter`});if(o.sort((e,t)=>e.start-t.start),o.length>0){let e=0;const t=o.reduce((t,n)=>{const r=" ".repeat(n.start-e),o="^".repeat(n.length);return e=n.start+n.length,t+r+o},"");throw new Ib(`Path parameters result in path with invalid segments:\n${o.map(e=>e.error).join("\n")}\n${i}\n${t}`)}return i})(nE);
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class iE extends tE{create(e,t){var n;const{api_version:r=this._client.apiVersion}=e,o=Ly(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new Ib("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Ib("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(oE`/${r}/interactions`,Object.assign(Object.assign({body:o},t),{stream:null!==(n=e.stream)&&void 0!==n&&n}))}delete(e,t={},n){const{api_version:r=this._client.apiVersion}=null!=t?t:{};return this._client.delete(oE`/${r}/interactions/${e}`,n)}cancel(e,t={},n){const{api_version:r=this._client.apiVersion}=null!=t?t:{};return this._client.post(oE`/${r}/interactions/${e}/cancel`,n)}get(e,t={},n){var r;const o=null!=t?t:{},{api_version:i=this._client.apiVersion}=o,l=Ly(o,["api_version"]);return this._client.get(oE`/${i}/interactions/${e}`,Object.assign(Object.assign({query:l},n),{stream:null!==(r=null==t?void 0:t.stream)&&void 0!==r&&r}))}}iE._key=Object.freeze(["interactions"]);class lE extends iE{}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let aE,sE;function uE(e){let t;return(null!=aE?aE:(t=new globalThis.TextEncoder,aE=t.encode.bind(t)))(e)}function cE(e){let t;return(null!=sE?sE:(t=new globalThis.TextDecoder,sE=t.decode.bind(t)))(e)}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dE{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(null==e)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?uE(e):e;this.buffer=function(e){let t=0;for(const o of e)t+=o.length;const n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}([this.buffer,t]);const n=[];let r;for(;null!=(r=pE(this.buffer,this.carriageReturnIndex));){if(r.carriage&&null==this.carriageReturnIndex){this.carriageReturnIndex=r.index;continue}if(null!=this.carriageReturnIndex&&(r.index!==this.carriageReturnIndex+1||r.carriage)){n.push(cE(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const e=null!==this.carriageReturnIndex?r.preceding-1:r.preceding,t=cE(this.buffer.subarray(0,e));n.push(t),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode("\n"):[]}}function pE(e,t){for(let n=null!=t?t:0;n<e.length;n++){if(10===e[n])return{preceding:n,index:n+1,carriage:!1};if(13===e[n])return{preceding:n,index:n+1,carriage:!0}}return null}function fE(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */dE.NEWLINE_CHARS=new Set(["\n","\r"]),dE.NEWLINE_REGEXP=/\r\n|[\n\r]/g;const hE={off:0,error:200,warn:300,info:400,debug:500},mE=(e,t,n)=>{var r,o;if(e)return r=hE,o=e,Object.prototype.hasOwnProperty.call(r,o)?e:void EE(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(hE))}`)};function gE(){}function yE(e,t,n){return!t||hE[e]>hE[n]?gE:t[e].bind(t)}const vE={error:gE,warn:gE,info:gE,debug:gE};let bE=new WeakMap;function EE(e){var t;const n=e.logger,r=null!==(t=e.logLevel)&&void 0!==t?t:"off";if(!n)return vE;const o=bE.get(n);if(o&&o[0]===r)return o[1];const i={error:yE("error",n,r),warn:yE("warn",n,r),info:yE("info",n,r),debug:yE("debug",n,r)};return bE.set(n,[r,i]),i}const SE=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([e,t])=>[e,"x-goog-api-key"===e.toLowerCase()||"authorization"===e.toLowerCase()||"cookie"===e.toLowerCase()||"set-cookie"===e.toLowerCase()?"***":t]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wE{constructor(e,t,n){this.iterator=e,this.controller=t,this.client=n}static fromSSEResponse(e,t,n){let r=!1;const o=n?EE(n):console;return new wE(function(){return Fy(this,arguments,function*(){var n,i,l,a;if(r)throw new Ib("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{try{for(var u,c=!0,d=qy(function(e,t){return Fy(this,arguments,function*(){var n,r,o,i;if(!e.body){if(t.abort(),void 0!==globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new Ib("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new Ib("Attempted to iterate over a response with no body")}const l=new _E,a=new dE,s=Yb(e.body);try{for(var u,c=!0,d=qy(function(e){return Fy(this,arguments,function*(){var t,n,r,o;let i=new Uint8Array;try{for(var l,a=!0,s=qy(e);!(t=(l=yield jy(s.next())).done);a=!0){o=l.value,a=!1;const e=o;if(null==e)continue;const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?uE(e):e;let n,r=new Uint8Array(i.length+t.length);for(r.set(i),r.set(t,i.length),i=r;-1!==(n=fE(i));)yield yield jy(i.slice(0,n)),i=i.slice(n)}}catch(u){n={error:u}}finally{try{a||t||!(r=s.return)||(yield jy(r.call(s)))}finally{if(n)throw n.error}}i.length>0&&(yield yield jy(i))})}(s));!(n=(u=yield jy(d.next())).done);c=!0){i=u.value,c=!1;const e=i;for(const t of a.decode(e)){const e=l.decode(t);e&&(yield yield jy(e))}}}catch(p){r={error:p}}finally{try{c||n||!(o=d.return)||(yield jy(o.call(d)))}finally{if(r)throw r.error}}for(const e of a.flush()){const t=l.decode(e);t&&(yield yield jy(t))}})}(e,t));!(n=(u=yield jy(d.next())).done);c=!0){a=u.value,c=!1;const e=a;if(!s)if(e.data.startsWith("[DONE]"))s=!0;else try{yield yield jy(JSON.parse(e.data))}catch(nS){throw o.error("Could not parse message into JSON:",e.data),o.error("From chunk:",e.raw),nS}}}catch(p){i={error:p}}finally{try{c||n||!(l=d.return)||(yield jy(l.call(d)))}finally{if(i)throw i.error}}s=!0}catch(nS){if(Cb(nS))return yield jy(void 0);throw nS}finally{s||t.abort()}})},t,n)}static fromReadableStream(e,t,n){let r=!1;return new wE(function(){return Fy(this,arguments,function*(){var n,o,i,l;if(r)throw new Ib("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{try{for(var s,u=!0,c=qy(function(){return Fy(this,arguments,function*(){var t,n,r,o;const i=new dE,l=Yb(e);try{for(var a,s=!0,u=qy(l);!(t=(a=yield jy(u.next())).done);s=!0){o=a.value,s=!1;const e=o;for(const t of i.decode(e))yield yield jy(t)}}catch(c){n={error:c}}finally{try{s||t||!(r=u.return)||(yield jy(r.call(u)))}finally{if(n)throw n.error}}for(const e of i.flush())yield yield jy(e)})}());!(n=(s=yield jy(c.next())).done);u=!0){l=s.value,u=!1;const e=l;a||e&&(yield yield jy(JSON.parse(e)))}}catch(d){o={error:d}}finally{try{u||n||!(i=c.return)||(yield jy(i.call(c)))}finally{if(o)throw o.error}}a=!0}catch(nS){if(Cb(nS))return yield jy(void 0);throw nS}finally{a||t.abort()}})},t,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new wE(()=>r(e),this.controller,this.client),new wE(()=>r(t),this.controller,this.client)]}toReadableStream(){const e=this;let t;return Jb({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:n,done:r}=await t.next();if(r)return e.close();const o=uE(JSON.stringify(n)+"\n");e.enqueue(o)}catch(rS){e.error(rS)}},async cancel(){var e;await(null===(e=t.return)||void 0===e?void 0:e.call(t))}})}}class _E{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e,t){const n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),t,e.substring(n+t.length)];return[e,"",""]}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(e,":");return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}async function CE(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:o,startTime:i}=t,l=await(async()=>{var r;if(t.options.stream)return EE(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):wE.fromSSEResponse(n,t.controller,e);if(204===n.status)return null;if(t.options.__binaryResponse)return n;const o=n.headers.get("content-type"),i=null===(r=null==o?void 0:o.split(";")[0])||void 0===r?void 0:r.trim();if((null==i?void 0:i.includes("application/json"))||(null==i?void 0:i.endsWith("+json"))){return await n.json()}return await n.text()})();return EE(e).debug(`[${r}] response parsed`,SE({retryOfRequestLogID:o,url:n.url,status:n.status,body:l,durationMs:Date.now()-i})),l}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TE extends Promise{constructor(e,t,n=CE){super(e=>{e(null)}),this.responsePromise=t,this.parseResponse=n,this.client=e}_thenUnwrap(e){return new TE(this.client,this.responsePromise,async(t,n)=>e(await this.parseResponse(t,n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IE=Symbol("brand.privateNullableHeaders");function*AE(e){if(!e)return;if(IE in e){const{values:t,nulls:n}=e;yield*t.entries();for(const e of n)yield[e,null];return}let t,n=!1;e instanceof Headers?t=e.entries():Gb(e)?t=e:(n=!0,t=Object.entries(null!=e?e:{}));for(let r of t){const e=r[0];if("string"!=typeof e)throw new TypeError("expected header name to be a string");const t=Gb(r[1])?r[1]:[r[1]];let o=!1;for(const r of t)void 0!==r&&(n&&!o&&(o=!0,yield[e,null]),yield[e,r])}}const OE=e=>{const t=new Headers,n=new Set;for(const r of e){const e=new Set;for(const[o,i]of AE(r)){const r=o.toLowerCase();e.has(r)||(t.delete(o),e.add(r)),null===i?(t.delete(o),n.add(r)):(t.append(o,i),n.delete(r))}}return{[IE]:!0,values:t,nulls:n}},kE=e=>{var t,n,r,o,i,l;return void 0!==globalThis.process?null!==(r=null===(n=null===(t=zf)||void 0===t?void 0:t[e])||void 0===n?void 0:n.trim())&&void 0!==r?r:void 0:void 0!==globalThis.Deno?null===(l=null===(i=null===(o=globalThis.Deno.env)||void 0===o?void 0:o.get)||void 0===i?void 0:i.call(o,e))||void 0===l?void 0:l.trim():void 0};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
var xE;class NE{constructor(e){var t,n,r,o,i,l,a,{baseURL:s=kE("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:u=(null!==(t=kE("GEMINI_API_KEY"))&&void 0!==t?t:null),apiVersion:c="v1beta"}=e,d=Ly(e,["baseURL","apiKey","apiVersion"]);const p=Object.assign(Object.assign({apiKey:u,apiVersion:c},d),{baseURL:s||"https://generativelanguage.googleapis.com"});this.baseURL=p.baseURL,this.timeout=null!==(n=p.timeout)&&void 0!==n?n:NE.DEFAULT_TIMEOUT,this.logger=null!==(r=p.logger)&&void 0!==r?r:console;const f="warn";this.logLevel=f,this.logLevel=null!==(i=null!==(o=mE(p.logLevel,"ClientOptions.logLevel",this))&&void 0!==o?o:mE(kE("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))&&void 0!==i?i:f,this.fetchOptions=p.fetchOptions,this.maxRetries=null!==(l=p.maxRetries)&&void 0!==l?l:2,this.fetch=null!==(a=p.fetch)&&void 0!==a?a:
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function(){if("undefined"!=typeof fetch)return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}(),this.encoder=Kb,this._options=p,this.apiKey=u,this.apiVersion=c,this.clientAdapter=p.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return"https://generativelanguage.googleapis.com"!==this.baseURL}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!e.has("authorization")&&!e.has("x-goog-api-key")&&!(this.apiKey&&e.get("x-goog-api-key")||t.has("x-goog-api-key")))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const t=OE([e.headers]);if(!t.values.has("authorization")&&!t.values.has("x-goog-api-key"))return this.apiKey?OE([{"x-goog-api-key":this.apiKey}]):this.clientAdapter.isVertexAI()?OE([await this.clientAdapter.getAuthHeaders()]):void 0}stringifyQuery(e){return Object.entries(e).filter(([e,t])=>void 0!==t).map(([e,t])=>{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new Ib(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Hb}`}defaultIdempotencyKey(){return`stainless-node-retry-${_b()}`}makeStatusError(e,t,n,r){return Ab.generate(e,t,n,r)}buildURL(e,t,n){const r=!this.baseURLOverridden()&&n||this.baseURL,o=(e=>Fb.test(e))(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return function(e){if(!e)return!0;for(const t in e)return!1;return!0}(i)||(t=Object.assign(Object.assign({},i),t)),"object"==typeof t&&t&&!Array.isArray(t)&&(o.search=this.stringifyQuery(t)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:n}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then(n=>Object.assign({method:e,path:t},n)))}request(e,t=null){return new TE(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,n){var r,o,i;const l=await e,a=null!==(r=l.maxRetries)&&void 0!==r?r:this.maxRetries;null==t&&(t=a),await this.prepareOptions(l);const{req:s,url:u,timeout:c}=await this.buildRequest(l,{retryCount:a-t});await this.prepareRequest(s,{url:u,options:l});const d="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),p=void 0===n?"":`, retryOf: ${n}`,f=Date.now();if(EE(this).debug(`[${d}] sending request`,SE({retryOfRequestLogID:n,method:l.method,url:u,options:l,headers:s.headers})),null===(o=l.signal)||void 0===o?void 0:o.aborted)throw new Ob;const h=new AbortController,m=await this.fetchWithTimeout(u,s,c,h).catch(Tb),g=Date.now();if(m instanceof globalThis.Error){const e=`retrying, ${t} attempts remaining`;if(null===(i=l.signal)||void 0===i?void 0:i.aborted)throw new Ob;const r=Cb(m)||/timed? ?out/i.test(String(m)+("cause"in m?String(m.cause):""));if(t)return EE(this).info(`[${d}] connection ${r?"timed out":"failed"} - ${e}`),EE(this).debug(`[${d}] connection ${r?"timed out":"failed"} (${e})`,SE({retryOfRequestLogID:n,url:u,durationMs:g-f,message:m.message})),this.retryRequest(l,t,null!=n?n:d);if(EE(this).info(`[${d}] connection ${r?"timed out":"failed"} - error; no more retries left`),EE(this).debug(`[${d}] connection ${r?"timed out":"failed"} (error; no more retries left)`,SE({retryOfRequestLogID:n,url:u,durationMs:g-f,message:m.message})),r)throw new xb;throw new kb({cause:m})}const y=`[${d}${p}] ${s.method} ${u} ${m.ok?"succeeded":"failed"} with status ${m.status} in ${g-f}ms`;if(!m.ok){const e=await this.shouldRetry(m);if(t&&e){const e=`retrying, ${t} attempts remaining`;return await async function(e){var t,n;if(null===e||"object"!=typeof e)return;if(e[Symbol.asyncIterator])return void(await(null===(n=(t=e[Symbol.asyncIterator]()).return)||void 0===n?void 0:n.call(t)));const r=e.getReader(),o=r.cancel();r.releaseLock(),await o}(m.body),EE(this).info(`${y} - ${e}`),EE(this).debug(`[${d}] response error (${e})`,SE({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:g-f})),this.retryRequest(l,t,null!=n?n:d,m.headers)}const r=e?"error; no more retries left":"error; not retryable";EE(this).info(`${y} - ${r}`);const o=await m.text().catch(e=>Tb(e).message),i=(e=>{try{return JSON.parse(e)}catch(rS){return}})(o),a=i?void 0:o;EE(this).debug(`[${d}] response error (${r})`,SE({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,message:a,durationMs:Date.now()-f}));throw this.makeStatusError(m.status,i,a,m.headers)}return EE(this).info(y),EE(this).debug(`[${d}] response start`,SE({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:g-f})),{response:m,options:l,controller:h,requestLogID:d,retryOfRequestLogID:n,startTime:f}}async fetchWithTimeout(e,t,n,r){const o=t||{},{signal:i,method:l}=o,a=Ly(o,["signal","method"]);i&&i.addEventListener("abort",()=>r.abort());const s=setTimeout(()=>r.abort(),n),u=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||"object"==typeof a.body&&null!==a.body&&Symbol.asyncIterator in a.body,c=Object.assign(Object.assign(Object.assign({signal:r.signal},u?{duplex:"half"}:{}),{method:"GET"}),a);l&&(c.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,c)}finally{clearTimeout(s)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,n,r){var o;let i;const l=null==r?void 0:r.get("retry-after-ms");if(l){const e=parseFloat(l);Number.isNaN(e)||(i=e)}const a=null==r?void 0:r.get("retry-after");if(a&&!i){const e=parseFloat(a);i=Number.isNaN(e)?Date.parse(a)-Date.now():1e3*e}if(!(i&&0<=i&&i<6e4)){const n=null!==(o=e.maxRetries)&&void 0!==o?o:this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(t,n)}var s;return await(s=i,new Promise(e=>setTimeout(e,s))),this.makeRequest(e,t-1,n)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}async buildRequest(e,{retryCount:t=0}={}){var n,r,o;const i=Object.assign({},e),{method:l,path:a,query:s,defaultBaseURL:u}=i,c=this.buildURL(a,s,u);"timeout"in i&&((e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new Ib(`${e} must be an integer`);if(t<0)throw new Ib(`${e} must be a positive integer`)})("timeout",i.timeout),i.timeout=null!==(n=i.timeout)&&void 0!==n?n:this.timeout;const{bodyHeaders:d,body:p}=this.buildBody({options:i}),f=await this.buildHeaders({options:e,method:l,bodyHeaders:d,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:f},i.signal&&{signal:i.signal}),globalThis.ReadableStream&&p instanceof globalThis.ReadableStream&&{duplex:"half"}),p&&{body:p}),null!==(r=this.fetchOptions)&&void 0!==r?r:{}),null!==(o=i.fetchOptions)&&void 0!==o?o:{}),url:c,timeout:i.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:n,retryCount:r}){let o={};this.idempotencyHeader&&"get"!==t&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const i=await this.authHeaders(e);let l=OE([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),null!=$b?$b:$b=zb()),this._options.defaultHeaders,n,e.headers,i]);return this.validateHeaders(l),l.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const n=OE([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||"string"==typeof e&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:"object"==typeof e&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&"function"==typeof e.next)?{bodyHeaders:void 0,body:Wb(e)}:this.encoder({body:e,headers:n})}}NE.DEFAULT_TIMEOUT=6e4;class PE extends NE{constructor(){super(...arguments),this.interactions=new lE(this)}}function RE(e,t){const n={},r=Kf(e,["baseModel"]);null!=r&&Yf(n,["baseModel"],r);const o=Kf(e,["preTunedModel"]);null!=o&&Yf(n,["preTunedModel"],o);const i=Kf(e,["trainingDataset"]);null!=i&&function(e){const t={};if(void 0!==Kf(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==Kf(e,["vertexDatasetResource"]))throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=Kf(e,["examples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),Yf(t,["examples","examples"],e)}}(i);const l=Kf(e,["config"]);return null!=l&&function(e,t){const n={};if(void 0!==Kf(e,["validationDataset"]))throw new Error("validationDataset parameter is not supported in Gemini API.");const r=Kf(e,["tunedModelDisplayName"]);if(void 0!==t&&null!=r&&Yf(t,["displayName"],r),void 0!==Kf(e,["description"]))throw new Error("description parameter is not supported in Gemini API.");const o=Kf(e,["epochCount"]);void 0!==t&&null!=o&&Yf(t,["tuningTask","hyperparameters","epochCount"],o);const i=Kf(e,["learningRateMultiplier"]);if(null!=i&&Yf(n,["tuningTask","hyperparameters","learningRateMultiplier"],i),void 0!==Kf(e,["exportLastCheckpointOnly"]))throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==Kf(e,["preTunedModelCheckpointId"]))throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(void 0!==Kf(e,["adapterSize"]))throw new Error("adapterSize parameter is not supported in Gemini API.");const l=Kf(e,["batchSize"]);void 0!==t&&null!=l&&Yf(t,["tuningTask","hyperparameters","batchSize"],l);const a=Kf(e,["learningRate"]);if(void 0!==t&&null!=a&&Yf(t,["tuningTask","hyperparameters","learningRate"],a),void 0!==Kf(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");if(void 0!==Kf(e,["beta"]))throw new Error("beta parameter is not supported in Gemini API.")}(l,n),n}function DE(e,t){const n={},r=Kf(e,["baseModel"]);null!=r&&Yf(n,["baseModel"],r);const o=Kf(e,["preTunedModel"]);null!=o&&Yf(n,["preTunedModel"],o);const i=Kf(e,["trainingDataset"]);null!=i&&function(e,t,n){const r={};let o=Kf(n,["config","method"]);void 0===o&&(o="SUPERVISED_FINE_TUNING");if("SUPERVISED_FINE_TUNING"===o){const n=Kf(e,["gcsUri"]);void 0!==t&&null!=n&&Yf(t,["supervisedTuningSpec","trainingDatasetUri"],n)}else if("PREFERENCE_TUNING"===o){const n=Kf(e,["gcsUri"]);void 0!==t&&null!=n&&Yf(t,["preferenceOptimizationSpec","trainingDatasetUri"],n)}let i=Kf(n,["config","method"]);void 0===i&&(i="SUPERVISED_FINE_TUNING");if("SUPERVISED_FINE_TUNING"===i){const n=Kf(e,["vertexDatasetResource"]);void 0!==t&&null!=n&&Yf(t,["supervisedTuningSpec","trainingDatasetUri"],n)}else if("PREFERENCE_TUNING"===i){const n=Kf(e,["vertexDatasetResource"]);void 0!==t&&null!=n&&Yf(t,["preferenceOptimizationSpec","trainingDatasetUri"],n)}if(void 0!==Kf(e,["examples"]))throw new Error("examples parameter is not supported in Vertex AI.")}(i,n,t);const l=Kf(e,["config"]);return null!=l&&function(e,t,n){let r=Kf(n,["config","method"]);if(void 0===r&&(r="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===r){const n=Kf(e,["validationDataset"]);void 0!==t&&null!=n&&Yf(t,["supervisedTuningSpec"],FE(n))}else if("PREFERENCE_TUNING"===r){const n=Kf(e,["validationDataset"]);void 0!==t&&null!=n&&Yf(t,["preferenceOptimizationSpec"],FE(n))}const o=Kf(e,["tunedModelDisplayName"]);void 0!==t&&null!=o&&Yf(t,["tunedModelDisplayName"],o);const i=Kf(e,["description"]);void 0!==t&&null!=i&&Yf(t,["description"],i);let l=Kf(n,["config","method"]);if(void 0===l&&(l="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===l){const n=Kf(e,["epochCount"]);void 0!==t&&null!=n&&Yf(t,["supervisedTuningSpec","hyperParameters","epochCount"],n)}else if("PREFERENCE_TUNING"===l){const n=Kf(e,["epochCount"]);void 0!==t&&null!=n&&Yf(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],n)}let a=Kf(n,["config","method"]);if(void 0===a&&(a="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===a){const n=Kf(e,["learningRateMultiplier"]);void 0!==t&&null!=n&&Yf(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],n)}else if("PREFERENCE_TUNING"===a){const n=Kf(e,["learningRateMultiplier"]);void 0!==t&&null!=n&&Yf(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],n)}let s=Kf(n,["config","method"]);if(void 0===s&&(s="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===s){const n=Kf(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=n&&Yf(t,["supervisedTuningSpec","exportLastCheckpointOnly"],n)}else if("PREFERENCE_TUNING"===s){const n=Kf(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=n&&Yf(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],n)}let u=Kf(n,["config","method"]);if(void 0===u&&(u="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===u){const n=Kf(e,["adapterSize"]);void 0!==t&&null!=n&&Yf(t,["supervisedTuningSpec","hyperParameters","adapterSize"],n)}else if("PREFERENCE_TUNING"===u){const n=Kf(e,["adapterSize"]);void 0!==t&&null!=n&&Yf(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],n)}if(void 0!==Kf(e,["batchSize"]))throw new Error("batchSize parameter is not supported in Vertex AI.");if(void 0!==Kf(e,["learningRate"]))throw new Error("learningRate parameter is not supported in Vertex AI.");const c=Kf(e,["labels"]);void 0!==t&&null!=c&&Yf(t,["labels"],c);const d=Kf(e,["beta"]);void 0!==t&&null!=d&&Yf(t,["preferenceOptimizationSpec","hyperParameters","beta"],d)}(l,n,t),n}function ME(e,t){const n={},r=Kf(e,["config"]);return null!=r&&function(e,t){const n=Kf(e,["pageSize"]);void 0!==t&&null!=n&&Yf(t,["_query","pageSize"],n);const r=Kf(e,["pageToken"]);void 0!==t&&null!=r&&Yf(t,["_query","pageToken"],r);const o=Kf(e,["filter"]);void 0!==t&&null!=o&&Yf(t,["_query","filter"],o)}(r,n),n}function LE(e,t){const n={},r=Kf(e,["config"]);return null!=r&&function(e,t){const n=Kf(e,["pageSize"]);void 0!==t&&null!=n&&Yf(t,["_query","pageSize"],n);const r=Kf(e,["pageToken"]);void 0!==t&&null!=r&&Yf(t,["_query","pageToken"],r);const o=Kf(e,["filter"]);void 0!==t&&null!=o&&Yf(t,["_query","filter"],o)}(r,n),n}function UE(e,t){const n={},r=Kf(e,["sdkHttpResponse"]);null!=r&&Yf(n,["sdkHttpResponse"],r);const o=Kf(e,["name"]);null!=o&&Yf(n,["name"],o);const i=Kf(e,["state"]);null!=i&&Yf(n,["state"],oy(i));const l=Kf(e,["createTime"]);null!=l&&Yf(n,["createTime"],l);const a=Kf(e,["tuningTask","startTime"]);null!=a&&Yf(n,["startTime"],a);const s=Kf(e,["tuningTask","completeTime"]);null!=s&&Yf(n,["endTime"],s);const u=Kf(e,["updateTime"]);null!=u&&Yf(n,["updateTime"],u);const c=Kf(e,["description"]);null!=c&&Yf(n,["description"],c);const d=Kf(e,["baseModel"]);null!=d&&Yf(n,["baseModel"],d);const p=Kf(e,["_self"]);return null!=p&&Yf(n,["tunedModel"],function(e){const t={},n=Kf(e,["name"]);null!=n&&Yf(t,["model"],n);const r=Kf(e,["name"]);return null!=r&&Yf(t,["endpoint"],r),t}(p)),n}function jE(e,t){const n={},r=Kf(e,["sdkHttpResponse"]);null!=r&&Yf(n,["sdkHttpResponse"],r);const o=Kf(e,["name"]);null!=o&&Yf(n,["name"],o);const i=Kf(e,["state"]);null!=i&&Yf(n,["state"],oy(i));const l=Kf(e,["createTime"]);null!=l&&Yf(n,["createTime"],l);const a=Kf(e,["startTime"]);null!=a&&Yf(n,["startTime"],a);const s=Kf(e,["endTime"]);null!=s&&Yf(n,["endTime"],s);const u=Kf(e,["updateTime"]);null!=u&&Yf(n,["updateTime"],u);const c=Kf(e,["error"]);null!=c&&Yf(n,["error"],c);const d=Kf(e,["description"]);null!=d&&Yf(n,["description"],d);const p=Kf(e,["baseModel"]);null!=p&&Yf(n,["baseModel"],p);const f=Kf(e,["tunedModel"]);null!=f&&Yf(n,["tunedModel"],f);const h=Kf(e,["preTunedModel"]);null!=h&&Yf(n,["preTunedModel"],h);const m=Kf(e,["supervisedTuningSpec"]);null!=m&&Yf(n,["supervisedTuningSpec"],m);const g=Kf(e,["preferenceOptimizationSpec"]);null!=g&&Yf(n,["preferenceOptimizationSpec"],g);const y=Kf(e,["tuningDataStats"]);null!=y&&Yf(n,["tuningDataStats"],y);const v=Kf(e,["encryptionSpec"]);null!=v&&Yf(n,["encryptionSpec"],v);const b=Kf(e,["partnerModelTuningSpec"]);null!=b&&Yf(n,["partnerModelTuningSpec"],b);const E=Kf(e,["customBaseModel"]);null!=E&&Yf(n,["customBaseModel"],E);const S=Kf(e,["experiment"]);null!=S&&Yf(n,["experiment"],S);const w=Kf(e,["labels"]);null!=w&&Yf(n,["labels"],w);const _=Kf(e,["outputUri"]);null!=_&&Yf(n,["outputUri"],_);const C=Kf(e,["pipelineJob"]);null!=C&&Yf(n,["pipelineJob"],C);const T=Kf(e,["serviceAccount"]);null!=T&&Yf(n,["serviceAccount"],T);const I=Kf(e,["tunedModelDisplayName"]);null!=I&&Yf(n,["tunedModelDisplayName"],I);const A=Kf(e,["veoTuningSpec"]);return null!=A&&Yf(n,["veoTuningSpec"],A),n}function FE(e,t){const n={},r=Kf(e,["gcsUri"]);null!=r&&Yf(n,["validationDatasetUri"],r);const o=Kf(e,["vertexDatasetResource"]);return null!=o&&Yf(n,["validationDatasetUri"],o),n}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */xE=PE,PE.GeminiNextGenAPIClient=xE,PE.GeminiNextGenAPIClientError=Ib,PE.APIError=Ab,PE.APIConnectionError=kb,PE.APIConnectionTimeoutError=xb,PE.APIUserAbortError=Ob,PE.NotFoundError=Db,PE.ConflictError=Mb,PE.RateLimitError=Ub,PE.BadRequestError=Nb,PE.AuthenticationError=Pb,PE.InternalServerError=jb,PE.PermissionDeniedError=Rb,PE.UnprocessableEntityError=Lb,PE.toFile=async function(e,t,n){if(Qb(),(e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&Zb(e))(e=await e))return e instanceof File?e:Xb([await e.arrayBuffer()],e.name);if((e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob)(e)){const r=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Xb(await eE(r),t,n)}const r=await eE(e);if(t||(t=function(e){return("object"==typeof e&&null!==e&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}(e)),!(null==n?void 0:n.type)){const e=r.find(e=>"object"==typeof e&&"type"in e&&e.type);"string"==typeof e&&(n=Object.assign(Object.assign({},n),{type:e}))}return Xb(r,t,n)},PE.Interactions=lE;class qE extends Jf{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new Iy(ag.PAGED_ITEM_TUNING_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.get=async e=>await this.getInternal(e),this.tune=async e=>{var t;if(this.apiClient.isVertexAI()){if(e.baseModel.startsWith("projects/")){const n={tunedModelName:e.baseModel};(null===(t=e.config)||void 0===t?void 0:t.preTunedModelCheckpointId)&&(n.checkpointId=e.config.preTunedModelCheckpointId);const r=Object.assign(Object.assign({},e),{preTunedModel:n});return r.baseModel=void 0,await this.tuneInternal(r)}{const t=Object.assign({},e);return await this.tuneInternal(t)}}{const t=Object.assign({},e),n=await this.tuneMldevInternal(t);let r="";void 0!==n.metadata&&void 0!==n.metadata.tunedModel?r=n.metadata.tunedModel:void 0!==n.name&&n.name.includes("/operations/")&&(r=n.name.split("/operations/")[0]);return{name:r,state:Yh.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=Kf(e,["name"]);return null!=n&&Yf(t,["_url","name"],n),t}(e);return l=Wf("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>jE(e))}{const t=function(e){const t={},n=Kf(e,["name"]);return null!=n&&Yf(t,["_url","name"],n),t}(e);return l=Wf("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>UE(e))}}async listInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=LE(e);return l=Wf("tuningJobs",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["nextPageToken"]);null!=r&&Yf(t,["nextPageToken"],r);const o=Kf(e,["tuningJobs"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>jE(e))),Yf(t,["tuningJobs"],e)}return t}(e),n=new wg;return Object.assign(n,t),n})}{const t=ME(e);return l=Wf("tunedModels",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["nextPageToken"]);null!=r&&Yf(t,["nextPageToken"],r);const o=Kf(e,["tunedModels"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>UE(e))),Yf(t,["tuningJobs"],e)}return t}(e),n=new wg;return Object.assign(n,t),n})}}async cancel(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=Kf(e,["name"]);return null!=n&&Yf(t,["_url","name"],n),t}(e);return l=Wf("{name}:cancel",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);return null!=n&&Yf(t,["sdkHttpResponse"],n),t}(e),n=new _g;return Object.assign(n,t),n})}{const t=
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function(e){const t={},n=Kf(e,["name"]);return null!=n&&Yf(t,["_url","name"],n),t}(e);return l=Wf("{name}:cancel",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=Kf(e,["sdkHttpResponse"]);return null!=n&&Yf(t,["sdkHttpResponse"],n),t}(e),n=new _g;return Object.assign(n,t),n})}}async tuneInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=DE(e,e);return o=Wf("tuningJobs",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>jE(e))}throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=RE(e);return o=Wf("tunedModels",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>function(e){const t={},n=Kf(e,["sdkHttpResponse"]);null!=n&&Yf(t,["sdkHttpResponse"],n);const r=Kf(e,["name"]);null!=r&&Yf(t,["name"],r);const o=Kf(e,["metadata"]);null!=o&&Yf(t,["metadata"],o);const i=Kf(e,["done"]);null!=i&&Yf(t,["done"],i);const l=Kf(e,["error"]);return null!=l&&Yf(t,["error"],l),t}(e))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GE{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const HE="x-goog-upload-status";async function zE(e,t,n){var r,o;let i=0,l=0,a=new ug(new Response),s="upload";for(i=e.size;l<i;){const u=Math.min(8388608,i-l),c=e.slice(l,l+u);l+u>=i&&(s+=", finalize");let d=0,p=1e3;for(;d<3&&(a=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":s,"X-Goog-Upload-Offset":String(l),"Content-Length":String(u)}}}),!(null===(r=null==a?void 0:a.headers)||void 0===r?void 0:r[HE]));)d++,await VE(p),p*=2;if(l+=u,"active"!==(null===(o=null==a?void 0:a.headers)||void 0===o?void 0:o[HE]))break;if(i<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}function VE(e){return new Promise(t=>setTimeout(t,e))}class BE{async upload(e,t,n){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var r;const o=await zE(e,t,n),i=await(null==o?void 0:o.json());if("final"!==(null===(r=null==o?void 0:o.headers)||void 0===r?void 0:r[HE]))throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}(e,t,n)}async uploadToFileSearchStore(e,t,n){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var r;const o=await zE(e,t,n),i=await(null==o?void 0:o.json());if("final"!==(null===(r=null==o?void 0:o.headers)||void 0===r?void 0:r[HE]))throw new Error("Failed to upload file: Upload status is not finalized.");const l=nh(i),a=new Lg;return Object.assign(a,l),a}(e,t,n)}async stat(e){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e){return{size:e.size,type:e.type}}(e)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $E{create(e,t,n){return new JE(e,t,n)}}class JE{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.close()}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WE="x-goog-api-key";class YE{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(null===e.get(WE)){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(WE,this.apiKey)}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KE{get interactions(){if(void 0!==this._interactions)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;(null==e?void 0:e.extraBody)&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const t=new PE({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:null==e?void 0:e.timeout});return this._interactions=t.interactions,this._interactions}constructor(e){var t;if(null==e.apiKey)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!==(t=e.vertexai)&&void 0!==t&&t,this.apiKey=e.apiKey;const n=$f(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new YE(this.apiKey);this.apiClient=new Qv({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:"gl-node/web",uploader:new BE,downloader:new GE}),this.models=new fb(this.apiClient),this.live=new lb(this.apiClient,r,new $E),this.batches=new Ay(this.apiClient),this.chats=new Vy(this.models,this.apiClient),this.caches=new My(this.apiClient),this.files=new Wy(this.apiClient),this.operations=new hb(this.apiClient),this.authTokens=new vb(this.apiClient),this.tunings=new qE(this.apiClient),this.fileSearchStores=new wb(this.apiClient)}}const QE=e=>{console.error("Gemini API Error:",e);const t=e.message||"";return t.includes("leaked")?"###  API \n\nGoogle \n\n****\n1.  [Google AI Studio](https://aistudio.google.com/app/apikey) \n2. ****\n3.  GitHub  **Settings > Secrets > API_KEY**":t.includes("403")||t.includes("PERMISSION_DENIED")?"###   (403)\n\n AI  API  GitHub Secrets":t.includes("429")||t.includes("quota")?"###   (429)\n\n API  60 ":`###  \n\n${t||""}\n\n`},XE=e=>{if(!e)return"";const t=new Date(e),n=t.getMonth()+1,r=t.getDate(),o=["","","","","","","","","","","","",""];return n>0&&r>0?r<[20,19,20,20,21,21,22,23,23,23,22,21][n-1]?o[n-1]:o[n]:""},ZE=e=>{if(!e)return"";return["","","","","","","","","","","",""][((new Date(e).getFullYear()-4)%12+12)%12]},eS=()=>{var t,n,r,o,i,l;const[a,s]=e.useState(Hf.getInitialState()),[u,h]=e.useState("dashboard"),[m,g]=e.useState(null),[y,v]=e.useState(null),[b,E]=e.useState(!1),[S,w]=e.useState(!1),[_,C]=e.useState(!1),[T,I]=e.useState(""),[A,O]=e.useState(""),[k,N]=e.useState(""),[P,R]=e.useState(""),[D,M]=e.useState(!1);e.useEffect(()=>{if(!jf)return;const e=c(jf,async e=>{if(e){Hf.setMode(!0);const t=await Hf.loadState();s(n=>({...n,isLoggedIn:!0,currentUser:{id:e.uid,email:e.email||"",name:e.displayName||"",...(null==t?void 0:t.currentUser)||{}},accounts:(null==t?void 0:t.accounts)||n.accounts,transactions:(null==t?void 0:t.transactions)||n.transactions}))}});return()=>e()},[]);const L=async e=>{e.preventDefault(),M(!0),R("");try{if(_){const e=await d(jf,T,A);await p(e.user,{displayName:k})}else await f(jf,T,A)}catch(rS){R(rS.message)}finally{M(!1)}};return a.isLoggedIn?x.jsxs("div",{className:"flex min-h-screen bg-[#fcfdfe]",children:[x.jsx(Nf,{activeTab:u,setActiveTab:h,onLogout:()=>{null==jf||jf.signOut(),localStorage.clear(),s(Hf.getInitialState()),h("dashboard")},isDemoMode:a.isDemoMode,onToggleMode:()=>{}}),x.jsxs("main",{className:"flex-1 p-8 overflow-y-auto max-h-screen",children:[x.jsxs("header",{className:"mb-10 flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"dashboard"===u?"":"accounts"===u?"":"transactions"===u?"":"fortune"===u?"":"AI "}),x.jsxs("p",{className:"text-slate-400 text-sm font-medium mt-1",children:[", ",null==(t=a.currentUser)?void 0:t.name," "]})]}),x.jsxs("div",{className:"bg-white p-2 rounded-2xl border border-slate-100 flex items-center space-x-3 shadow-sm pr-6 hover:shadow-md transition-shadow",children:[x.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold",children:(null==(r=null==(n=a.currentUser)?void 0:n.name)?void 0:r.charAt(0))||"U"}),x.jsx("span",{className:"text-sm font-black text-slate-700",children:null==(o=a.currentUser)?void 0:o.name})]})]}),"dashboard"===u&&x.jsx(Rf,{state:a}),"accounts"===u&&x.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[x.jsxs("div",{className:"bg-white p-8 rounded-[2rem] shadow-sm border border-slate-100",children:[x.jsxs("h3",{className:"font-black text-slate-800 mb-6 flex items-center",children:[x.jsx("i",{className:"fa-solid fa-plus-circle text-blue-600 mr-2"})," "]}),x.jsxs("form",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",onSubmit:async e=>{e.preventDefault();const t=new FormData(e.currentTarget),n={id:Date.now().toString(),name:t.get("name"),bankName:t.get("bankName"),balance:Number(t.get("balance")),color:"bg-blue-600"},r={...a,accounts:[...a.accounts,n]};s(r),await Hf.saveState(r),e.currentTarget.reset()},children:[x.jsx("input",{type:"text",name:"name",required:!0,placeholder:" ()",className:"px-5 py-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-blue-500 outline-none"}),x.jsx("input",{type:"text",name:"bankName",required:!0,placeholder:"",className:"px-5 py-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-blue-500 outline-none"}),x.jsx("input",{type:"number",name:"balance",required:!0,placeholder:"",className:"px-5 py-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-blue-500 outline-none"}),x.jsx("button",{type:"submit",className:"bg-slate-900 hover:bg-slate-800 text-white font-black rounded-xl transition-all shadow-lg active:scale-95",children:""})]})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:a.accounts.map(e=>x.jsxs("div",{className:"bg-white p-8 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all group",children:[x.jsxs("div",{className:"flex justify-between items-start mb-4",children:[x.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-50 flex items-center justify-center group-hover:bg-blue-600 transition-colors",children:x.jsx("i",{className:"fa-solid fa-building-columns text-blue-600 group-hover:text-white"})}),x.jsx("span",{className:"text-xs font-black text-slate-400 bg-slate-50 px-3 py-1 rounded-full",children:e.bankName})]}),x.jsx("h4",{className:"font-black text-xl text-slate-800",children:e.name}),x.jsxs("p",{className:"text-3xl font-black text-slate-900 mt-4 tracking-tighter",children:["$",e.balance.toLocaleString()]})]},e.id))})]}),"transactions"===u&&x.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[x.jsxs("div",{className:"bg-white p-8 rounded-[2rem] border border-slate-100 shadow-sm",children:[x.jsxs("h3",{className:"font-black text-slate-800 mb-6 flex items-center",children:[x.jsx("i",{className:"fa-solid fa-pen-to-square text-emerald-600 mr-2"})," "]}),x.jsxs("form",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",onSubmit:e=>{e.preventDefault();const t=new FormData(e.currentTarget);(async e=>{const t={...a,transactions:[{...e,id:Date.now().toString()},...a.transactions]};s(t),await Hf.saveState(t)})({accountId:t.get("accountId"),categoryId:t.get("categoryId"),amount:Number(t.get("amount")),type:t.get("type"),date:t.get("date"),note:t.get("note")}),e.currentTarget.reset()},children:[x.jsxs("select",{name:"type",className:"px-4 py-3 rounded-xl border border-slate-200 outline-none",children:[x.jsx("option",{value:Pf.EXPENSE,children:" (-)"}),x.jsx("option",{value:Pf.INCOME,children:" (+)"})]}),x.jsx("select",{name:"accountId",className:"px-4 py-3 rounded-xl border border-slate-200 outline-none",children:a.accounts.map(e=>x.jsx("option",{value:e.id,children:e.name},e.id))}),x.jsx("input",{type:"number",name:"amount",required:!0,placeholder:"",className:"px-4 py-3 rounded-xl border border-slate-200 outline-none"}),x.jsx("input",{type:"date",name:"date",required:!0,defaultValue:(new Date).toISOString().split("T")[0],className:"px-4 py-3 rounded-xl border border-slate-200 outline-none"}),x.jsx("button",{type:"submit",className:"bg-emerald-600 hover:bg-emerald-700 text-white font-black rounded-xl transition-all shadow-lg active:scale-95",children:""})]})]}),x.jsx("div",{className:"bg-white rounded-[2rem] border border-slate-100 overflow-hidden shadow-sm",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-8 py-5 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:""}),x.jsx("th",{className:"px-8 py-5 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:""}),x.jsx("th",{className:"px-8 py-5 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:""}),x.jsx("th",{className:"px-8 py-5 text-right text-xs font-black text-slate-400 uppercase tracking-widest",children:""})]})}),x.jsx("tbody",{className:"divide-y divide-slate-50",children:a.transactions.map(e=>{var t;return x.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[x.jsx("td",{className:"px-8 py-5 text-slate-500 font-medium text-sm",children:e.date}),x.jsx("td",{className:"px-8 py-5 font-bold text-slate-800",children:e.note||""}),x.jsx("td",{className:"px-8 py-5",children:x.jsx("span",{className:"bg-slate-100 text-slate-600 px-3 py-1 rounded-lg text-xs font-bold",children:null==(t=a.accounts.find(t=>t.id===e.accountId))?void 0:t.name})}),x.jsxs("td",{className:"px-8 py-5 text-right font-black "+(e.type===Pf.INCOME?"text-emerald-600":"text-rose-600"),children:[e.type===Pf.INCOME?"+":"-","$",e.amount.toLocaleString()]})]},e.id)})})]})})]}),"fortune"===u&&x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-fadeIn",children:[x.jsxs("div",{className:"bg-[#111827] p-12 rounded-[3rem] text-white flex flex-col items-center justify-center text-center shadow-2xl relative overflow-hidden group",children:[x.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-indigo-900/30 to-purple-900/30 group-hover:opacity-80 transition-opacity"}),x.jsxs("div",{className:"relative z-10 w-full",children:[x.jsx("div",{className:"w-40 h-40 rounded-full bg-indigo-500/10 flex items-center justify-center mx-auto mb-10 shadow-[0_0_80px_rgba(99,102,241,0.3)] animate-float",children:x.jsx("i",{className:"fa-solid fa-crystal-ball text-7xl text-indigo-400 drop-shadow-[0_0_15px_rgba(165,180,252,0.8)]"})}),x.jsx("h3",{className:"text-4xl font-black mb-6 tracking-tighter",children:""}),x.jsx("p",{className:"text-slate-400 mb-10 text-lg font-medium leading-relaxed max-w-sm mx-auto",children:" AI "}),x.jsxs("div",{className:"space-y-4 w-full max-w-xs mx-auto",children:[x.jsx("input",{type:"date",defaultValue:null==(i=a.currentUser)?void 0:i.birthday,onChange:e=>{const t=e.target.value,n={...a.currentUser,birthday:t,zodiac:XE(t),chineseZodiac:ZE(t)};s({...a,currentUser:n})},className:"w-full bg-slate-800/50 border border-slate-700 rounded-2xl px-6 py-4 text-white text-center font-black outline-none focus:ring-4 focus:ring-indigo-500/30 transition-all cursor-pointer"}),x.jsxs("button",{onClick:async()=>{w(!0);const e=a.accounts.reduce((e,t)=>e+t.balance,0),t=await(async(e,t)=>{if(!e.birthday)return"###  \n\n";const n=new KE({apiKey:"AIzaSyDA6FIrYtlPIlawtS1i2OKo_Cf_Y52L7OQ"}),r=`\n  \n  - ${e.name}\n  - ${e.zodiac}\n  - ${e.chineseZodiac}\n  - $${t.toLocaleString()}\n  \n   Markdown \n  - ( 1-100 )\n  - \n  - ()\n  - \n  `;try{return(await n.models.generateContent({model:"gemini-3-flash-preview",contents:r})).text||""}catch(o){return QE(o)}})(a.currentUser,e);v(t),w(!1)},disabled:S||!(null==(l=a.currentUser)?void 0:l.birthday),className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 py-5 rounded-2xl font-black text-xl transition-all shadow-xl active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed group",children:[S?x.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-2"}):x.jsx("i",{className:"fa-solid fa-sparkles mr-2 group-hover:animate-spin"}),""]})]})]})]}),x.jsx("div",{className:"bg-white p-12 rounded-[3rem] border border-slate-100 shadow-sm min-h-[500px] overflow-y-auto",children:y?x.jsxs("div",{className:"prose prose-slate max-w-none prose-headings:text-slate-900 prose-headings:font-black",children:[x.jsxs("div",{className:"flex items-center space-x-3 text-indigo-600 font-black mb-8 border-b border-slate-100 pb-6 text-xl",children:[x.jsx("i",{className:"fa-solid fa-scroll-old"}),x.jsx("span",{children:""})]}),y.split("\n").map((e,t)=>e.trim().startsWith("###")||e.trim().startsWith("")?x.jsx("h4",{className:"text-2xl font-black text-slate-900 mt-8 mb-4 flex items-center",children:e.replace(/###||/g,"")},t):x.jsx("p",{className:"text-slate-600 text-lg leading-relaxed mb-4",children:e},t))]}):x.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-200 text-center",children:[x.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-dashed border-slate-100 flex items-center justify-center mb-6",children:x.jsx("i",{className:"fa-solid fa-moon-stars text-5xl"})}),x.jsxs("p",{className:"font-black text-xl text-slate-300",children:["...",x.jsx("br",{}),x.jsx("span",{className:"text-sm font-medium mt-2 block",children:""})]})]})})]}),"advice"===u&&x.jsxs("div",{className:"space-y-10 animate-fadeIn",children:[x.jsxs("div",{className:"bg-gradient-to-br from-blue-700 via-indigo-800 to-slate-900 p-16 rounded-[4rem] text-white shadow-2xl relative overflow-hidden",children:[x.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 transform translate-x-1/4 translate-y-1/4",children:x.jsx("i",{className:"fa-solid fa-robot text-[20rem]"})}),x.jsxs("div",{className:"relative z-10",children:[x.jsxs("div",{className:"inline-flex items-center px-5 py-2 rounded-full bg-white/10 backdrop-blur-xl border border-white/20 text-[10px] font-black uppercase tracking-[0.2em] mb-8",children:[x.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse mr-2"}),"Powered by Gemini 3.0 Pro"]}),x.jsx("h3",{className:"text-5xl font-black mb-6 tracking-tight",children:"AI "}),x.jsx("p",{className:"text-blue-100/70 mb-10 text-xl font-medium max-w-2xl leading-relaxed",children:""}),x.jsx("button",{onClick:async()=>{E(!0);const e=await(async(e,t,n)=>{const r=new KE({apiKey:"AIzaSyDA6FIrYtlPIlawtS1i2OKo_Cf_Y52L7OQ"}),o=n.reduce((e,t)=>e+t.balance,0),i=e.filter(e=>e.type===Pf.INCOME).reduce((e,t)=>e+t.amount,0),l=e.filter(e=>e.type===Pf.EXPENSE).reduce((e,t)=>e+t.amount,0),a=t.filter(e=>e.type===Pf.EXPENSE).map(t=>({name:t.name,amount:e.filter(e=>e.categoryId===t.id).reduce((e,t)=>e+t.amount,0)})).filter(e=>e.amount>0),s=` AI\n  ${n.length} \n  \n  - $${o.toLocaleString()}\n  - $${i.toLocaleString()}\n  - $${l.toLocaleString()}\n  - ${JSON.stringify(a)}\n  \n   Markdown \n  1. \n  2. \n  3. \n  `;try{return(await r.models.generateContent({model:"gemini-3-flash-preview",contents:s})).text||"AI "}catch(u){return QE(u)}})(a.transactions,a.categories,a.accounts);g(e),E(!1)},disabled:b,className:"bg-white text-blue-900 px-12 py-5 rounded-[2rem] font-black text-xl shadow-2xl hover:bg-slate-50 hover:scale-105 active:scale-95 transition-all flex items-center",children:b?x.jsxs(x.Fragment,{children:[x.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-3"})," ..."]}):x.jsxs(x.Fragment,{children:[x.jsx("i",{className:"fa-solid fa-wand-magic-sparkles mr-3"})," "]})})]})]}),m&&x.jsx("div",{className:"bg-white p-12 rounded-[4rem] shadow-sm border border-slate-100 animate-slideUp",children:x.jsx("div",{className:"prose prose-blue max-w-none",children:m.split("\n").map((e,t)=>{const n=e.startsWith("###")||e.startsWith("");return x.jsx("p",{className:n?"text-2xl font-black text-slate-900 mt-10 mb-6 flex items-center border-l-8 border-blue-600 pl-6 rounded-l":"text-slate-600 text-lg leading-loose mb-4",children:e.replace(/###/g,"")},t)})})})]})]}),x.jsx("style",{children:"\n        @keyframes float {\n          0%, 100% { transform: translateY(0); }\n          50% { transform: translateY(-10px); }\n        }\n        .animate-float { animation: float 4s ease-in-out infinite; }\n      "})]}):x.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:x.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-2xl p-10 animate-fadeIn",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("div",{className:"bg-blue-600 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 text-white text-3xl shadow-xl",children:x.jsx("i",{className:"fa-solid fa-wallet"})}),x.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"FinanceWise"}),x.jsx("p",{className:"text-slate-400 font-bold mt-2",children:""})]}),x.jsxs("form",{onSubmit:L,className:"space-y-4",children:[_&&x.jsx("input",{type:"text",required:!0,value:k,onChange:e=>N(e.target.value),className:"w-full px-5 py-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:""}),x.jsx("input",{type:"email",required:!0,value:T,onChange:e=>I(e.target.value),className:"w-full px-5 py-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:""}),x.jsx("input",{type:"password",required:!0,value:A,onChange:e=>O(e.target.value),className:"w-full px-5 py-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:""}),P&&x.jsx("p",{className:"text-rose-500 text-xs font-bold px-2",children:P}),x.jsx("button",{type:"submit",disabled:D,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-xl font-black shadow-lg shadow-blue-200 transition-all transform active:scale-95",children:D?x.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-2"}):_?"":""})]}),x.jsx("button",{onClick:()=>C(!_),className:"w-full mt-6 text-slate-400 text-sm font-bold hover:text-blue-600 transition-colors",children:_?"":""})]})})},tS=document.getElementById("root");if(!tS)throw new Error("Could not find root element to mount to");xf.createRoot(tS).render(x.jsx(h.StrictMode,{children:x.jsx(eS,{})}));
